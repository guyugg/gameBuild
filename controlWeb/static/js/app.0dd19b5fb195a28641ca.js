webpackJsonp([1],{"/OXB":function(t,e){},"0mhX":function(t,e){},"0uSM":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={props:{show:{type:Boolean,default:!1},overlay:{type:String,default:""}},data:function(){return{showing:!1}},methods:{getOverlay:function(t){var e={light:"overlay_light",dark:"overlay_dark",none:"overlay_none"};return""===t?e.light:e.hasOwnProperty(t)?e[t]:e.none}},watch:{show:function(t){this.showing=t}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.showing?n("div",{class:t.getOverlay(t.overlay)},[n("div",{staticClass:"w-loader"},[t._t("loader",[n("div",{staticClass:"sk-fading-circle"},[n("div",{staticClass:"sk-circle1 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle2 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle3 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle4 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle5 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle6 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle7 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle8 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle9 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle10 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle11 sk-circle"}),t._v(" "),n("div",{staticClass:"sk-circle12 sk-circle"})])])],2)]):t._e()])},staticRenderFns:[]};var r=n("VU/8")(a,s,!1,function(t){n("/OXB")},"data-v-749c61d6",null);e.default=r.exports},"1/1n":function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("Dd8w"),i=n.n(r),o=n("NYxO"),l=Object(o.a)("game_report"),c=l.mapGetters,u=(l.mapActions,{name:"player_table",props:["items"],data:function(){return{fields:[{key:"name",label:"玩家名稱",sortable:!0,class:"clickable"},{key:"rounds",label:"局數",sortable:!0,class:"text-center"},{key:"bet",label:"下注金額",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"result",label:"總輸贏",sortable:!0,class:"text-right"}],sort:"result",sortDesc:!0}},computed:i()({},c({startTime:"getStartTime",endTime:"getEndTime",currency:"getCurrency"})),methods:{getPlayerInfo:function(t){var e=this,n=[];n.push(this.$api.getPlayerGame(t.mid,this.startTime,this.endTime)),n.push(this.$api.getPlayerInfo(t.name)),s.a.all(n).then(function(t){return e.$emit("getPlayerInfo")}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!")})},resultTextColor:function(t){return t>=0?"text-success":"text-danger"}}}),d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"player_table"}},[n("b-table",{attrs:{hover:"","show-empty":"",stacked:"md",small:"",items:t.items,fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item)}}},[t._v(t._s(e.value))])]}},{key:"rounds",fn:function(e){return[t._v(t._s(e.value))]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v("\n                "+t._s(t._f("formatMoney")(e.value,t.currency))+"\n            ")])]}},{key:"HEAD_bet",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_win",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_result",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}}])})],1)},staticRenderFns:[]},m=n("VU/8")(u,d,!1,null,null,null);e.a=m.exports},"1AzD":function(t,e){},"1sAh":function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i=Object(r.a)("game_report"),o=i.mapGetters,l=(i.mapActions,{name:"list",data:function(){return{fields:[{key:"gid",label:"Gid",sortable:!0,class:"text-center gid-width"},{key:"gid_name",label:"遊戲名稱",sortable:!0},{key:"rounds",label:"局數",sortable:!0,class:"text-center clickable"},{key:"players",label:"遊玩人次",sortable:!0,class:"text-center clickable"},{key:"bet",label:"下注金額",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"result",label:"總輸贏",sortable:!0,class:"text-right"},{key:"expected",label:"期望值",class:"text-right"},{key:"profit",label:"獲利",class:"text-right"}],sort:"result",sortDesc:!0}},computed:s()({},o({items:"getItems",currency:"getCurrency",startTime:"getStartTime",endTime:"getEndTime"})),methods:{getPlayers:function(t){t.gid,this.currency,this.startTime,this.endTime;this.showPlayersModal(config.gid_name[t.gid]+"遊玩人次",[{name:"人員1",rounds:10,bet:100,win:200,result:100},{name:"人員2",rounds:10,bet:200,win:200,result:0},{name:"人員3",rounds:10,bet:300,win:200,result:-100}])},getRounds:function(t){var e={gid:t.gid,currency:this.currency,start_time:this.startTime,end_time:this.endTime,page:0,rows:25};this.showRoundsModal(config.gid_name[t.gid]+"局數",{list:[{id:0,time:"2019.09.09",name:"人員1",bet:10,win:10,result:0},{id:1,time:"2019.09.10",name:"人員2",bet:10,win:10,result:0}]},e)},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},expectedTextColor:function(t){return t>=98?"color: #dc3545":t<=94?"color: #93c47d":"color: #45818e"},profitTextColor:function(t){return t>=0?"text-danger":"text-success"},total:function(t){for(var e=0,n=0,a=this.items.length;n<a;n++)e+=this.items[n][t];return e},toExpectdValue:function(t){return t?0===t.item.win?0:0===t.item.bet?100:(t.item.win/t.item.bet*100).toFixed(2):t},averExpected:function(){if(0===this.items.length)return"";var t=this.total("win"),e=this.total("bet"),n=0;return(n+=0===t?0:0===e?100:t/e*100).toFixed(2)},toProfit:function(t){return t?(100-this.toExpectdValue(t)).toFixed(2):t},averProfit:function(){return 0===this.items.length?"":(100-this.averExpected()).toFixed(2)},showPlayersModal:function(t,e){this.$emit("showPlayersModal",{title:t,content:e})},showRoundsModal:function(t,e,n){this.$emit("showRoundsModal",{title:t,content:e,sendData:n})}},filters:{averWord:function(t){return t?"平均: "+t+"%":""}}}),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"p-2"},[n("b-table",{attrs:{"show-empty":"","foot-clone":"",bordered:"",hover:"",stacked:"md",small:"",items:t.items,fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"gid",fn:function(e){return[t._v(t._s(e.value))]}},{key:"gid_name",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.item.gid)))]}},{key:"rounds",fn:function(e){return[n("div",{on:{click:function(n){return t.getRounds(e.item)}}},[t._v(t._s(e.value))])]}},{key:"players",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayers(e.item)}}},[t._v(t._s(e.value))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))])]}},{key:"expected",fn:function(e){return[n("span",{style:t.expectedTextColor(t.toExpectdValue(e))},[t._v(t._s(t.toExpectdValue(e))+"%")])]}},{key:"profit",fn:function(e){return[n("span",{class:t.profitTextColor(t.toProfit(e))},[t._v(t._s(t.toProfit(e))+"%")])]}},{key:"HEAD_bet",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_win",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_result",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"FOOT_gid",fn:function(e){return[t._v("Total:")]}},{key:"FOOT_gid_name",fn:function(t){}},{key:"FOOT_rounds",fn:function(e){return[t._v("\n            "+t._s(t.total(e.column))+"\n        ")]}},{key:"FOOT_players",fn:function(e){return[t._v("\n            "+t._s(t.total(e.column))+"\n        ")]}},{key:"FOOT_bet",fn:function(e){return[t._v("\n            "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(e.column),t.currency),t.currency))+"\n        ")]}},{key:"FOOT_win",fn:function(e){return[t._v("\n            "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(e.column),t.currency),t.currency))+"\n        ")]}},{key:"FOOT_result",fn:function(e){return[n("span",{class:t.resultTextColor(t.total(e.column))},[t._v("\n                "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(e.column),t.currency),t.currency))+"\n            ")])]}},{key:"FOOT_expected",fn:function(e){return[n("span",{style:t.expectedTextColor(t.averExpected())},[t._v("\n                "+t._s(t._f("averWord")(t.averExpected()))+"\n            ")])]}},{key:"FOOT_profit",fn:function(e){return[n("span",{class:t.profitTextColor(t.averProfit())},[t._v("\n                "+t._s(t._f("averWord")(t.averProfit()))+"\n            ")])]}}])})],1)},staticRenderFns:[]},u=n("VU/8")(l,c,!1,null,null,null);e.a=u.exports},"2q9L":function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("批次修改")]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-form-group",[n("b-form-checkbox",{staticClass:"mb-3",on:{change:t.toggleAll},model:{value:t.selectAll,callback:function(e){t.selectAll=e},expression:"selectAll"}},[t._v(t._s(t.selectAll?"清除":"全選"))]),t._v(" "),n("b-list-group",t._l(t.gameList,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between",attrs:{button:""},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.pushGid(e.gid)}}},[n("b-form-checkbox",{attrs:{checked:t.gid.indexOf(e.gid)>-1}},[t._v(t._s(e.name))]),t._v(" "),n("div",[n("span",{class:t.textColor(e.status)},[t._v("狀態: "+t._s(t._f("gameListStatus")(e.status))+",")]),t._v(" "),n("span",{class:t.textColor(e.fun)},[t._v("試玩: "+t._s(t._f("haveFun")(e.fun)))])])],1)}),1)],1)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-dropdown",{attrs:{variant:"link","no-caret":""}},[n("template",{slot:"button-content"},[n("span",[t._v("設定: "+t._s(t._f("groupSet")(t.set)))])]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.set=0}}},[t._v("狀態下架")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.set=1}}},[t._v("狀態開放")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.set=2}}},[t._v("無試玩")]),t._v(" "),n("b-dropdown-item",{on:{click:function(e){t.set=3}}},[t._v("有試玩")])],2),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("更改")])],1)])},staticRenderFns:[]};var s=n("VU/8")({props:["gameList","refresh"],mounted:function(){for(var t=this.gameList,e=0,n=t.length;e<n;e++)this.allGids.push(t[e].gid)},data:function(){return{set:0,gid:[],allGids:[],selectAll:!1}},methods:{toggleAll:function(t){this.gid=t?this.allGids.slice(0):[]},pushGid:function(t){var e=this.gid.indexOf(t);e>-1?this.gid.splice(e,1):this.gid.push(t)},edit:function(){if(this.gid.length){var t={gid:this.gid};0===this.set||1===this.set?t.status=this.set:t.fun=this.set-2,this.$api.showModalInfo("SUCCESS","更改成功"),this.$emit("close")}else this.$api.showModalInfo("ERROR","遊戲不得為空")},textColor:function(t){switch(t){case 0:return"text-danger";case 1:return"text-success";default:return""}}}},a,!1,function(t){n("vsey")},null,null).exports,r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("更改名稱")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[t._v("\n        名稱-繁體:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_tw,callback:function(e){t.$set(t.sendData,"name_tw",e)},expression:"sendData.name_tw"}}),t._v("\n        名稱-簡體:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_cn,callback:function(e){t.$set(t.sendData,"name_cn",e)},expression:"sendData.name_cn"}}),t._v("\n        名稱-英文:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_en,callback:function(e){t.$set(t.sendData,"name_en",e)},expression:"sendData.name_en"}}),t._v("\n        名稱-日文:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_jp,callback:function(e){t.$set(t.sendData,"name_jp",e)},expression:"sendData.name_jp"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("更改")])])])},staticRenderFns:[]};var i=n("VU/8")({props:["gid","refresh","old_data"],mounted:function(){this.sendData=this.old_data},data:function(){return{sendData:{name_tw:"",name_cn:"",name_en:"",name_jp:""}}},methods:{edit:function(){this.$api.showModalInfo("SUCCESS","更改成功"),this.$emit("close")}}},r,!1,function(t){n("xzXF")},null,null).exports,o=n("fZjL"),l=n.n(o),c={props:["refresh"],data:function(){return{statusOptions:[{value:"1",text:"開放"},{value:"0",text:"下架"}],funOptions:[{value:"1",text:"有"},{value:"0",text:"無"}],sendData:{gid:"",name_tw:"",name_cn:"",name_en:"",name_jp:"",status:"1",fun:"1"}}},methods:{edit:function(){for(var t=l()(this.sendData),e=0,n=t.length;e<n;e++)if(!this.sendData[t[e]])return void this.$api.showModalInfo("ERROR","欄位不得為空");this.$api.showModalInfo("SUCCESS","更改成功"),this.$emit("close")}}},u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("新增遊戲")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[t._v("\n        遊戲ID:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.gid,callback:function(e){t.$set(t.sendData,"gid",e)},expression:"sendData.gid"}}),t._v("\n        名稱-繁體:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_tw,callback:function(e){t.$set(t.sendData,"name_tw",e)},expression:"sendData.name_tw"}}),t._v("\n        名稱-簡體:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_cn,callback:function(e){t.$set(t.sendData,"name_cn",e)},expression:"sendData.name_cn"}}),t._v("\n        名稱-英文:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_en,callback:function(e){t.$set(t.sendData,"name_en",e)},expression:"sendData.name_en"}}),t._v("\n        名稱-日文:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.sendData.name_jp,callback:function(e){t.$set(t.sendData,"name_jp",e)},expression:"sendData.name_jp"}}),t._v("\n        狀態:\n        "),n("b-form-select",{staticStyle:{height:"100%"},attrs:{options:t.statusOptions},model:{value:t.sendData.status,callback:function(e){t.$set(t.sendData,"status",e)},expression:"sendData.status"}}),t._v("\n        試玩模式:\n        "),n("b-form-select",{staticStyle:{height:"100%"},attrs:{options:t.funOptions},model:{value:t.sendData.fun,callback:function(e){t.$set(t.sendData,"fun",e)},expression:"sendData.fun"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("新增")])])])},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(t){n("nlV2")},null,null).exports,m={created:function(){this.getGameList()},data:function(){return{gids:[],gameList:[],fields:[{key:"gid",label:"遊戲ID",sortable:!0,class:"text-center"},{key:"name",label:"名稱-繁體",sortable:!0,class:"text-center"},{key:"name_cn",label:"名稱-簡體",sortable:!0,class:"text-center"},{key:"name_en",label:"名稱-英文",sortable:!0,class:"text-center"},{key:"name_jp",label:"名稱-日文",sortable:!0,class:"text-center"},{key:"status",label:"狀態",sortable:!0,class:"text-center"},{key:"fun",label:"試玩模式",sortable:!0,class:"text-center"},{key:"updated_at",label:"資料更新時間",sortable:!0,class:"text-center"},{key:"actions",label:"選項",class:"text-center"}]}},methods:{getGameList:function(){this.gameList=[{gid:1234,name:"遊戲A",name_cn:"遊戲A",name_en:"遊戲A",name_jp:"遊戲A",status:0,fun:0,updated_at:"2019.08.08"},{gid:4321,name:"遊戲B",name_cn:"遊戲B",name_en:"遊戲B",name_jp:"遊戲B",status:1,fun:1,updated_at:"2019.08.08"},{gid:222,name:"遊戲A",name_cn:"遊戲A",name_en:"遊戲A",name_jp:"遊戲A",status:0,fun:0,updated_at:"2019.08.08"},{gid:33,name:"遊戲B",name_cn:"遊戲B",name_en:"遊戲B",name_jp:"遊戲B",status:1,fun:1,updated_at:"2019.08.08"},{gid:1,name:"遊戲A",name_cn:"遊戲A",name_en:"遊戲A",name_jp:"遊戲A",status:0,fun:0,updated_at:"2019.08.08"},{gid:4,name:"遊戲B",name_cn:"遊戲B",name_en:"遊戲B",name_jp:"遊戲B",status:1,fun:1,updated_at:"2019.08.08"},{gid:55,name:"遊戲A",name_cn:"遊戲A",name_en:"遊戲A",name_jp:"遊戲A",status:0,fun:0,updated_at:"2019.08.08"},{gid:66,name:"遊戲B",name_cn:"遊戲B",name_en:"遊戲B",name_jp:"遊戲B",status:1,fun:1,updated_at:"2019.08.08"}]},edit:function(t,e){this.$api.showModalInfo("SUCCESS","更改成功")},showAddModal:function(){this.$modal.show(d,{refresh:this.getGameList},{scrollable:!0,width:"80%",height:"auto"})},showEditModal:function(t){this.$modal.show(i,{gid:t.item.gid,refresh:this.getGameList,old_data:{name_tw:t.item.name,name_cn:t.item.name_cn,name_en:t.item.name_en,name_jp:t.item.name_jp}},{scrollable:!0,width:"80%",height:"auto"})},showEditGroupModal:function(){this.$modal.show(s,{gameList:this.gameList,refresh:this.getGameList},{scrollable:!0,width:"80%",height:"auto"})},textColor:function(t){switch(t){case 0:return"text-danger";case 1:return"text-success";default:return""}}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header"},[n("b-row",{staticClass:"m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("遊戲管理")])]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"10"}},[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons",staticStyle:{"font-size":"24px"},attrs:{title:"批次修改"},on:{click:t.showEditGroupModal}},[t._v("done_all")]),t._v(" "),n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons",staticStyle:{"font-size":"24px"},attrs:{title:"新增遊戲"},on:{click:t.showAddModal}},[t._v("add_box")])],1)],1)],1),t._v(" "),n("div",{staticClass:"m-2"},[n("b-table",{attrs:{hover:"","show-empty":"",stacked:"md",small:"",items:t.gameList,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"gid",fn:function(e){return[t._v(t._s(e.value))]}},{key:"name",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"name_cn",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"name_en",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"name_jp",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"status",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link","no-caret":""}},[n("template",{slot:"button-content"},[n("span",{class:t.textColor(e.value)},[t._v(t._s(t._f("gameListStatus")(e.value)))])]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.edit([e.item.gid],{status:1})}}},[t._v("開放")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.edit([e.item.gid],{status:0})}}},[t._v("下架")])],2)]}},{key:"fun",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link","no-caret":""}},[n("template",{slot:"button-content"},[n("span",{class:t.textColor(e.value)},[t._v(t._s(t._f("haveFun")(e.value)))])]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.edit([e.item.gid],{fun:1})}}},[t._v("有")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.edit([e.item.gid],{fun:0})}}},[t._v("無")])],2)]}},{key:"updated_at",fn:function(e){return[t._v(t._s(e.value))]}},{key:"actions",fn:function(e){return[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons",attrs:{title:"更改名稱"},on:{click:function(n){return t.showEditModal(e)}}},[t._v("edit")])]}}])})],1)])},staticRenderFns:[]};var p=n("VU/8")(m,f,!1,function(t){n("c4b6")},null,null);e.a=p.exports},"4UAX":function(t,e){},"4s/m":function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("Dd8w"),i=n.n(r),o=n("NYxO"),l=(n("tdoC"),Object(o.a)("game_report")),c=l.mapGetters,u=(l.mapActions,{name:"rounds_table",props:["items"],data:function(){return{fields:[{key:"id",label:"注單編號",class:"clickable"},{key:"time",label:"下注時間",class:"text-center"},{key:"name",label:"玩家名稱",class:"text-center clickable"},{key:"bet",label:"下注金額",class:"text-right"},{key:"win",label:"贏得金額",class:"text-right"},{key:"result",label:"總輸贏",class:"text-right"}]}},computed:i()({},c({startTime:"getStartTime",endTime:"getEndTime",currency:"getCurrency"})),methods:{getPlayerInfo:function(t){var e=this,n=[];n.push(this.$api.getPlayerGame(t.mid,this.startTime,this.endTime)),n.push(this.$api.getPlayerInfo(t.name)),s.a.all(n).then(function(t){return e.$emit("getPlayerInfo")}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!")})},getTicketUrl:function(t){},resultTextColor:function(t){return t>=0?"text-success":"text-danger"}}}),d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"rounds_table"}},[n("b-table",{attrs:{"show-empty":"",items:t.items,fields:t.fields,bordered:"","empty-text":"無資料"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("div",{on:{click:function(n){return t.getTicketUrl(e.item)}}},[t._v(t._s(e.value))])]}},{key:"time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item)}}},[t._v(t._s(e.value))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v("\n                "+t._s(t._f("formatMoney")(e.value,t.currency))+"\n            ")])]}},{key:"HEAD_bet",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_win",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}},{key:"HEAD_result",fn:function(e){return[t._v("\n            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n        ")]}}])})],1)},staticRenderFns:[]},m=n("VU/8")(u,d,!1,null,null,null);e.a=m.exports},"54c5":function(t,e,n){"use strict";var a=n("0nHL"),s=n("Nyrq"),r={created:function(){this.getGidOption()},data:function(){return{allSelected:!1,gameGroups:[],groupSelected:[],gidOptions:[],gid:[]}},watch:{gid:function(t){this.$emit("gidChange",this.gid)}},methods:{getGidOption:function(){var t=config.gid_name;this.gameGroups=config.gameGroups;for(var e=0,n=this.gameGroups.length;e<n;e++){for(var a=this.gameGroups[e].gid,s=[],r=0,i=a.length;r<i;r++){var o=a[r];s.push({value:o,text:t[o]||"未定義-"+o})}this.gidOptions.push(s),this.groupSelected.push(!1)}},toggleAll:function(t){this.gid=[];for(var e=0,n=this.groupSelected.length;e<n;e++)this.groupSelected[e]=!!t;if(t)for(var a=0,s=this.gidOptions.length;a<s;a++)for(var r=0,i=this.gidOptions[a].length;r<i;r++)this.gid.push(this.gidOptions[a][r].value)},toggleGroup:function(t,e){var n=this;if(t){var r=[];this.$subscribeTo(Object(a.a)(e).pipe(Object(s.c)(function(t){return n.gid.indexOf(t)<0}),Object(s.g)()),function(t){return r=t}),this.gid=this.gid.concat(r)}else this.$subscribeTo(Object(a.a)(e),function(t){var e=n.gid.indexOf(t);e>=0&&n.gid.splice(e,1)})}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-white border p-2"},[n("b-form-group",[n("b-form-checkbox",{on:{change:t.toggleAll},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}},[t._v("\n            "+t._s(t.allSelected?"清除":"全選")+"\n        ")])],1),t._v(" "),t._l(t.gameGroups,function(e,a){return n("b-form-group",{key:a},[n("b-form-checkbox",{on:{change:function(n){return t.toggleGroup(n,e.gid)}},model:{value:t.groupSelected[a],callback:function(e){t.$set(t.groupSelected,a,e)},expression:"groupSelected[key]"}},[t._v(t._s(e.name)+": ")]),t._v(" "),n("b-form-checkbox-group",{attrs:{options:t.gidOptions[a]},model:{value:t.gid,callback:function(e){t.gid=e},expression:"gid"}})],1)}),t._v(" "),n("b-row",{staticClass:"m-0"},[n("b-col",[t._v("已選取:"+t._s(t._f("toGidNameString")(t.gid)))])],1)],2)},staticRenderFns:[]},o=n("VU/8")(r,i,!1,null,null,null);e.a=o.exports},"7sA3":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("gCMD"),s=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,function(){return a[t]})}(r);var i=n("SrSY");var o=function(t){n("AVdg")},l=n("VU/8")(s.a,i.a,!1,o,null,null);e.default=l.exports},"7zwu":function(t,e){},"8Ibb":function(t,e){},"8KOR":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var a={ws:null,store:null,notify:null,shouldNotify:!0,init:function(t,e){this.store=t,this.notify=e},login:function(){this.store.commit("SETWSSTATUS",0)},reconnect:function(){2!==this.ws.readyState&&3!==this.ws.readyState||this.login()},popNotify:function(t){this.shouldNotify&&("process:alert"!==t.type&&"process:msg"!==t.type||this.notify({group:"server-noti",type:"process:alert"===t.type?"warn":"",title:t.agent+"-"+t.name,text:t.msg,duration:1e4}))},close:function(){this.ws&&this.ws.close()}}},"9M+g":function(t,e){},AVdg:function(t,e){},An1l:function(t,e){},BlnF:function(t,e){},Cyqe:function(t,e){},EqOz:function(t,e){},"FLx+":function(t,e){},G8JT:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i={name:"OsInfo",data:function(){return{}},created:function(){},computed:s()({},Object(r.d)({agentData:"getAgentData",target:"getTarget"})),methods:{}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{attrs:{"no-body":""}},[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{staticStyle:{"text-align":"left","font-size":"25px"},attrs:{cols:"11"}},[t._v(t._s(t.target)+" (簡介: "+t._s(t.agentData.os.intro)+")")]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{cols:"1"}},[n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"18px"},on:{click:function(e){return t.$emit("fresh")}}},[t._v("autorenew")])],1)],1),t._v(" "),n("b-card-body",[n("b-row",{staticClass:"m-0"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("主機名稱: "+t._s(t.agentData.os.info.hostname))]),t._v(" "),n("b-list-group-item",[t._v("啟動時間: "+t._s(t._f("timeDuration")(t.agentData.os.info.uptime)))]),t._v(" "),n("b-list-group-item",[t._v("OS類型: "+t._s(t.agentData.os.info.type))]),t._v(" "),n("b-list-group-item",[t._v("OS平台: "+t._s(t.agentData.os.info.platform))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("CPU架構: "+t._s(t.agentData.os.info.cpu_arch))]),t._v(" "),n("b-list-group-item",[t._v("CPU數量: "+t._s(t.agentData.os.monit.cpu_count))]),t._v(" "),n("b-list-group-item",[t._v("CPU使用: "+t._s((100*t.agentData.os.monit.cpu_use).toFixed(2))+"%")]),t._v(" "),n("b-list-group-item",[t._v("Node.js版本: "+t._s(t.agentData.os.info.node_ver))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("記憶體(總量): "+t._s(t._f("bitsToMB")(t.agentData.os.monit.mem_total))+"MB")]),t._v(" "),n("b-list-group-item",[t._v("記憶體(可用): "+t._s(t._f("bitsToMB")(t.agentData.os.monit.mem_free))+"MB")]),t._v(" "),n("b-list-group-item",[t._v("記憶體(已用): "+t._s(t._f("bitsToMB")(t.agentData.os.monit.mem_use))+"MB")])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("前1分鐘平均附載: "+t._s((100*t.agentData.os.monit.loadavg[0]).toFixed(2))+"%")]),t._v(" "),n("b-list-group-item",[t._v("前5分鐘平均附載: "+t._s((100*t.agentData.os.monit.loadavg[1]).toFixed(2))+"%")]),t._v(" "),n("b-list-group-item",[t._v("前15分鐘平均附載: "+t._s((100*t.agentData.os.monit.loadavg[2]).toFixed(2))+"%")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var l=n("VU/8")(i,o,!1,function(t){n("f8Ku")},null,null).exports,c=n("vLbJ"),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.action)+"參數輸入")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-input",{model:{value:t.triggerParam,callback:function(e){t.triggerParam=e},expression:"triggerParam"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.send()}}},[t._v("OK")])])])},staticRenderFns:[]};var d=n("VU/8")({props:["target","id","action"],data:function(){return{triggerParam:""}},methods:{send:function(){this.action,this.triggerParam,this.target,this.id,this.$api.showModalInfo("Success","執行成功"),this.$emit("close")}}},u,!1,function(t){n("Lo6l")},null,null).exports,m={name:"ListInfo",data:function(){return{fields:[{key:"id",label:"ID",sortable:!0,filterable:!0},{key:"name",label:"服務名稱",sortable:!0,filterable:!0},{key:"status",label:"服務狀態",sortable:!0,filterable:!0},{key:"exec_mode",label:"執行模式",sortable:!0,filterable:!0},{key:"up_time",label:"啟動時間",sortable:!0},{key:"cpu_use",label:"CPU使用",sortable:!0},{key:"mem_use",label:"記憶體用量",sortable:!0},{key:"instances",label:"服務個數",sortable:!0},{key:"restart_time",label:"重啟次數",sortable:!0},{key:"options",label:"選項"}],filterWord:null,filterTarget:null,triggerParam:"",refreshCount:0,refreshInterval:""}},created:function(){var t=this;this.refreshCount=10,this.refreshInterval=setInterval(function(){t.refreshCount--,0===t.refreshCount&&(t.refresh(),t.refreshCount=10)},1e3)},beforeDestroy:function(){clearInterval(this.refreshInterval)},computed:s()({},Object(r.d)({agentData:"getAgentData",target:"getTarget"}),{filterOptions:function(){return this.fields.filter(function(t){return t.filterable}).map(function(t){return{text:t.label,value:t.key}})},wordOptions:function(){return"status"===this.filterTarget?[{text:"執行中",value:"online"},{text:"已停止",value:"stopped"}]:"exec_mode"===this.filterTarget?[{text:"單緒模式",value:"fork_mode"},{text:"群集模式",value:"cluster_mode"}]:[]}}),methods:s()({},Object(r.c)(["updateOne","toggleDetails"]),{updatedCheck:function(t){return t?"d-flex justify-content-between "+t:"d-flex justify-content-between"},refresh:function(){},showDetailModal:function(t,e){this.$emit("showDetailModal",{title:t,content:e})},checkModal:function(t,e){var n=this;this.$modal.show(c.a,{title:"提示",content:"你確定要對"+t+"進行"+e+"嗎?",action:function(){return n.action(t,e)}},{scrollable:!0,width:"30%",height:"auto"})},action:function(t,e){"describe"===e?this.showDetailModal("服務資訊","xxxoooxxx"):this.$api.showModalInfo("Success","動作執行成功")},showTrigger:function(t,e){this.$modal.show(d,{target:this.target,id:t,action:e},{width:"30%",height:"auto"})},describeTrans:function(t){for(var e=this.fields,n=[],a=[],s=0,r=t.length;s<r;s++){for(var i=0,o=e.length;i<o-1;i++){var l=t[s][e[i].key],c=e[i].label;if("up_time"===e[i].key){var u=this.$options.filters.timeDuration(Date.now()-l,1e3);n.push(c+": "+u)}else n.push(c+": "+l)}n.push("詳細資訊:"),a.push({word:n,detail:t[s].detail,show:!1}),n=[]}return a},statusTextColor:function(t){switch(t){case"online":return"text-success";case"stopped":return"text-warning";case"errored":return"text-danger";default:return""}},modeTextColor:function(t){switch(t){case"fork_mode":return"text-secondary";case"cluster_mode":return"text-primary";default:return""}},shouldShow:function(t){var e="status"===this.filterTarget||"exec_mode"===this.filterTarget;return 0===t?!e:e},filter:function(t){return null===this.filterWord||""===this.filterWord||""===this.filterTarget||-1!==(""+t[this.filterTarget]).indexOf(this.filterWord,0)}})},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{attrs:{"no-body":"",id:"agent-list-info"}},[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{staticClass:"align-middle",attrs:{md:"10"}},[n("b-input-group",{staticStyle:{width:"700px",height:"100%"}},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("i",{staticClass:"material-icons align-middle"},[t._v("search")])]),t._v(" "),n("b-input-group-prepend",[n("b-form-select",{staticStyle:{width:"100%",height:"100%"},attrs:{options:t.filterOptions},on:{change:function(e){t.filterWord=""}},model:{value:t.filterTarget,callback:function(e){t.filterTarget=e},expression:"filterTarget"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("選擇篩選對象")])])],2)],1),t._v(" "),n("b-form-input",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow(0),expression:"shouldShow(0)"}],staticStyle:{height:"100%"},attrs:{placeholder:"Type to Search",disabled:null===t.filterTarget},model:{value:t.filterWord,callback:function(e){t.filterWord=e},expression:"filterWord"}}),t._v(" "),n("b-form-select",{directives:[{name:"show",rawName:"v-show",value:t.shouldShow(1),expression:"shouldShow(1)"}],staticStyle:{height:"100%"},attrs:{options:t.wordOptions},model:{value:t.filterWord,callback:function(e){t.filterWord=e},expression:"filterWord"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""},domProps:{value:""}},[t._v("選擇篩選對象")])])],2),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.filterWord},on:{click:function(e){t.filterWord=""}}},[t._v("Clear")])],1)],1)],1),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"2"}},[n("b-btn",{staticStyle:{"font-size":"18px"},on:{click:function(e){return t.refresh()}}},[t._v(t._s(t.refreshCount)+"秒後更新")]),t._v(" "),n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"18px"},on:{click:function(e){return t.$emit("showAddModal")}}},[t._v("add_box")])],1)],1),t._v(" "),n("b-table",{attrs:{"show-empty":"",hover:"",stacked:"md",items:t.agentData.list,fields:t.fields,"filter-function":t.filter},scopedSlots:t._u([{key:"id",fn:function(e){return[t._v(t._s(e.value))]}},{key:"name",fn:function(e){return[n("b-btn",{attrs:{variant:"link"},on:{click:function(n){return t.action(e.item.name,"describe")}}},[t._v(t._s(e.value))])]}},{key:"status",fn:function(e){return[n("span",{class:t.statusTextColor(e.item.status)},[t._v(t._s(t._f("status")(e.value)))])]}},{key:"exec_mode",fn:function(e){return[n("span",{class:t.modeTextColor(e.item.exec_mode)},[t._v(t._s(t._f("mode")(e.value)))])]}},{key:"up_time",fn:function(e){return[t._v(t._s(t._f("timeDuration")(Date.now()-e.value,1e3)))]}},{key:"cpu_use",fn:function(e){return[t._v(t._s(e.value)+"%")]}},{key:"mem_use",fn:function(e){return[t._v("\n            "+t._s(e.value)+"\n        ")]}},{key:"instances",fn:function(e){return[t._v(t._s(e.value))]}},{key:"restart_time",fn:function(e){return[t._v(t._s(e.value))]}},{key:"options",fn:function(e){return[n("b-btn",{staticClass:"toggle-btn-color",on:{click:function(n){return n.stopPropagation(),t.toggleDetails(e)}}},[n("i",{staticClass:"material-icons align-middle"},[t._v(t._s(e.detailsShowing?"expand_less":"expand_more"))])]),t._v(" "),n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"restart-btn-color",attrs:{title:"重啟服務"},on:{click:function(n){return t.checkModal(e.item.name,"restart")}}},[n("i",{staticClass:"material-icons align-middle"},[t._v("redo")])]),t._v(" "),n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"stop-btn-color",attrs:{title:"停止服務"},on:{click:function(n){return t.checkModal(e.item.name,"stop")}}},[n("i",{staticClass:"material-icons align-middle"},[t._v("block")])]),t._v(" "),n("b-dropdown",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{right:"",title:"其他選項"}},[n("b-dropdown-item",{on:{click:function(n){return t.checkModal(e.item.name,"reload")}}},[t._v("重新讀取")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.checkModal(e.item.name,"delete")}}},[t._v("刪除服務")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.$emit("showSendMsg",e.item.id)}}},[t._v("傳送訊息")])],1)]}},{key:"row-details",fn:function(e){return[e.item._showDetails?n("b-list-group",{attrs:{flush:""}},[n("b-row",{staticClass:"m-0"},[n("b-col",[n("h4",{staticClass:"text-center"},[t._v("自定義指標")]),t._v(" "),t._l(e.item.monitors,function(e,a){return n("b-list-group-item",{key:a,class:t.updatedCheck(e.isUpdated)},[n("span",[t._v(t._s(e.name)+":")]),t._v(t._s(e.val)+"\n                        ")])})],2),t._v(" "),n("b-col",[n("h4",{staticClass:"text-center"},[t._v("自定義事件")]),t._v(" "),n("div",t._l(e.item.actions,function(a,s){return n("b-btn",{key:s,staticClass:"mr-1",attrs:{variant:"primary"},on:{click:function(n){return t.showTrigger(e.item.id,a.name)}}},[t._v(t._s(a.name))])}),1)])],1)],1):t._e()]}}])})],1)},staticRenderFns:[]};var p=n("VU/8")(m,f,!1,function(t){n("TZuq")},null,null).exports,v={name:"ModalAdd",data:function(){return{showInstances:!1,addData:{name:"",script:"",autorestart:!0,instances:0,max_memory:"",env:{}},memUnit:"M",envKey:[],envVaule:[]}},computed:s()({},Object(r.d)({target:"getTarget",agentData:"getAgentData"})),created:function(){},methods:s()({},Object(r.c)(["updateOne"]),{addEnv:function(){this.envKey.push(""),this.envVaule.push("")},removeEnv:function(t){this.envKey.splice(t,1),this.envVaule.splice(t,1)},clearAddData:function(){this.addData={name:"",script:"",autorestart:!0,instances:0,max_memory:"",env:{}},this.showInstances=!1,this.memUnit="M",this.envKey=[],this.envVaule=[]},addProc:function(){for(var t=0,e=this.envKey.length;t<e;t++)this.addData.env[this.envKey[t]]=this.envVaule[t];this.addData.max_memory=this.addData.max_memory?""+this.addData.max_memory+this.memUnit:"",this.addData.name=this.target,this.$api.showModalInfo("新增結果","新增服務xoxoxox"),this.clearAddData(),this.$modal.hide("modalAdd")}})},h={render:function(){var t=this,e=this,n=e.$createElement,a=e._self._c||n;return a("modal",{attrs:{name:"modalAdd",width:"30%",height:"auto",scrollable:""}},[a("div",{staticClass:"border h-100"},[a("header",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title"},[e._v("建立新服務")]),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(t){return e.$modal.hide("modalAdd")}}},[e._v("×")])]),e._v(" "),a("div",{staticClass:"modal-body"},[a("form",[e._v("\n                服務名稱:\n                "),a("b-form-input",{attrs:{type:"text"},model:{value:e.addData.name,callback:function(t){e.$set(e.addData,"name",t)},expression:"addData.name"}}),e._v("\n                JS檔案路徑:\n                "),a("b-input-group",{attrs:{prepend:e.agentData.root_path}},[a("b-form-input",{attrs:{type:"text"},model:{value:e.addData.script,callback:function(t){e.$set(e.addData,"script",t)},expression:"addData.script"}})],1),e._v("\n                記憶體重啟最大限制:\n                "),a("b-input-group",[a("b-form-input",{attrs:{type:"text"},model:{value:e.addData.max_memory,callback:function(t){e.$set(e.addData,"max_memory",t)},expression:"addData.max_memory"}}),e._v(" "),a("b-input-group-append",[a("b-form-select",{model:{value:e.memUnit,callback:function(t){e.memUnit=t},expression:"memUnit"}},[a("option",{attrs:{value:"K"}},[e._v("K")]),e._v(" "),a("option",{attrs:{value:"M"}},[e._v("M")]),e._v(" "),a("option",{attrs:{value:"G"}},[e._v("G")])])],1)],1),e._v(" "),a("b-form-group",[a("template",{slot:"label"},[e._v("\n                            設定:\n                        ")]),e._v(" "),a("b-row",[a("b-col",[a("b-input-group",[a("b-input-group-prepend",{attrs:{"is-text":""}},[a("b-form-checkbox",{model:{value:e.addData.autorestart,callback:function(t){e.$set(e.addData,"autorestart",t)},expression:"addData.autorestart"}},[e._v("\n                                        是否自動重啟\n                                    ")]),e._v(" "),a("b-form-checkbox",{on:{change:function(e){t.addData.instances=e?1:0}},model:{value:e.showInstances,callback:function(t){e.showInstances=t},expression:"showInstances"}},[e._v("\n                                        是否群集模式\n                                    ")])],1),e._v(" "),a("b-form-input",{directives:[{name:"show",rawName:"v-show",value:e.showInstances,expression:"showInstances"}],attrs:{type:"number",min:"1"},model:{value:e.addData.instances,callback:function(t){e.$set(e.addData,"instances",e._n(t))},expression:"addData.instances"}})],1)],1)],1)],2),e._v(" "),a("b-form-group",[a("template",{slot:"label"},[e._v("\n                            環境變數:\n                            "),a("b-btn",{staticClass:"material-icons mr-1",staticStyle:{height:"100%"},on:{click:e.addEnv}},[e._v("add_box")])],1),e._v(" "),e._l(e.envKey,function(t,n){return a("b-row",{key:n,staticClass:"mt-1",attrs:{"align-v":"center"}},[a("b-col",{attrs:{md:"6"}},[a("b-input-group",{attrs:{prepend:"key"}},[a("b-form-input",{attrs:{type:"text"},model:{value:e.envKey[n],callback:function(t){e.$set(e.envKey,n,t)},expression:"envKey[key]"}})],1)],1),e._v(" "),a("b-col",{attrs:{md:"6"}},[a("b-input-group",{attrs:{prepend:"value"}},[a("b-form-input",{attrs:{type:"text"},model:{value:e.envVaule[n],callback:function(t){e.$set(e.envVaule,n,t)},expression:"envVaule[key]"}}),e._v(" "),a("b-btn",{staticClass:"material-icons ml-1",on:{click:function(t){return e.removeEnv(n)}}},[e._v("clear")])],1)],1)],1)})],2)],1)]),e._v(" "),a("footer",{staticClass:"modal-footer"},[a("b-btn",{on:{click:function(t){return e.$modal.hide("modalAdd")}}},[e._v("Cancel")]),e._v(" "),a("b-btn",{on:{click:e.addProc}},[e._v("OK")])],1)])])},staticRenderFns:[]};var _=n("VU/8")(v,h,!1,function(t){n("jWui")},null,null).exports,b={name:"ModalSend",data:function(){return{sendData:{action:"",detail:""}}},computed:s()({},Object(r.d)({id:"getSendId",target:"getTarget"})),created:function(){},methods:{clearSendData:function(){this.sendData={action:"",detail:""}},sendMsg:function(){this.sendData.name=this.target,this.sendData.id=this.id,this.$api.showModalInfo("傳送結果","傳送資訊: xxxxxx"),this.clearSendData(),this.$modal.hide("modalSend")}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"modalSend",width:"30%",height:"auto"}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("傳送訊息")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("modalSend")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",[t._v("\n                動作:\n                "),n("b-form-input",{attrs:{type:"text",placeholder:"Enter your action"},model:{value:t.sendData.action,callback:function(e){t.$set(t.sendData,"action",e)},expression:"sendData.action"}}),t._v("\n                訊息:\n                "),n("b-form-input",{attrs:{type:"text",placeholder:"Enter your detail"},model:{value:t.sendData.detail,callback:function(e){t.$set(t.sendData,"detail",e)},expression:"sendData.detail"}})],1)]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$modal.hide("modalSend")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.sendMsg}},[t._v("OK")])],1)])])},staticRenderFns:[]};var y={name:"Process",components:{OsInfo:l,ListInfo:p,ModalAdd:_,ModalSend:n("VU/8")(b,g,!1,function(t){n("nKUQ")},null,null).exports},data:function(){return{detailInfo:{title:"",content:[]}}},created:function(){},computed:s()({},Object(r.d)({agentData:"getAgentData",target:"getTarget"})),methods:s()({fresh:function(t){this.target},showDetailModal:function(t){this.detailInfo.title=t.title,this.detailInfo.content=t.content,this.$modal.show("modalDetail")},showSendMsg:function(t){this.setSendId(t),this.$modal.show("modalSend")},showAddModal:function(){this.$modal.show("modalAdd")}},Object(r.c)(["refresh","setSendId"]))},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Process"}},[t.agentData.os?n("os-info",{on:{fresh:function(e){return t.fresh("os")}}}):t._e(),t._v(" "),t.agentData.list?n("list-info",{on:{fresh:function(e){return t.fresh("list")},showSendMsg:function(e){return t.showSendMsg(e)},showAddModal:function(e){return t.showAddModal()},showDetailModal:function(e){return t.showDetailModal(e)}}}):t._e(),t._v(" "),n("modal",{attrs:{name:"modalDetail",width:"50%",height:"auto"}},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.detailInfo.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("modalDetail")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},t._l(t.detailInfo.content,function(e,a){return n("div",{key:a},[t._l(e.word,function(e,a){return n("b-row",{key:a},[t._v("\n                    "+t._s(e)+"\n                ")])}),t._v(" "),n("b-row",{staticClass:"border-top border-bottom"},[e.show?n("pre",[t._v(t._s(e.detail))]):t._e(),t._v(" "),n("b-btn",{staticClass:"mx-auto w-100 bg-white border-0",on:{click:function(t){e.show=!e.show}}},[e.show?n("i",{staticClass:"material-icons text-secondary"},[t._v("expand_less")]):n("i",{staticClass:"material-icons text-secondary"},[t._v("expand_more")])])],1)],2)}),0),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$modal.hide("modalDetail")}}},[t._v("OK")])],1)]),t._v(" "),n("modal-add"),t._v(" "),n("modal-send")],1)},staticRenderFns:[]};var k={name:"AgentController",components:{Process:n("VU/8")(y,w,!1,function(t){n("vgPx")},null,null).exports},data:function(){return{showContent:!1}},computed:s()({},Object(r.d)({agent:"getAgent",agentData:"getAgentData",target:"getTarget"})),created:function(){this.showContent=!1,this.$api.getAgent()},methods:s()({queryAgentData:function(t){if(this.target!==t||!0!==this.showContent){this.showContent=!0,this.setTarget(t),this.setAgentData({list:[{id:0,name:"server",status:"online",exec_mode:"fork_mode",up_time:87878787,cpu_use:64,mem_use:50,instances:2,restart_time:500},{id:1,name:"server2",status:"stopped",exec_mode:"cluster_mode",up_time:87878787,cpu_use:64,mem_use:50,instances:2,restart_time:500},{id:2,name:"server3",status:"errored",exec_mode:"cluster_mode",up_time:87878787,cpu_use:64,mem_use:50,instances:2,restart_time:500}],os:{intro:"介紹",info:{hostname:"Agent1",uptime:"50000000",type:"linux",platform:"linux",cpu_arch:"intel",node_ver:"8.7"},monit:{cpu_count:4,cpu_use:.54,mem_total:10241024,mem_free:10241024,mem_use:10241024,loadavg:[.5,.4,.3]}}})}}},Object(r.c)(["setAgentData","setTarget"]))},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",{attrs:{id:"agentController"}},[n("b-col",{staticClass:"sideMenu scroll sidebar-color sticky-top"},t._l(t.agent,function(e,a){return n("b-row",{key:a},[n("b-btn",{on:{click:function(n){return t.queryAgentData(e)}}},[t._v("\n                "+t._s(e)+"\n            ")])],1)}),1),t._v(" "),n("b-col",{staticClass:"content"},[t.showContent?n("process"):t._e(),t._v(" "),t.showContent?t._e():n("h1",{staticStyle:{"text-align":"center"}},[t._v("選擇一個代理吧")])],1)],1)},staticRenderFns:[]};var C=n("VU/8")(k,x,!1,function(t){n("Laqr")},null,null);e.a=C.exports},Gz5D:function(t,e){},ICzA:function(t,e){},J7rB:function(t,e,n){"use strict";var a=n("woOf"),s=n.n(a),r=n("fZjL"),i=n.n(r),o=n("//Fk"),l=n.n(o),c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("JP發送")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-form-group",[t._v("\n            玩家:\n            "),n("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v("\n            幣別:\n            "),n("b-form-input",{attrs:{type:"text",disabled:""},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}}),t._v("\n            JP等級:\n            "),n("b-form-select",{staticStyle:{height:"100%"},attrs:{options:t.levels},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}}),t._v("\n            JP權重:\n            "),n("b-form-select",{staticStyle:{height:"100%"},attrs:{options:t.percentOptions},model:{value:t.percent,callback:function(e){t.percent=e},expression:"percent"}})],1)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.sendJp()}}},[t._v("OK")])])])},staticRenderFns:[]};var u=n("VU/8")({props:["name","mid","currency","percentOptions"],data:function(){return{level:"",percent:"",levels:[1,2,3,4]}},methods:{sendJp:function(){this.$emit("close"),this.level&&this.percent&&this.mid?this.currency?(this.level,this.currency,this.percent,this.mid,this.$api.showModalInfo("SUCCESS","發送成功")):this.$api.showModalInfo("ERROR","此玩家從未遊玩過"):this.$api.showModalInfo("ERROR","資料不得為空")}}},c,!1,function(t){n("wcRb")},null,null).exports,d=(n("tdoC"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("得獎細單")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("注單編號")]),t._v(t._s(t.rewardDetails.bet_id)+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("玩家")]),t._v(t._s(t.rewardDetails.player)+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("類型")]),t._v(t._s(t._f("toJpType")(t.rewardDetails.type))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("狀態")]),t._v(t._s(t._f("jpStatus")(t.rewardDetails.status))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("幣別")]),t._v(t._s(t.rewardDetails.currency)+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("贏得")]),t._v(t._s(t._f("formatMoney")(t.rewardDetails.win,t.rewardDetails.currency))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("派發者")]),t._v(t._s(t.rewardDetails.operator||"系統派發")+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("取獎時間")]),t._v(t._s(t._f("formatTime")(t.rewardDetails.received_at))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("過期時間")]),t._v(t._s(t._f("formatTime")(t.rewardDetails.expired_at))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("更新時間")]),t._v(t._s(t._f("formatTime")(t.rewardDetails.updated_at))+"\n            ")]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[n("span",[t._v("發送時間")]),t._v(t._s(t._f("formatTime")(t.rewardDetails.created_at))+"\n            ")]),t._v(" "),n("b-list-group-item",[n("span",[t._v("匯率表")]),t._v(" "),t._l(t.rewardDetails.exchange_rate,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(a))]),t._v(t._s(t._f("formatMoney")(e,a))+"\n                ")])})],2)],1)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])},staticRenderFns:[]});var m=n("VU/8")({props:["rewardDetails"]},d,!1,function(t){n("OmgW")},null,null).exports,f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-table",{attrs:{"show-empty":"",bordered:"",items:t.items,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("div",{on:{click:function(n){return t.getRewardDetails(e.value)}}},[t._v(t._s(e.value||"無"))])]}},{key:"bet_id",fn:function(e){return[n("div",{on:{click:function(n){return t.getTicketUrl(e.value)}}},[t._v(t._s(e.value||"無"))])]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value||"無"))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value||"無",e.item.currency)))]}},{key:"received_at",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}}])})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Close")])])])},staticRenderFns:[]};var p=n("VU/8")({props:["title","items"],data:function(){return{fields:[{key:"id",label:"ID",class:"clickable"},{key:"bet_id",label:"注單編號",class:"text-center clickable"},{key:"currency",label:"幣別",class:"text-center"},{key:"win",label:"贏得金額",class:"text-right"},{key:"received_at",label:"取獎時間",class:"text-right"}]}},methods:{getRewardDetails:function(t){},getTicketUrl:function(t){}}},f,!1,function(t){n("P1o3")},null,null).exports,v=n("zKjs"),h=n("QsK2"),_={props:["percents"],components:{paginationFast:h.a},created:function(){var t=this;this.getPlayers(1),this.getOnlinePlayers(),this.refreshCount=10,this.refreshInterval=setInterval(function(){t.refreshCount--,0===t.refreshCount&&(t.getOnlinePlayers(),t.refreshCount=10)},1e3)},beforeDestroy:function(){clearInterval(this.refreshInterval)},data:function(){return{playersList:"",mode:!0,keyWord:"",tempKeyWord:"",page:1,rows:25,defaultMoney:10,redData:[],onlinePlayers:[],refreshCount:0,refreshInterval:"",fields:[{key:"name",label:"玩家",class:"clickable"},{key:"currency",label:"幣別",class:"text-center"},{key:"days",label:"遊玩天數",class:"text-center"},{key:"jp1",label:"JP1",class:"text-center clickable"},{key:"jp2",label:"JP2",class:"text-center clickable"},{key:"jp3",label:"JP3",class:"text-center clickable"},{key:"jp4",label:"JP4",class:"text-center clickable"},{key:"red",label:"紅包",class:"text-center clickable"},{key:"bet",label:"下注金額",class:"text-right"},{key:"win",label:"贏得金額",class:"text-right"},{key:"result",label:"總輸贏",class:"text-right"},{key:"send",label:"選項",class:"text-center",thStyle:"width: 150px"}]}},computed:{totalRows:function(){return this.playersList?this.playersList.total:0}},methods:{nameTrans:function(t){if(t){var e=this.playersList.lists.findIndex(function(e){return""+e.mid==""+t});return e<0?"":this.playersList.lists[e].name}},keyWordSearch:function(){this.clearRedData(),this.getPlayers(1,this.keyWord)},getPlayers:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n={total:10,lists:[{mid:87,name:"人員1",currency:"TWD",days:120,jp1:0,jp2:0,jp3:0,jp4:0,red:0,bet:100,win:100,result:0},{mid:5,name:"人員2",currency:"RMB",days:111,jp1:0,jp2:0,jp3:0,jp4:0,red:0,bet:200,win:100,result:-100},{mid:1,name:"人員3",currency:"TWD",days:555,jp1:0,jp2:0,jp3:0,jp4:0,red:0,bet:100,win:0,result:100}]};this.page=t,this.getRedData(n.lists),this.playersList=n,this.tempKeyWord=e,document.documentElement.scrollTop=0},getOnlinePlayers:function(){this.onlinePlayers={players:[87]}},getRedData:function(t){for(var e=this,n=function(n,a){if(e.redData.findIndex(function(e){return e.mid===t[n].mid})>=0)return"continue";var s={mid:t[n].mid,name:t[n].name,active:!1,money:0};e.redData.push(s)},a=0,s=t.length;a<s;a++)n(a)},findRedData:function(t){var e=this.redData.findIndex(function(e){return e.mid===t});return this.redData[e]},sendRed:function(){for(var t=this.redData,e=[],n=0,a=t.length;n<a;n++)t[n].active&&e.push({mid:t[n].mid,amount:Number(t[n].money)});this.$api.showModalInfo("SUCCESS","發送成功"),this.clearRedData()},showJpModal:function(t){if(t.item.currency){for(var e=[],n=0,a=this.percents.length;n<a;n++)e.push({text:100*this.percents[n]+"%",value:this.percents[n]});this.$modal.show(u,{mid:t.item.mid,name:t.item.name,currency:t.item.currency,percentOptions:e},{width:"30%",height:"auto",scrollable:!0})}else this.$api.showModalInfo("Error","該玩家從未遊玩過!")},changePage:function(t){this.page!==t&&this.getPlayers(t,this.tempKeyWord)},changeMode:function(t){t.value&&this.clearRedData();var e=this.fields.findIndex(function(t){return"send"===t.key});this.fields[e].class=t.value?"text-center":""},clearRedData:function(){for(var t=0,e=this.redData.length;t<e;t++)this.redData[t].active=!1},getPlayerInfo:function(t,e,n){var a=this;if(n){var s=[];s.push(this.$api.getPlayerGame(t,"","")),s.push(this.$api.getPlayerInfo(e)),l.a.all(s).then(function(t){return a.$modal.show(v.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return a.$api.showModalInfo("Error","查詢失敗!("+res.msg+")")})}else this.$api.showModalInfo("Error","該玩家從未遊玩過!")},getJpInfo:function(t,e){if(t.value){this.$modal.show(p,{items:[],title:t.item.name+"的"+this.$options.filters.toJpType(e)+"領取資訊"},{width:"50%",height:"auto",scrollable:!0})}},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},getOnlineTooltip:function(t){var e=this.onlinePlayers.players[t];if(e){for(var n=i()(e),a="",s=0,r=n.length;s<r;s++){var o=e[n[s]];a+=config.gid_name[o],a+=s===n.length-1?"":", "}return a}}}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"reward-send"}},[n("div",{staticClass:"card-header"},[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",[n("span",{staticStyle:{color:"red"}},[t._v("備註: 除了幣別為三個月前統計至今以外，其餘資料為當月統計")]),t._v("、\n                "),n("span",{staticStyle:{color:"blue"}},[t._v("玩家在線最後更新: "+t._s(t.onlinePlayers.last_time))]),t._v(" "),n("b-btn",{on:{click:t.getOnlinePlayers}},[t._v(t._s(this.refreshCount)+"秒後更新玩家在線")])],1)],1),t._v(" "),n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"4"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("玩家關鍵字搜索")]),t._v(" "),n("b-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyWordSearch()}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.keyWordSearch()}}},[t._v("查詢")])],1)],1)],1),t._v(" "),n("b-col",{attrs:{"offset-md":"7",md:"1"}},[n("toggle-button",{attrs:{labels:{checked:"JP",unchecked:"紅包"},width:80,height:38,color:{checked:"#82c7eb",unchecked:"#7dce94"}},on:{change:t.changeMode},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1)],1),t._v(" "),t.mode?t._e():n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("預設金額")]),t._v(" "),n("b-input",{model:{value:t.defaultMoney,callback:function(e){t.defaultMoney=e},expression:"defaultMoney"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"10"}},[n("b-btn",{on:{click:t.clearRedData}},[t._v("清除選取")]),t._v(" "),n("b-btn",{staticClass:"red-btn-color",on:{click:t.sendRed}},[t._v("送出紅包")])],1)],1),t._v(" "),t.mode?t._e():n("b-row",{attrs:{"align-v":"center"}},[n("b-col",[n("span",[t._v("已選取:\n                    "),t._l(t.redData,function(e,a){return e.active?n("b-badge",{key:a,staticClass:"mr-1",attrs:{pill:"",variant:"primary"}},[t._v("\n                        "+t._s(e.name+"("+e.money+")")+"\n                        "),n("button",{staticClass:"close ml-1",attrs:{type:"button","aria-label":"Close"},on:{click:function(n){t.findRedData(e.mid).active=!1}}},[t._v("×")])]):t._e()})],2)])],1)],1),t._v(" "),n("b-table",{attrs:{"show-empty":"",bordered:"",hover:"",responsive:"",items:t.playersList.lists,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item.mid,e.value,e.item.currency)}}},[t._v("\n                "+t._s(e.value||"無")+"\n                "),n("b-badge",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{variant:"success",title:t.getOnlineTooltip(e.item.mid)}},[t._v(t._s(t.onlinePlayers.players[e.item.mid]?"online":""))])],1)]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value||"無"))]}},{key:"days",fn:function(e){return[t._v(t._s(e.value||0))]}},{key:"jp1",fn:function(e){return[n("div",{on:{click:function(n){return t.getJpInfo(e,1)}}},[t._v(t._s(e.value||0))])]}},{key:"jp2",fn:function(e){return[n("div",{on:{click:function(n){return t.getJpInfo(e,2)}}},[t._v(t._s(e.value||0))])]}},{key:"jp3",fn:function(e){return[n("div",{on:{click:function(n){return t.getJpInfo(e,3)}}},[t._v(t._s(e.value||0))])]}},{key:"jp4",fn:function(e){return[n("div",{on:{click:function(n){return t.getJpInfo(e,4)}}},[t._v(t._s(e.value||0))])]}},{key:"red",fn:function(e){return[n("div",{on:{click:function(n){return t.getJpInfo(e,9)}}},[t._v(t._s(e.value||0))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value||0,e.item.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value||0,e.item.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v("\n                "+t._s(t._f("formatMoney")(e.value||0,e.item.currency))+"\n            ")])]}},{key:"send",fn:function(e){return[t.mode?t._e():n("b-form-checkbox",{staticClass:"m-0 align-middle",on:{change:function(n){t.findRedData(e.item.mid).money=t.defaultMoney}},model:{value:t.findRedData(e.item.mid).active,callback:function(n){t.$set(t.findRedData(e.item.mid),"active",n)},expression:"findRedData(row.item.mid).active"}},[t.findRedData(e.item.mid).active?n("b-input",{staticStyle:{width:"100px",height:"25px"},model:{value:t.findRedData(e.item.mid).money,callback:function(n){t.$set(t.findRedData(e.item.mid),"money",n)},expression:"findRedData(row.item.mid).money"}}):t._e()],1),t._v(" "),t.mode?n("b-btn",{on:{click:function(n){return t.showJpModal(e)}}},[t._v("發送")]):t._e()]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.rows,currentPage:t.page},on:{changePage:t.changePage}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.rows,align:"right",limit:10},on:{change:t.changePage},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1)},staticRenderFns:[]};var g=n("VU/8")(_,b,!1,function(t){n("An1l")},null,null).exports,y={components:{DateTime:n("VF+w").a,paginationFast:h.a},created:function(){this.getCurrencyOption()},data:function(){return{fields:[{key:"id",label:"ID",sortable:!0,class:"clickable"},{key:"bet_id",label:"注單編號",sortable:!0,class:"text-center clickable"},{key:"operator",label:"派發者",sortable:!0,class:"text-center"},{key:"mid",label:"玩家",sortable:!0,class:"text-center clickable"},{key:"type",label:"類型",sortable:!0,class:"text-center"},{key:"status",label:"狀態",sortable:!0,class:"text-center"},{key:"currency",label:"幣別",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"received_at",label:"取獎時間",sortable:!0,class:"text-right"}],id:"",rewardList:"",type:"",typeOptions:[{text:"全部",value:""},{text:"JP",value:"jp"},{text:"紅包",value:"red"}],currency:"",currencyOptions:[],status:"",statusOptions:[{text:"全部",value:""},{text:"未領取",value:"0"},{text:"已領取",value:"1"},{text:"已取消",value:"2"},{text:"錯誤",value:"3"}],startDate:"",endDate:"",startTime:"",endTime:"",currentPage:1,perPage:25}},computed:{totalRows:function(){return this.rewardList?this.rewardList.lists.length:0}},methods:{changePage:function(t){this.currentPage=t||this.currentPage,setTimeout(function(){return document.documentElement.scrollTop=0},100)},getRewardList:function(){this.startDate,this.startTime.HH,this.startTime.mm,this.startTime.ss,this.endDate,this.endTime.HH,this.endTime.mm,this.endTime.ss;this.type&&this.type,this.currency&&this.currency,this.status&&this.status,this.id&&this.id;this.rewardList={players:[87],lists:[{id:0,bet_id:0,operator:22,mid:87,type:9,status:0,currency:"TWD",win:90,received_at:"2018.09.01"}]},this.currentPage=1},getRewardDetails:function(t){this.$modal.show(m,{rewardDetails:[]},{scrollable:!0,width:"30%",height:"auto"})},getTicketUrl:function(t){},getPlayerInfo:function(t){var e=this,n=[];n.push(this.$api.getPlayerGame(t,"","")),n.push(this.$api.getPlayerInfo(this.rewardList.players[t])),l.a.all(n).then(function(t){return e.$modal.show(v.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!("+res.msg+")")})},getCurrencyOption:function(){var t=config.currency,e=i()(t);this.currencyOptions.push({text:"全部",value:""});for(var n=0,a=e.length;n<a;n++)this.currencyOptions.push({value:e[n],text:t[e[n]]})},clearSelect:function(){this.type="",this.currency="",this.status=""},statusTextColor:function(t){switch(t){case 0:return"text-success";case 1:return"text-primary";case 2:case 3:return"text-danger";default:return"text-secondary"}}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header"},[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"6"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("類型")]),t._v(" "),n("b-form-select",{attrs:{options:t.typeOptions},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("幣值")]),t._v(" "),n("b-form-select",{attrs:{options:t.currencyOptions},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("狀態")]),t._v(" "),n("b-form-select",{attrs:{options:t.statusOptions},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{on:{click:t.clearSelect}},[t._v("Clear")])],1)],1)],1),t._v(" "),n("b-col",{attrs:{md:"4"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("注單編號")]),t._v(" "),n("b-form-input",{model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.id},on:{click:function(e){t.id=""}}},[t._v("Clear")])],1)],1)],1)],1),t._v(" "),n("b-row",{staticClass:"mt-2",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"11"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getRewardList()}}},[t._v("查詢")])],1)],1)],1),t._v(" "),n("div",{staticClass:"m-2"},[n("b-table",{attrs:{"show-empty":"",bordered:"","current-page":t.currentPage,"per-page":t.perPage,items:t.rewardList.lists,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("div",{on:{click:function(n){return t.getRewardDetails(e.value)}}},[t._v(t._s(e.value))])]}},{key:"bet_id",fn:function(e){return[n("div",{on:{click:function(n){return t.getTicketUrl(e.value)}}},[t._v(t._s(e.value))])]}},{key:"operator",fn:function(e){return[t._v(t._s(e.value||"系統派發"))]}},{key:"mid",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.value)}}},[t._v(t._s(t.rewardList.players[e.value]))])]}},{key:"type",fn:function(e){return[t._v(t._s(t._f("toJpType")(e.value)))]}},{key:"status",fn:function(e){return[n("div",{class:t.statusTextColor(e.value)},[t._v(t._s(t._f("jpStatus")(e.value)))])]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,e.item.currency)))]}},{key:"received_at",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.perPage,currentPage:t.currentPage},on:{changePage:function(e){return t.changePage(e)}}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"right",limit:10},on:{change:t.changePage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},staticRenderFns:[]};var k=n("VU/8")(y,w,!1,function(t){n("ICzA")},null,null).exports,x={props:["data","refresh"],data:function(){return{games:config.gid_name}},methods:{addData:function(t){this.$set(this.data,t,1)},delData:function(t){this.$delete(this.data,t)},edit:function(){var t=i()(this.data);if(t.length){for(var e=0,n=t.length;e<n;e++){var a=Number(this.data[t[e]]);if(a<=0)return void this.$api.showModalInfo("ERROR","權重不得小於0");this.data[t[e]]=Math.floor(a)}this.$api.showModalInfo("SUCCESS","更改權重成功"),this.$emit("close")}else this.$api.showModalInfo("ERROR","資料不得為空")},checkRes:function(t){t.status?(this.$api.showModalInfo("SUCCESS","更改權重成功"),this.refresh(t.data)):this.$api.showModalInfo("ERROR","更改權重失敗("+t.msg+")")}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100",attrs:{id:"fake-modal"}},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("更改偽造JP權重")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-row",[n("b-col",{staticClass:"sub-view"},t._l(t.games,function(e,a){return t.data.hasOwnProperty(a)?t._e():n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between",attrs:{button:""},on:{click:function(e){return t.addData(a)}}},[t._v("\n                    "+t._s(e)+"\n                ")])}),1),t._v(" "),n("b-col",{staticClass:"sub-view"},t._l(t.data,function(e,a){return n("b-list-group-item",{key:a},[n("b-row",[n("b-col",[n("span",[t._v(t._s(t._f("toGidName")(a)))])]),t._v(" "),n("b-col",[n("b-input-group",[n("b-form-input",{staticClass:"text-right",staticStyle:{"border-radius":"0"},attrs:{type:"number",min:"1"},model:{value:t.data[a],callback:function(e){t.$set(t.data,a,e)},expression:"data[key]"}}),t._v(" "),n("b-btn",{staticClass:"material-icons ml-1",on:{click:function(e){return t.delData(a)}}},[t._v("clear")])],1)],1)],1)],1)}),1)],1)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.edit}},[t._v("OK")])],1)])},staticRenderFns:[]};var T=n("VU/8")(x,C,!1,function(t){n("1AzD")},null,null).exports,D={props:["data","refresh"],methods:{edit:function(){for(var t=i()(this.data),e=0,n=t.length;e<n;e++)this.data[t[e]]=Number(this.data[t[e]]);this.$emit("close")},checkRes:function(t){t.status?(this.$api.showModalInfo("SUCCESS","更改匯率成功"),this.refresh(t.data)):this.$api.showModalInfo("ERROR","更改匯率失敗("+t.msg+")")}}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("更改匯率表")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},t._l(t.data,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[t._v("\n            "+t._s(a)),n("b-form-input",{staticClass:"text-right",staticStyle:{height:"30px",width:"80px"},attrs:{type:"number",min:"0"},model:{value:t.data[a],callback:function(e){t.$set(t.data,a,e)},expression:"data[key]"}})],1)}),1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.edit}},[t._v("OK")])],1)])},staticRenderFns:[]};var P=n("VU/8")(D,S,!1,function(t){n("ukD7")},null,null).exports,O={name:"Jackpot",components:{rewardSend:g,rewardReport:k},data:function(){return{allInfo:{},redBalance:0,mode:!1}},created:function(){this.getAllInfo()},methods:{getAllInfo:function(){this.allInfo={red_std_currency:"TWD",red_balance:1e3,fake_on:!0,jp_expire_sec:2e4,jp_vals:{TWD:[.87,.5],RMB:[.87,.5]},jp_provides:{TWD:50,RMB:50},jp_percents:[.96,.5,.4],currencys:["TWD","RMB"],exchange_rates:{TWD:50,RMB:20},clients:[{name:"A",addtime:"2019.09.01"},{name:"B",addtime:"2019.09.01"}],fake_gids_weight:{"遊戲A":.5,"遊戲B":.5}},this.mode=!0},getNewVals:function(){},switchMode:function(){this.mode=!this.mode},showRateChange:function(){var t=s()({},this.allInfo.exchange_rates);this.$modal.show(P,{data:t,refresh:this.updateRate},{scrollable:!0,width:"30%",height:"auto"})},showFakeChange:function(){var t=s()({},this.allInfo.fake_gids_weight);this.$modal.show(T,{data:t,refresh:this.updateFake},{width:"60%",height:"auto"})},updateFake:function(t){this.allInfo.fake_gids_weight=t},updateRate:function(t){this.allInfo.exchange_rates=t},addRedBalance:function(){if(this.redBalance){Number(this.redBalance);this.redBalance=0,this.$api.showModalInfo("SUCCESS","加值成功")}}}},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-row",{attrs:{id:"jackpot"}},[n("b-col",{staticClass:"sideMenu scroll sidebar-color sticky-top p-0 border",attrs:{md:"2"}},[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between",attrs:{variant:"secondary"}},[n("h2",[t._v("遙控送禮")]),t._v(" "),n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"24px",width:"50px"},on:{click:function(e){return t.getAllInfo()}}},[t._v("autorenew")])],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    紅包基礎幣別"),n("span",[t._v(t._s(t.allInfo.red_std_currency))])])]),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    紅包餘額 "),n("span",[t._v(t._s(t.allInfo.red_balance))]),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"redBalance",expression:"'redBalance'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"redBalance"}},[n("b-list-group-item",[n("b-input-group",[n("b-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addRedBalance()}},model:{value:t.redBalance,callback:function(e){t.redBalance=e},expression:"redBalance"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{on:{click:function(e){return t.addRedBalance()}}},[t._v("充值")])],1)],1)],1)],1)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    JP模式"),n("toggle-button",{attrs:{labels:{checked:"隨機",unchecked:"操作"},width:80,height:30,color:{checked:"#82c7eb",unchecked:"#7dce94"},sync:!0},on:{change:t.switchMode},model:{value:t.mode,callback:function(e){t.mode=e},expression:"mode"}})],1)]),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    偽造JP"),n("span",[t._v(t._s(t.allInfo.fake_on?"啟動":"關閉"))])])]),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    JP過期時間 "),n("span",[t._v(t._s(t._f("timeDuration")(t.allInfo.jp_expire_sec)))])])]),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    JP數值"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"jp_vals",expression:"'jp_vals'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"jp_vals"}},[t._l(t.allInfo.jp_vals,function(e,a){return n("b-list-group-item",{key:a},[t._v("\n                        "+t._s(a)+"\n                        "),t._l(e,function(e,a){return n("b-list-group-item",{key:a},[n("span",[t._v(t._s(a))]),t._v(t._s(e)+"\n                        ")])})],2)}),t._v(" "),n("b-btn",{on:{click:function(e){return t.getNewVals()}}},[t._v("更新")])],2)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    JP貢獻比率"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"jp_provides",expression:"'jp_provides'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"jp_provides"}},t._l(t.allInfo.jp_provides,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(a))]),t._v(t._s(e)+"\n                    ")])}),1)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    JP送獎權重"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"jp_percents",expression:"'jp_percents'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"jp_percents"}},t._l(t.allInfo.jp_percents,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(a+1)+".")]),t._v(t._s(100*e)+"%\n                    ")])}),1)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    支援幣別"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"currencys",expression:"'currencys'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"currencys"}},[n("b-list-group-item",t._l(t.allInfo.currencys,function(e,a){return n("span",{key:a},[t._v("\n                            "+t._s(e)+t._s(a===t.allInfo.currencys.length-1?"":",")+"\n                        ")])}),0)],1)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    匯率表"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"exchange_rates",expression:"'exchange_rates'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"exchange_rates"}},[t._l(t.allInfo.exchange_rates,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(a))]),t._v(t._s(e)+"\n                    ")])}),t._v(" "),n("b-btn",{attrs:{variant:"primary"},on:{click:t.showRateChange}},[t._v("更改")])],2)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    連線遊戲列表"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"clients",expression:"'clients'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"clients"}},t._l(t.allInfo.clients,function(e,a){return n("b-list-group-item",{key:a},[n("div",[t._v(t._s(e.name))]),t._v(" "),n("div",[t._v("("+t._s(e.addtime)+")")])])}),1)],1),t._v(" "),n("b-list-group-item",[n("span",{staticClass:"d-flex justify-content-between"},[t._v("\n                    偽造JP遊戲權重"),n("i",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"fake_gids_weight",expression:"'fake_gids_weight'"}],staticClass:"material-icons clickable"},[t._v("expand_more")])]),t._v(" "),n("b-collapse",{attrs:{id:"fake_gids_weight"}},[t._l(t.allInfo.fake_gids_weight,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(t._f("toGidName")(a)))]),t._v(t._s(e)+"\n                    ")])}),t._v(" "),n("b-btn",{attrs:{variant:"primary"},on:{click:t.showFakeChange}},[t._v("更改")])],2)],1)],1)],1),t._v(" "),n("b-col",{staticClass:"content",attrs:{md:"10"}},[n("b-tabs",{attrs:{card:""}},[n("b-tab",{staticClass:"p-0",attrs:{title:"送獎列表",active:""}},[n("reward-send",{attrs:{percents:t.allInfo.jp_percents}})],1),t._v(" "),n("b-tab",{staticClass:"p-0",attrs:{title:"得獎報表"}},[n("reward-report")],1)],1)],1)],1)},staticRenderFns:[]};var I=n("VU/8")(O,$,!1,function(t){n("Xu88")},null,null);e.a=I.exports},Jmt5:function(t,e){},K0wq:function(t,e,n){"use strict";var a=n("VF+w"),s=[{dataKey:"percent",min:0,formatter:".0%"}],r={props:["title","data"],data:function(){var t=this;return{scale:s,height:400,pieStyle:{stroke:"#fff",lineWidth:1},labelConfig:["percent",{formatter:function(t,e){return e.point.name+": "+t}}],containerTpl:'<div class="g2-legend legend-position"><table class="g2-legend-list" style="list-style-type:none;margin:0;padding:0;"></table></div>',itemTpl:function(e,n,a,s){var r=t.data[s]?t.data[s]:{percent:0};return'<tr class="g2-legend-list-item item-'+s+" "+(a=a?"checked":"unChecked")+'" data-value="'+e+'" data-color='+n+' style="cursor: pointer;font-size: 14px;"><td width=150 style="border: none;padding:0;"><i class="g2-legend-marker" style="width:10px;height:10px;display:inline-block;margin-right:10px;background-color:'+n+';"></i><span class="g2-legend-text">'+e+'</span></td><td style="text-align: right;border: none;padding:0;">'+(100*r.percent).toFixed(2)+"%</td></tr>"}}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pie-chart p-4"},[n("h4",[t._v(t._s(t.title))]),t._v(" "),n("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale,padding:["20%","30%"]}},[n("v-tooltip",{attrs:{showTitle:!1,dataKey:"name*percent"}}),t._v(" "),n("v-axis"),t._v(" "),n("v-legend",{attrs:{dataKey:"name",position:"bottom-left",useHtml:!0,itemTpl:t.itemTpl,containerTpl:t.containerTpl}}),t._v(" "),n("v-pie",{attrs:{position:"percent",color:"name","v-style":t.pieStyle,label:t.labelConfig}}),t._v(" "),n("v-coord",{attrs:{type:"theta"}})],1)],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("EqOz")},null,null).exports,l={components:{DateTime:a.a,pie:o},computed:{totalStart:function(){return this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss},totalEnd:function(){return this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss},total:function(){for(var t=0,e=0,n=this.data_device.length;e<n;e++)t+=this.data_device[e].total;return t}},data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",data_device:[],data_os:[],data_os_browser:[]}},methods:{getOs:function(){var t=(new DataSet.View).source([{total:70,name:"desktop"},{total:30,name:"mobile"}]),e=(new DataSet.View).source([{total:25,name:"android"},{total:25,name:"ios"},{total:50,name:"windows"}]),n=(new DataSet.View).source([{total:52,name:"chrome"},{total:20,name:"safari"},{total:28,name:"ios-chrome"}]);t.transform({type:"percent",field:"total",dimension:"name",as:"percent"}),e.transform({type:"percent",field:"total",dimension:"name",as:"percent"}),n.transform({type:"percent",field:"total",dimension:"name",as:"percent"}),this.data_device=t.rows,this.data_os=e.rows,this.data_os_browser=n.rows}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("玩家分析")])]),t._v(" "),n("b-col",{attrs:{md:"6"}},[n("date-time",{attrs:{monthFirst:!0},on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{offset:"3",md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getOs()}}},[t._v("查詢")])],1)],1),t._v(" "),n("div",[n("div",{staticClass:"card-header m-0"},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("裝置分析")]),t._v(" "),n("div",[t._v("資料量: "+t._s(t.total)+"筆")])]),t._v(" "),n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"p-0",attrs:{md:"4"}},[n("pie",{attrs:{title:"裝置資訊",data:t.data_device}})],1),t._v(" "),n("b-col",{staticClass:"p-0",attrs:{md:"4"}},[n("pie",{attrs:{title:"系統資訊",data:t.data_os}})],1),t._v(" "),n("b-col",{staticClass:"p-0",attrs:{md:"4"}},[n("pie",{attrs:{title:"系統瀏覽器資訊",data:t.data_os_browser}})],1)],1)],1)],1)},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("BlnF")},null,null);e.a=u.exports},K31e:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i=(n("8KOR"),{name:"Login",data:function(){return{account:"",password:"",error:"",title:""+config.title,date:""}},created:function(){},computed:{loginData:function(){return{username:this.account,password:this.password}}},methods:s()({loginCheck:function(){"123"===this.loginData.username&&"123"===this.loginData.password?(sessionStorage.setItem("sessionKey","12345"),sessionStorage.setItem("level",999),this.$ws.login(),this.$api.getLog(),this.$api.getGames(),this.setLogin(!0),this.setUsername("人員A"),this.$router.push({path:"./home"})):this.error="帳號密碼錯誤!"},get:function(){}},Object(r.c)(["setLogin","setUsername","setLogs","pushLogs"]))}),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("div",{staticClass:"login-title"},[n("h1",{staticStyle:{"font-size":"40px"}},[t._v(t._s(t.title))]),t._v(" "),n("p",{staticStyle:{"font-size":"20px"}},[t._v("帳號密碼皆為123")])]),t._v(" "),n("b-row",{staticClass:"justify-content-md-center"},[n("b-col",{staticStyle:{margin:"10px"},attrs:{md:"3"}},[n("b-input-group",{attrs:{prepend:"帳號"}},[n("b-form-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginCheck(e)}},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}})],1)],1)],1),t._v(" "),n("b-row",{staticClass:"justify-content-md-center"},[n("b-col",{staticStyle:{margin:"10px"},attrs:{md:"3"}},[n("b-input-group",{attrs:{prepend:"密碼"}},[n("b-form-input",{attrs:{type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginCheck(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"outline-success"},on:{click:t.loginCheck}},[t._v("登入")])],1)],1)],1)],1),t._v(" "),n("span",{staticClass:"err"},[t._v(" "+t._s(t.error)+" ")])],1)},staticRenderFns:[]};var l=n("VU/8")(i,o,!1,function(t){n("4UAX")},null,null);e.a=l.exports},L32k:function(t,e){},Laqr:function(t,e){},LfNM:function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("oqQY"),i=n.n(r),o=n("QsK2"),l={props:["title","mid"],created:function(){this.getDetail(1)},components:{paginationFast:o.a},data:function(){return{detail:[],totalRows:0,rows:25,currentPage:1,fields:[{key:"gid",label:"遊戲名稱",class:"text-center"},{key:"ip",label:"IP位置",class:"text-center"},{key:"device",label:"使用裝置",class:"text-center"},{key:"os",label:"作業系統",class:"text-center"},{key:"os_ver",label:"作業系統版本",class:"text-center"},{key:"browser_type",label:"瀏覽器",class:"text-center"},{key:"browser_ver",label:"瀏覽器版本",class:"text-center"},{key:"start_time",label:"開始遊玩時間",class:"text-center"},{key:"end_time",label:"結束遊玩時間",class:"text-center"},{key:"total_time",label:"總遊玩時間",class:"text-center"}]}},methods:{getDetail:function(t){this.currentPage=t-1;this.currentPage,this.rows,this.mid;var e=[{gid:2202,ip:"87.87.87.87",device:"desktop",os:"windows",os_ver:"87",browser_type:"chrome",browser_ver:"87",start_time:"2018.09.09",end_time:"2018.09.10"},{gid:2202,ip:"87.87.87.87",device:"desktop",os:"windows",os_ver:"87",browser_type:"chrome",browser_ver:"87",start_time:"2018.09.09",end_time:"2018.09.10"},{gid:2202,ip:"87.87.87.87",device:"desktop",os:"windows",os_ver:"87",browser_type:"chrome",browser_ver:"87",start_time:"2018.09.09",end_time:"2018.09.10"}],n=3;this.detail=e,this.totalRows=n,document.documentElement.scrollTop=0},totalTimeTrans:function(t){return i()(t.item.end_time)-i()(t.item.start_time)}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-table",{attrs:{hover:"","show-empty":"",items:t.detail,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"ip",fn:function(e){return[t._v(t._s(e.value))]}},{key:"device",fn:function(e){return[t._v(t._s(e.value))]}},{key:"os",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"os_ver",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"browser_type",fn:function(e){return[t._v(t._s(e.value))]}},{key:"browser_ver",fn:function(e){return[t._v(t._s(e.value))]}},{key:"start_time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"end_time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"total_time",fn:function(e){return[t._v(t._s(t._f("timeDurationNoDay")(t.totalTimeTrans(e),1e3,!0)))]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.rows,currentPage:t.currentPage},on:{changePage:t.getDetail}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.rows,align:"right",limit:10},on:{change:t.getDetail},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("OK")])])])},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("WWc2")},null,null).exports,d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("分組設定")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-list-group",t._l(t.data,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[n("span",[t._v(t._s(e.property)+":")]),t._v(" "),n("span",[t._v(t._s(e.value))])])}),1),t._v(" "),t.data.length?t._e():n("span",{staticClass:"ml-4"},[t._v("該分組無設定")])],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("OK")])])])},staticRenderFns:[]};var m=n("VU/8")({props:["data"]},d,!1,function(t){n("7zwu")},null,null).exports,f=n("zKjs"),p={created:function(){this.getMemberList(1)},components:{paginationFast:o.a},data:function(){return{memberList:[],totalRows:0,rows:25,currentPage:1,keyWord:"",groupId:"",lastKeyWord:"",lastGroupId:"",fields:[{key:"name",label:"玩家名稱",class:"text-center clickable"},{key:"group_id",label:"分組ID",class:"text-center clickable"},{key:"gid",label:"最新遊玩",class:"text-center"},{key:"ip",label:"最新IP位置",class:"text-center"},{key:"start_time",label:"最新遊玩時間",class:"text-center"},{key:"addtime",label:"加入時間",class:"text-center"},{key:"action",label:"選項",class:"text-center"}]}},methods:{getGroup:function(t){this.$modal.show(m,{data:[{property:"rtp",value:.877}]},{scrollable:!0,width:"30%",height:"auto"})},keyWordSearch:function(){this.lastKeyWord=this.keyWord,this.lastGroupId=this.groupId,this.getMemberList(1)},getMemberList:function(t){this.currentPage=t;this.currentPage,this.rows;this.lastKeyWord&&this.lastKeyWord,this.lastGroupId&&this.lastGroupId;var e=[{name:"人員1",group_id:0,gid:2222,ip:"87.87.87.87",start_time:"2018.09.09",addtime:"2018.09.09"},{name:"人員1",group_id:0,gid:2222,ip:"87.87.87.87",start_time:"2018.09.09",addtime:"2018.09.09"},{name:"人員1",group_id:0,gid:2222,ip:"87.87.87.87",start_time:"2018.09.09",addtime:"2018.09.09"}],n=3;this.memberList=e,this.totalRows=n,document.documentElement.scrollTop=0},showDetailModal:function(t){this.$modal.show(u,{title:t.item.name+"的遊玩記錄",mid:t.item.id},{width:"70%",height:"auto",scrollable:!0})},getPlayerInfo:function(t,e){var n=this,a=[];a.push(this.$api.getPlayerGame(t,"","")),a.push(this.$api.getPlayerInfo(e)),s.a.all(a).then(function(t){return n.$modal.show(f.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return n.$api.showModalInfo("Error","查詢失敗!("+t.msg+")")})}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header"},[n("b-row",{staticClass:"m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("玩家管理")])]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"4"}},[n("b-input-group",{staticClass:"mt-1"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                        玩家關鍵字\n                    ")]),t._v(" "),n("b-form-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyWordSearch(e)}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                        玩家分組\n                    ")]),t._v(" "),n("b-form-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyWordSearch(e)}},model:{value:t.groupId,callback:function(e){t.groupId=e},expression:"groupId"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{variant:"primary"},on:{click:t.keyWordSearch}},[t._v("查詢")])],1)],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"m-2"},[n("b-table",{attrs:{hover:"","show-empty":"",items:t.memberList,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item.id,e.value)}}},[t._v("\n                    "+t._s(e.value)+"\n                ")])]}},{key:"group_id",fn:function(e){return[n("div",{on:{click:function(n){return t.getGroup(e.value)}}},[t._v(t._s(e.value))])]}},{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"ip",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"start_time",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"addtime",fn:function(e){return[t._v(t._s(e.value))]}},{key:"action",fn:function(e){return[n("b-btn",{on:{click:function(n){return t.showDetailModal(e)}}},[t._v("遊玩記錄")])]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.rows,currentPage:t.currentPage},on:{changePage:t.getMemberList}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.rows,align:"right",limit:10},on:{change:t.getMemberList},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},staticRenderFns:[]};var h=n("VU/8")(p,v,!1,function(t){n("ah+r")},null,null);e.a=h.exports},Lo6l:function(t,e){},LwkF:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i=n("fZjL"),o=n.n(i),l=n("0nHL"),c=n("Nyrq"),u=n("//Fk"),d=n.n(u),m=n("oqQY"),f=n.n(m),p=n("zKjs"),v=Object(r.a)("member_report"),h=v.mapGetters,_=(v.mapActions,{name:"list",components:{playerInfo:p.a},props:["targetPlayers"],data:function(){return{fields:[{key:"mid",label:"玩家",sortable:!0,class:"clickable"},{key:"rounds",label:"局數",sortable:!0,class:"text-center clickable"},{key:"bet",label:"下注金額",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"result",label:"總輸贏",sortable:!0,class:"text-right"}],sort:"result",sortDesc:!0}},computed:s()({},h({items:"getItems",currency:"getCurrency",startTime:"getStartTime",endTime:"getEndTime",chooseDay:"getChooseDay",players:"getPlayers",newTarget:"getNewTarget",newPlayer:"getNewPlayer"})),methods:{getRounds:function(t,e){var n={mid:t.mid,currency:this.currency,start_time:f()(e).format("YYYY-MM-DD HH:mm:ss"),end_time:f()(e).add(1,"days").format("YYYY-MM-DD HH:mm:ss"),page:0,rows:25};this.showRoundsModal(this.players[t.mid]+"局數",{list:[{id:0,gid:2222,time:"2018-09-09",bet:10,win:10,result:0},{id:1,gid:2222,time:"2018-09-09",bet:10,win:10,result:0},{id:2,gid:2222,time:"2018-09-09",bet:10,win:10,result:0}],total:3},n)},getPlayerInfo:function(t,e){var n=this,a=[];e=f()(e).format("YYYY-MM-DD HH:mm:ss");var s=f()(e).add(1,"days").format("YYYY-MM-DD HH:mm:ss");a.push(this.$api.getPlayerGame(t.mid,e,s)),a.push(this.$api.getPlayerInfo(this.players[t.mid])),d.a.all(a).then(function(t){return n.$modal.show(p.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return n.$api.showModalInfo("Error","查詢失敗!")})},shouldShow:function(t){for(var e=0,n=this.chooseDay.length;e<n;e++)if(this.chooseDay[e]===t)return!0;return!1},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},total:function(t,e){for(var n=0,a=0,s=t.length;a<s;a++)n+=t[a][e];return n},showRoundsModal:function(t,e,n){this.$emit("showRoundsModal",{title:t,content:e,sendData:n})},isNewPlayer:function(t){for(var e=0,n=this.newPlayer.length;e<n;e++){var a=this.newPlayer[e];if(a.mid===t)return a.days>=this.newTarget?"target-color":""}return""},filterPlayer:function(t){var e=this;if(0===this.targetPlayers.length)return t;var n=t.slice();return this.$subscribeTo(Object(l.a)(n).pipe(Object(c.c)(function(t){return e.targetPlayers.indexOf(""+t.mid)>-1}),Object(c.g)()),function(t){return n=t}),n}}}),b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"list"}},t._l(t.items.slice().reverse(),function(e,a){return t.shouldShow(e.date)?n("div",{key:a,staticClass:"p-2 border"},[n("b-table",{staticClass:"table-fixed",attrs:{"show-empty":"",bordered:"",fixed:"",hover:"","foot-clone":"","caption-top":"",items:t.filterPlayer(e.details),fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"mid",fn:function(a){return[n("div",{class:t.isNewPlayer(a.item.mid),on:{click:function(n){return t.getPlayerInfo(a.item,e.date)}}},[t._v("\n                    "+t._s(t.players[a.value])+"\n                ")])]}},{key:"rounds",fn:function(a){return[n("div",{on:{click:function(n){return t.getRounds(a.item,e.date)}}},[t._v(t._s(a.value))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))])]}},{key:"HEAD_bet",fn:function(e){return[t._v("\n                "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n            ")]}},{key:"HEAD_win",fn:function(e){return[t._v("\n                "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n            ")]}},{key:"HEAD_result",fn:function(e){return[t._v("\n                "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n            ")]}},{key:"FOOT_name",fn:function(e){return[t._v("Total:")]}},{key:"FOOT_rounds",fn:function(n){return[t._v("\n                "+t._s(t.total(t.filterPlayer(e.details),n.column))+"\n            ")]}},{key:"FOOT_bet",fn:function(n){return[t._v("\n                "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(t.filterPlayer(e.details),n.column),t.currency),t.currency))+"\n            ")]}},{key:"FOOT_win",fn:function(n){return[t._v("\n                "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(t.filterPlayer(e.details),n.column),t.currency),t.currency))+"\n            ")]}},{key:"FOOT_result",fn:function(a){return[n("span",{class:t.resultTextColor(t.total(t.filterPlayer(e.details),a.column))},[t._v("\n                    "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(t.total(t.filterPlayer(e.details),a.column),t.currency),t.currency))+"\n                ")])]}}],null,!0)},[n("template",{slot:"table-caption"},[n("span",{staticStyle:{"font-size":"24px"}},[t._v(t._s(e.date))])])],2)],1):t._e()}),0)},staticRenderFns:[]};var g=n("VU/8")(_,b,!1,function(t){n("aNhC")},null,null).exports,y=n("VF+w"),w=Object(r.a)("member_report"),k=w.mapGetters,x=w.mapActions,C={name:"input-filed",components:{DateTime:y.a,List:g},data:function(){return{allSelected:!1,targetPlayer:"",sendTargetPlayer:"",newTarget:2,startDate:"",endDate:"",startTime:"",endTime:"",currency:"TWD",currencyOptions:[],dayOptions:[]}},created:function(){this.getCurrencyOption()},computed:s()({isAllSelect:{get:function(){return this.allSelected=this.chooseDay.length===this.dayOptions.length,this.allSelected},set:function(t){this.allSelected=t}},playerSelectedNum:function(){var t=this,e=0;return this.$subscribeTo(Object(l.a)(o()(this.targetPlayer)).pipe(Object(c.c)(function(e){return!0===t.targetPlayer[e]})),function(t){return e++}),e},chooseDayLocal:{get:function(){return this.chooseDay},set:function(t){this.setChooseDay(t)}},newTargetLocal:{get:function(){return this.newTarget},set:function(t){this.setNewTarget(t)}}},k({chooseDay:"getChooseDay",players:"getPlayers",playDays:"getNewPlayer"})),methods:s()({getMemberReport:function(){this.setChooseDay([]),this.dayOptions=[],this.sendTargetPlayer="",this.newTargetLocal=2;var t=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,e=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss,n=(this.currency,{lists:[{date:"2018-09-01",details:[{mid:0,rounds:50,bet:20,win:30},{mid:1,rounds:10,bet:500,win:30},{mid:2,rounds:20,bet:100,win:400}]},{date:"2018-09-02",details:[{mid:0,rounds:50,bet:20,win:30}]},{date:"2018-09-03",details:[{mid:0,rounds:50,bet:20,win:30}]}],players:["人員1","人員2","人員3"]});if(0!==n.length){for(var a=n.lists,s=0,r=a.length;s<r;s++)for(var i=a[s].details,o=0,l=i.length;o<l;o++)i[o].result=i[o].win-i[o].bet;this.setItems(a),this.setPlayers(n.players),this.setTargetPlayer(n.players),this.setCurrency(this.currency),this.setStartTime(t),this.setEndTime(e),this.getDayOption(a),this.setChooseDay(this.dayOptions),this.getNewPlayer(a)}else this.$api.showModalInfo("Success","無資料")},getNewPlayer:function(t){this.$subscribeTo(Object(l.a)(t).pipe(Object(c.a)(function(t){return t.details}),Object(c.d)(function(t){return t.mid}),Object(c.b)(),Object(c.g)()),function(t){return t});this.setNewPlayer([{mid:0,days:1},{mid:1,days:30},{mid:2,days:20}])},setTargetPlayer:function(t){for(var e=o()(t),n={},a=0,s=e.length;a<s;a++)n[e[a]]=!1;this.targetPlayer=n},filterPlayer:function(){for(var t=o()(this.targetPlayer),e=[],n=0,a=t.length;n<a;n++)this.targetPlayer[t[n]]&&e.push(t[n]);this.sendTargetPlayer=e,this.$modal.hide("playerSelect")},toggleAll:function(t){this.chooseDayLocal=t?this.dayOptions.slice():[]},toggleAllPlayer:function(t){var e=this;this.$subscribeTo(Object(l.a)(o()(this.targetPlayer)),function(n){return e.targetPlayer[n]=!!t})},getDayOption:function(t){var e=this;this.$subscribeTo(Object(l.a)(t).pipe(Object(c.d)(function(t){return t.date}),Object(c.b)(),Object(c.g)()),function(t){return e.dayOptions=t})},getCurrencyOption:function(){for(var t=config.currency,e=o()(t),n=0,a=e.length;n<a;n++)this.currencyOptions.push({value:e[n],text:t[e[n]]})}},x(["setItems","setCurrency","setStartTime","setEndTime","setChooseDay","setPlayers","setNewPlayer","setNewTarget"]))},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"input-filed"}},[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("玩家日報表")])]),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-input-group",{attrs:{prepend:"幣別"}},[n("b-form-select",{attrs:{options:t.currencyOptions},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"7"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getMemberReport()}}},[t._v("查詢")])],1)],1),t._v(" "),n("div",{staticClass:"p-2"},[n("b-row",{staticClass:"m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"11"}},[t.dayOptions.length>0?n("b-form-group",{attrs:{label:"選取指定的日期: "}},[n("b-form-checkbox",{on:{change:t.toggleAll},model:{value:t.isAllSelect,callback:function(e){t.isAllSelect=e},expression:"isAllSelect"}},[t._v(t._s(t.isAllSelect?"清除":"全選"))]),t._v(" "),n("b-form-checkbox-group",{attrs:{options:t.dayOptions},model:{value:t.chooseDayLocal,callback:function(e){t.chooseDayLocal=e},expression:"chooseDayLocal"}})],1):t._e()],1)],1),t._v(" "),t.dayOptions.length>0?n("div",[n("div",[t._v("標示遊玩天數超過"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.newTargetLocal,expression:"newTargetLocal"}],staticClass:"m-2 text-center",staticStyle:{width:"72px"},attrs:{type:"number",min:"0",max:"30"},domProps:{value:t.newTargetLocal},on:{input:function(e){e.target.composing||(t.newTargetLocal=e.target.value)}}}),t._v("天之玩家(最多30天)")]),t._v(" "),n("div",[t._v("篩選玩家 "),n("b-btn",{staticStyle:{"font-size":"10px"},on:{click:function(e){return t.$modal.show("playerSelect")}}},[t._v("已選取"+t._s(t.playerSelectedNum)+"位玩家")])],1)]):t._e()],1),t._v(" "),n("list",{attrs:{targetPlayers:t.sendTargetPlayer},on:{showRoundsModal:function(e){return t.$emit("showRoundsModal",e)}}}),t._v(" "),n("modal",{attrs:{name:"playerSelect",width:"50%",height:"auto",scrollable:""}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("篩選玩家")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("playerSelect")}}},[t._v("×")])])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-form-group",[n("template",{slot:"label"},[n("b-form-checkbox",{on:{change:t.toggleAllPlayer}},[t._v("選取欲篩選之玩家(已篩選"+t._s(t.playerSelectedNum)+"位):")])],1),t._v(" "),n("b-list-group",t._l(t.playDays,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between",attrs:{button:""},on:{click:function(n){t.targetPlayer[e.mid]=!t.targetPlayer[e.mid]}}},[n("b-form-checkbox",{model:{value:t.targetPlayer[e.mid],callback:function(n){t.$set(t.targetPlayer,e.mid,n)},expression:"targetPlayer[item.mid]"}},[t._v(t._s(t.players[e.mid]))]),t._v("\n                        遊玩天數: "+t._s(e.days)+"天\n                    ")],1)}),1)],2)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("playerSelect")}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.filterPlayer}},[t._v("OK")])])])],1)},staticRenderFns:[]},D=n("VU/8")(C,T,!1,null,null,null).exports,S=n("tdoC"),P=n("QsK2"),O=Object(r.a)("member_report"),$=O.mapGetters,I=O.mapActions,E={components:{InputFiled:D,ticketModal:S.a,paginationFast:P.a},data:function(){return{modalInfo:{title:"",content:[]},fields:[{key:"id",label:"注單編號",class:"clickable"},{key:"gid",label:"遊戲名稱",class:"text-center"},{key:"time",label:"下注時間",class:"text-center"},{key:"bet",label:"下注金額",class:"text-right"},{key:"win",label:"贏得金額",class:"text-right"},{key:"result",label:"總輸贏",class:"text-right"}],sendData:"",totalRows:0,per_page:25,currentPage:1}},computed:s()({},$({currency:"getCurrency"})),beforeDestroy:function(){this.clear()},methods:s()({requestPage:function(t){},getTicketUrl:function(t){},showRoundsModal:function(t,e,n){this.addResult(e.list),this.sendData=n,this.totalRows=e.total,this.modalInfo.title=t,this.modalInfo.content=e.list,this.$modal.show("memberRoundsTable")},addResult:function(t){for(var e=0,n=t.length;e<n;e++)t[e].result=t[e].win-t[e].bet},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},resetModal:function(){this.modalInfo.title="",this.modalInfo.content=[]}},I(["clear"]))},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"memberReport"}},[n("input-filed",{on:{showRoundsModal:function(e){return t.showRoundsModal(e.title,e.content,e.sendData)}}}),t._v(" "),n("modal",{attrs:{id:"roundsTable",name:"memberRoundsTable",width:"50%",height:"auto",scrollable:""},on:{"before-close":t.resetModal}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalInfo.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("memberRoundsTable")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-table",{attrs:{"show-empty":"",items:t.modalInfo.content,fields:t.fields,bordered:"","empty-text":"無資料"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("div",{on:{click:function(n){return t.getTicketUrl(e.item)}}},[t._v(t._s(e.value))])]}},{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v("\n                                "+t._s(t._f("formatMoney")(e.value,t.currency))+"\n                            ")])]}},{key:"HEAD_bet",fn:function(e){return[t._v("\n                            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n                        ")]}},{key:"HEAD_win",fn:function(e){return[t._v("\n                            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n                        ")]}},{key:"HEAD_result",fn:function(e){return[t._v("\n                            "+t._s(t._f("headCurrencyText")(e.label,t.currency))+"\n                        ")]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:t.requestPage}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.per_page,align:"right",limit:10},on:{change:t.requestPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("memberRoundsTable")}}},[t._v("OK")])])])])],1)},staticRenderFns:[]};var R=n("VU/8")(E,M,!1,function(t){n("sBdR")},null,null);e.a=R.exports},Mnpj:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"getIsLogin",function(){return K}),n.d(a,"getUsername",function(){return q}),n.d(a,"getLogs",function(){return z}),n.d(a,"getLogsLength",function(){return Y}),n.d(a,"getIsLoading",function(){return J}),n.d(a,"getApiLevel",function(){return Q}),n.d(a,"getWsStatus",function(){return X});var s={};n.d(s,"setLogin",function(){return Z}),n.d(s,"setUsername",function(){return tt}),n.d(s,"setLogs",function(){return et}),n.d(s,"pushLogs",function(){return nt}),n.d(s,"setIsLoading",function(){return at}),n.d(s,"setApiLevel",function(){return st}),n.d(s,"setWsStatus",function(){return rt});var r={};n.d(r,"setAgent",function(){return ft}),n.d(r,"setAgentData",function(){return pt}),n.d(r,"setTarget",function(){return vt}),n.d(r,"setSendId",function(){return ht}),n.d(r,"refresh",function(){return _t}),n.d(r,"updateOne",function(){return bt}),n.d(r,"toggleDetails",function(){return gt});var i={};n.d(i,"setAccount",function(){return Ct}),n.d(i,"setItems",function(){return Tt}),n.d(i,"updateItems",function(){return Dt});var o={};n.d(o,"setItems",function(){return Mt}),n.d(o,"setCurrency",function(){return Rt}),n.d(o,"setStartTime",function(){return At}),n.d(o,"setEndTime",function(){return Lt}),n.d(o,"clear",function(){return jt});var l={};n.d(l,"setItems",function(){return Jt}),n.d(l,"setCurrency",function(){return Qt}),n.d(l,"setStartTime",function(){return Xt}),n.d(l,"setEndTime",function(){return Zt}),n.d(l,"setChooseDay",function(){return te}),n.d(l,"setPlayers",function(){return ee}),n.d(l,"setNewPlayer",function(){return ne}),n.d(l,"setNewTarget",function(){return ae}),n.d(l,"setPlayerInfoData",function(){return se}),n.d(l,"setPlayerGameData",function(){return re}),n.d(l,"clear",function(){return ie});var c=n("7+uW"),u=n("aK3Z"),d=n.n(u),m=n("Dd8w"),f=n.n(m),p=n("NYxO"),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100",attrs:{id:"info-modal"}},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("pre",[t._v(t._s(t.content))])]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("OK")])])])},staticRenderFns:[]};var h=n("VU/8")({props:["title","content"]},v,!1,function(t){n("VQbX")},null,null).exports,_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("更改密碼")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",[n("b-form-group",{attrs:{label:"舊密碼:"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.old_password,callback:function(e){t.$set(t.addData,"old_password",e)},expression:"addData.old_password"}})],1),t._v(" "),n("b-form-group",{attrs:{label:"新密碼:"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.new_password,callback:function(e){t.$set(t.addData,"new_password",e)},expression:"addData.new_password"}})],1)],1)]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.add}},[t._v("OK")])],1)])},staticRenderFns:[]};var b=n("VU/8")({data:function(){return{addData:{old_password:"",new_password:""}}},methods:{clearAddData:function(){this.addData={old_password:"",new_password:""}},add:function(){this.$api.showModalInfo("SUCCESS","修改成功"),this.clearAddData(),this.$emit("close")},checkRes:function(t){t.status?(this.$api.showModalInfo("SUCCESS","修改成功"),this.$api.logOut(!1)):this.$api.showModalInfo("ERROR","修改失敗")}}},_,!1,function(t){n("OFyq")},null,null).exports,g={data:function(){return{popoverShow:!1,reportPath:["/game_report","/member_report","/member_day_report","/profit_loss_report"],memberPath:["/member_list","/member_logs","/member_group"],analysisPath:["/game_analysis","/member_analysis"],adminPath:["/account"],engineerPath:["/server_config","/agent","/dbinfo"]}},computed:f()({notiActive:{get:function(){return this.$ws.shouldNotify},set:function(t){this.$ws.shouldNotify=t}}},Object(p.d)({isLogin:"getIsLogin",username:"getUsername",logsLength:"getLogsLength",apiLevel:"getApiLevel",status:"getWsStatus"})),methods:{isActive:function(t){for(var e=0,n=t.length;e<n;e++)if(this.$route.path===t[e])return"active";return""},showNotify:function(){return Number(sessionStorage.getItem("level"))>=900},showRouter:function(t){return!!this.apiLevel&&this.$api.checkLevel(t)},level:function(){return config.level[sessionStorage.getItem("level")]},reconnectWs:function(){this.$ws.reconnect()},clickLog:function(){this.$emit("clickLog")},logOut:function(){this.$emit("closeLog"),this.popoverShow=!1,this.$api.logOut()},showEditModal:function(){this.popoverShow=!1,this.$modal.show(b,{},{width:"30%",height:"auto"})},statusVariant:function(t){switch(t){case 0:return"success";case 1:return"danger";default:return"secondary"}}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-navbar",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],attrs:{id:"my-bar",toggleable:"md",type:"dark",sticky:"",variant:"dark"}},[n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),t._v(" "),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:{path:"./home"}}},[n("i",{staticClass:"material-icons"},[t._v("home")]),t._v("主頁\n            ")]),t._v(" "),n("b-nav-item",{attrs:{to:{path:"./game_list"}}},[n("i",{staticClass:"material-icons"},[t._v("videogame_asset")]),t._v("遊戲管理\n            ")]),t._v(" "),n("b-nav-item-dropdown",{class:t.isActive(t.reportPath),staticStyle:{"text-align":"center"}},[n("template",{slot:"text"},[n("i",{staticClass:"material-icons"},[t._v("attach_money")]),t._v("報表")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./game_report"}}},[t._v("遊戲報表")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_report"}}},[t._v("玩家報表")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_day_report"}}},[t._v("玩家日報表")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./profit_loss_report"}}},[t._v("盈虧報表")])],2),t._v(" "),n("b-nav-item-dropdown",{class:t.isActive(t.memberPath)},[n("template",{slot:"text"},[n("i",{staticClass:"material-icons"},[t._v("people")]),t._v("玩家")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_list"}}},[t._v("玩家管理")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_group"}}},[t._v("玩家分組")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_logs"}}},[t._v("遊玩記錄")])],2),t._v(" "),n("b-nav-item-dropdown",{class:t.isActive(t.analysisPath)},[n("template",{slot:"text"},[n("i",{staticClass:"material-icons"},[t._v("bar_chart")]),t._v("分析")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./game_analysis"}}},[t._v("遊戲分析")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./member_analysis"}}},[t._v("玩家分析")])],2),t._v(" "),n("b-nav-item",{attrs:{to:{path:"./ticket"}}},[n("i",{staticClass:"material-icons"},[t._v("search")]),t._v("注單查詢\n            ")]),t._v(" "),t.showRouter("/jackpot")?n("b-nav-item",{attrs:{to:{path:"./jackpot"}}},[n("i",{staticClass:"material-icons"},[t._v("card_giftcard")]),t._v("遙控送禮\n            ")]):t._e(),t._v(" "),t.showRouter("/account")?n("b-nav-item-dropdown",{class:t.isActive(t.adminPath)},[n("template",{slot:"text"},[n("i",{staticClass:"material-icons"},[t._v("person")]),t._v("管理員")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./account"}}},[t._v("後台帳號管理")]),t._v(" "),n("b-dropdown-item",{attrs:{to:{path:"./operator_log"}}},[t._v("後台操作紀錄")])],2):t._e(),t._v(" "),t.showRouter("/server_config")?n("b-nav-item-dropdown",{class:t.isActive(t.engineerPath)},[n("template",{slot:"text"},[n("i",{staticClass:"material-icons"},[t._v("build")]),t._v("工程控制")]),t._v(" "),t.showRouter("/server_config")?n("b-dropdown-item",{attrs:{to:{path:"./server_config"}}},[t._v("伺服器設定")]):t._e(),t._v(" "),t.showRouter("/dbinfo")?n("b-dropdown-item",{attrs:{to:{path:"./dbinfo"}}},[t._v("資料庫資訊")]):t._e(),t._v(" "),t.showRouter("/agent")?n("b-dropdown-item",{attrs:{to:{path:"./agent"}}},[t._v("Node.js服務控制")]):t._e()],2):t._e()],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[t.showNotify()?n("b-btn",{attrs:{variant:"dark"},on:{click:t.clickLog}},[t._v("\n                後台通知\n                "),n("b-badge",{attrs:{variant:"light"}},[t._v(" "+t._s(t.logsLength)+" "),n("span",{staticClass:"sr-only"},[t._v("unread messages")])])],1):t._e(),t._v(" "),n("b-btn",{attrs:{id:"popoverButton-sync",variant:"dark"}},[t._v(t._s(t.username))]),t._v(" "),n("b-popover",{attrs:{target:"popoverButton-sync",placement:"bottom",triggers:"click",show:t.popoverShow},on:{"update:show":function(e){t.popoverShow=e}}},[n("template",{slot:"title"},[t._v("\n                    "+t._s(t.username)+" - "+t._s(t.level())+"\n                ")]),t._v(" "),n("b-list-group",{staticClass:"text-center",staticStyle:{width:"210px"},attrs:{flush:""}},[t.showNotify()?n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("\n                        後台提醒"),n("toggle-button",{attrs:{labels:{checked:"on",unchecked:"off"}},model:{value:t.notiActive,callback:function(e){t.notiActive=e},expression:"notiActive"}})],1):t._e(),t._v(" "),t.showNotify()?n("b-list-group-item",{staticClass:"d-flex justify-content-between",attrs:{button:""},on:{click:t.reconnectWs}},[t._v("\n                        後台重連"),n("b-badge",{staticStyle:{"font-size":"100%"},attrs:{pill:"",variant:t.statusVariant(t.status)}},[t._v(t._s(t._f("wsStatus")(t.status)))])],1):t._e(),t._v(" "),n("b-list-group-item",{attrs:{button:""},on:{click:t.showEditModal}},[t._v("更改密碼")]),t._v(" "),n("b-list-group-item",{attrs:{button:""},on:{click:t.logOut}},[t._v("登出")])],1)],2)],1)],1)],1)},staticRenderFns:[]};var w=n("VU/8")(g,y,!1,function(t){n("ueG4")},null,null).exports,k=n("0nHL"),x=n("Nyrq"),C={watch:{logs:function(t){this.updateLock||this.setLogs()},filterAgent:function(){this.setLogs()},filterProc:function(){this.setLogs()},filterType:function(){this.setLogs()}},data:function(){return{localLogs:[],logLimit:20,updateLock:!1,filterAgent:null,filterProc:null,filterType:null,filterTarget:null,filterTypeOptions:[{text:"process:msg",value:"process:msg"},{text:"process:alert",value:"process:alert"},{text:"log:out",value:"log:out"},{text:"log:err",value:"log:err"}]}},computed:f()({},Object(p.d)({agent:"getAgent",logs:"getLogs"})),mounted:function(){this.drag(),this.scroll(),this.$api.getAgent(),this.localLogs=this.logs.slice(0),Number(sessionStorage.getItem("level"))<900&&this.$emit("closeLog")},methods:{drag:function(){var t=this,e=document.getElementById("dragger"),n=Object(k.b)(e,"mousedown"),a=Object(k.b)(document,"mouseup"),s=Object(k.b)(document,"mousemove"),r=window.innerHeight;this.$subscribeTo(n.pipe(Object(x.c)(function(t){return"dragger"===t.target.id}),Object(x.a)(function(t){return s.pipe(Object(x.f)(a))},function(t,e){return e.clientY}),Object(x.c)(function(t){return t<.8*r&&t>.2*r})),function(e){return t.$el.style.height="calc("+(100-e/r*100)+"% + 20px)"})},scroll:function(){var t=this,e=Object(k.b)(this.$el,"scroll");this.$subscribeTo(e.pipe(Object(x.c)(function(e){return 0!==e.target.scrollTop?t.updateLock=!0:(t.updateLock=!1,t.setLogs()),e.target.scrollHeight-e.target.clientHeight===e.target.scrollTop})),function(e){return t.logLimit+=10})},setLogs:function(){var t=this;this.$subscribeTo(Object(k.a)(this.logs).pipe(Object(x.c)(function(e){return e.agent===t.filterAgent||null===t.filterAgent}),Object(x.c)(function(e){return-1!==e.name.indexOf(t.filterProc,0)||null===t.filterProc}),Object(x.c)(function(e){return e.type===t.filterType||null===t.filterType}),Object(x.g)()),function(e){return t.localLogs=e.slice(0)})},clearFilter:function(){this.filterAgent=null,this.filterProc=null,this.filterType=null},variantMap:function(t){switch(t){case"process:msg":return"alert-primary";case"process:alert":return"alert-warning";case"log:out":return"alert-light";case"log:err":return"alert-danger";default:return"alert-white"}}}},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"server-log"}},[n("b-navbar",{attrs:{id:"dragger",toggleable:"md",type:"dark",variant:"info",sticky:""}},[n("b-nav-form",{staticClass:"filter"},[n("i",{staticClass:"material-icons"},[t._v("")]),t._v("Filter: \n            "),n("b-input-group",{staticClass:"pr-1",attrs:{prepend:"agent"}},[n("b-form-select",{attrs:{options:t.agent},model:{value:t.filterAgent,callback:function(e){t.filterAgent=e},expression:"filterAgent"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("-- 選擇篩選對象 --")])])],2)],1),t._v(" "),n("b-input-group",{staticClass:"pr-1",attrs:{prepend:"proc"}},[n("b-form-input",{attrs:{placeholder:"Type to Search"},model:{value:t.filterProc,callback:function(e){t.filterProc="string"==typeof e?e.trim():e},expression:"filterProc"}})],1),t._v(" "),n("b-input-group",{attrs:{prepend:"type"}},[n("b-form-select",{attrs:{options:t.filterTypeOptions},model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}},[n("template",{slot:"first"},[n("option",{attrs:{disabled:""},domProps:{value:null}},[t._v("-- 選擇篩選對象 --")])])],2)],1),t._v(" "),n("b-btn",{attrs:{disabled:!t.filterType&&!t.filterProc&&!t.filterAgent},on:{click:t.clearFilter}},[t._v("Clear")])],1),t._v(" "),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-btn",{staticClass:"material-icons",on:{click:function(e){return t.$emit("closeLog")}}},[t._v("clear")])],1)],1),t._v(" "),t.updateLock?n("div",{staticClass:"sticky-top to-top-bar",on:{click:function(e){t.$el.scrollTop=0}}},[t._v("Back To Top")]):t._e(),t._v(" "),n("div",{staticClass:"h-100 text-center bg-white"},[t._l(t.localLogs.slice(0,t.logLimit),function(e,a){return n("div",{key:a,staticClass:"mb-0 border-bottom",class:t.variantMap(e.type)},[n("b-row",{staticClass:"m-0"},[n("b-col",{staticClass:"text-left",attrs:{md:"2"}},[t._v("\n                    ["+t._s(e.agent)+" - "+t._s(e.name)+"] :\n                ")]),t._v(" "),n("b-col",{staticClass:"text-left word-break",attrs:{md:"9"}},[t._v("\n                    "+t._s(e.msg)+"\n                ")]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"1"}},[n("p",{staticClass:"mb-0"},[t._v(t._s(t._f("formatTime")(e.time)))])])],1)],1)}),t._v(" "),0===t.localLogs.length?n("h1",[t._v("Search not found")]):t._e()],2)],1)},staticRenderFns:[]};var D=n("VU/8")(C,T,!1,function(t){n("aGMw")},null,null).exports,S=n("gCU+"),P={data:function(){return{show:!1}},components:{NavBar:w,ServerLog:D,Loading:n.n(S).a},computed:f()({},Object(p.d)({isLogin:"getIsLogin",isLoading:"getIsLoading"})),methods:{showNotiDetails:function(t){t.close(),this.$api.showModalInfo(t.item.title,t.item.text)}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[[n("loading",{attrs:{show:t.isLoading}})],t._v(" "),n("nav-bar",{on:{clickLog:function(e){t.show=!t.show},closeLog:function(e){t.show=!1}}}),t._v(" "),n("router-view"),t._v(" "),t.show&&t.isLogin?n("server-log",{on:{closeLog:function(e){t.show=!1}}}):t._e(),t._v(" "),n("modals-container"),t._v(" "),n("notifications",{attrs:{group:"server-noti",position:"bottom right"},scopedSlots:t._u([{key:"body",fn:function(e){return[n("div",{staticClass:"vue-notification",class:e.item.type},[n("div",{staticClass:"title"},[n("span",{staticClass:"clickable",on:{click:function(n){return t.showNotiDetails(e)}}},[t._v(t._s(e.item.title))]),t._v(" "),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:e.close}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"clickable",on:{click:function(n){return t.showNotiDetails(e)}}},[t._v(t._s(e.item.text.slice(0,20))+"...")])])]}}])})],2)},staticRenderFns:[]};var $=n("VU/8")(P,O,!1,function(t){n("rtfr")},null,null).exports,I=n("oqQY"),E=n.n(I),M=config.level,R=config.currency_point,A=config.betTypes,L=config.jpTypes;c.default.filter("level",function(t){return null===t||void 0===t?"":M[t]?M[t]:"未知階級:"+t}),c.default.filter("disabled",function(t){switch(t){case 0:return"啟用";case 1:return"停用";default:return t}}),c.default.filter("mode",function(t){switch(t){case"fork_mode":return"單緒模式";case"cluster_mode":return"群集模式";default:return t}}),c.default.filter("status",function(t){switch(t){case"online":return"執行中";case"stopped":return"已停止";case"errored":return"錯誤";default:return t}}),c.default.filter("bitsToMB",function(t){return null===t||void 0===t?"無":(t/1024/1024).toFixed(2)}),c.default.filter("toGidNameString",function(t){if(!t||0===t.length)return"無";for(var e=config.gid_name,n="",a=0,s=t.length;a<s-1;a++)n+=e[t[a]]+"、 ";return n+=""+e[t[t.length-1]]}),c.default.filter("serverType",function(t){switch(t){case"1":return"遊戲";case"2":return"服務";default:return"未定義:"+t}}),c.default.filter("betType",function(t){return t&&"string"==typeof A[t.toString()]?A[t.toString()]:"未定義:"+t}),c.default.filter("wsStatus",function(t){switch(t){case 0:return"正常";case 1:return"斷線";default:return"未定義"}}),c.default.filter("formatMoney",function(t,e){if(null===t||void 0===t)return"";var n=R[e]||2;return t.toFixed(n).replace(/(\d)(?=(\d{3})+\.)/g,"$1,")}),c.default.filter("headCurrencyText",function(t,e){return e&&"NONE"!==e?t+"("+e+")":t}),c.default.filter("footCurrencyText",function(t,e){return e&&"NONE"!==e?e+"$ "+t:t}),c.default.filter("formatTime",function(t){return t?E()(t).format("YYYY-MM-DD HH:mm:ss"):"無"}),c.default.filter("toGidName",function(t){if(!t)return"未知";var e=config.gid_name;return e[t]?e[t]:"未知("+t+")"}),c.default.filter("toJpType",function(t){return t&&"string"==typeof L[t.toString()]?L[t.toString()]:"未定義:"+t}),c.default.filter("jpStatus",function(t){switch(t){case 0:return"未領取";case 1:return"已領取";case 2:return"已取消";case 3:return"錯誤";default:return"未定義:"+t}}),c.default.filter("timeDuration",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return"無";t=Math.round(t/e);var a=Math.floor(t/86400);a=a>=1?a:0;var s=Math.floor(t/3600);s=s>=1?s:0;var r=Math.floor(t/60);r=r>=1?r:0;var i=a+"天"+Math.abs(s-24*a)+"時"+Math.abs(r-60*s)+"分";return i+=n?Math.abs(t-60*r)+"秒":""}),c.default.filter("timeDurationNoDay",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return"無";t=Math.round(t/e);var a=Math.floor(t/86400);a=a>=1?a:0;var s=Math.floor(t/3600);s=s>=1?s:0;var r=Math.floor(t/60);r=r>=1?r:0;var i=Math.abs(s-24*a)+"時"+Math.abs(r-60*s)+"分";return i+=n?Math.abs(t-60*r)+"秒":""}),c.default.filter("gameListStatus",function(t){switch(t){case 0:return"下架";case 1:return"開放";default:return"未定義:"+t}}),c.default.filter("haveFun",function(t){switch(t){case 0:return"無";case 1:return"有";default:return"未定義:"+t}}),c.default.filter("groupSet",function(t){switch(t){case 0:return"狀態下架";case 1:return"狀態開放";case 2:return"無試玩";case 3:return"有試玩";default:return"未定義:"+t}});var j,N,F,V,U,G=n("YaEn"),W=n("bOdI"),H=n.n(W),B=(j={},H()(j,"SETLOGIN",function(t,e){this.state.isLogin=e}),H()(j,"SETUSERNAME",function(t,e){sessionStorage.setItem("username",e),this.state.username=e}),H()(j,"SETLOGS",function(t,e){this.state.logs=e}),H()(j,"PUSHLOGS",function(t,e){this.state.logs.unshift(e)}),H()(j,"SETISLOADING",function(t,e){this.state.isLoading=e}),H()(j,"SETAPILEVEL",function(t,e){this.state.apiLevel=e}),H()(j,"SETWSSTATUS",function(t,e){this.state.wsStatus=e}),j),K=function(t){return t.isLogin},q=function(t){return t.username},z=function(t){return t.logs},Y=function(t){return t.logs.length},J=function(t){return t.isLoading},Q=function(t){return t.apiLevel},X=function(t){return t.wsStatus},Z=function(t,e){(0,t.commit)("SETLOGIN",e)},tt=function(t,e){(0,t.commit)("SETUSERNAME",e)},et=function(t,e){(0,t.commit)("SETLOGS",e)},nt=function(t,e){(0,t.commit)("PUSHLOGS",e)},at=function(t,e){(0,t.commit)("SETISLOADING",e)},st=function(t,e){(0,t.commit)("SETAPILEVEL",e)},rt=function(t,e){(0,t.commit)("SETWSSTATUS",e)},it="SETAGENT",ot="SETAGENTDATA",lt="SETTARGET",ct="REFRESH",ut="UPDATEONE",dt="SETSENDID",mt="TOOGLEDETAILS",ft=function(t,e){(0,t.commit)(it,e)},pt=function(t,e){(0,t.commit)(ot,e)},vt=function(t,e){(0,t.commit)(lt,e)},ht=function(t,e){(0,t.commit)(dt,e)},_t=function(t,e){(0,t.commit)(ct,e)},bt=function(t,e){(0,t.commit)(ut,e)},gt=function(t,e){(0,t.commit)(mt,e)},yt={state:{agent:[],agentData:{},target:"",sendId:"",updatedType:!0},mutations:(N={},H()(N,it,function(t,e){t.agent=e}),H()(N,ot,function(t,e){e&&(t.detailId=[],t.agentData=e)}),H()(N,lt,function(t,e){t.target=e}),H()(N,dt,function(t,e){t.sendId=e}),H()(N,ct,function(t,e){if("os"===e.type)t.agentData.os=e.content.os;else if("list"===e.type){var n=t.updatedType?1:2;t.updatedType=!t.updatedType;for(var a=0,s=e.content.list.length;a<s;a++){for(var r=0,i=e.content.list[a].monitors.length;r<i;r++){var o=t.agentData.list[a].monitors,l=e.content.list[a].monitors;if(o[r]&&l[r]&&l[r].val!==o[r].val){var c="table-updated1"===o[r].isUpdated?"table-updated2":"table-updated1";e.content.list[a].monitors[r].isUpdated=c}}e.content.list[a]._showDetails=t.agentData.list[a]._showDetails,e.content.list[a]._cellVariants={mem_use:e.content.list[a].mem_use!==t.agentData.list[a].mem_use?"updated"+n:"",cpu_use:e.content.list[a].cpu_use!==t.agentData.list[a].cpu_use?"updated"+n:""}}t.agentData.list=e.content.list}else t.agentData=e.content}),H()(N,ut,function(t,e){if("delete"===e.act)for(var n=0,a=t.agentData.list.length;n<a;n++)t.agentData.list[n].id===e.data[0].id&&t.agentData.list.splice(n,1);else if("add"===e.act)t.agentData.list.push(e.data[0]);else for(var s=0,r=e.data.length;s<r;s++)for(var i=0,o=t.agentData.list.length;i<o;i++)if(e.data[s].id===t.agentData.list[i].id)for(var l in t.agentData.list[i])e.data[s][l]&&(t.agentData.list[i][l]=e.data[s][l])}),H()(N,mt,function(t,e){e.toggleDetails()}),N),getters:{getAgent:function(t){return t.agent},getAgentData:function(t){return t.agentData},getTarget:function(t){return t.target},getSendId:function(t){return t.sendId}},actions:r},wt="SETACCOUNT",kt="SETITEMS",xt="UPDATEITEMS",Ct=function(t,e){(0,t.commit)(wt,e)},Tt=function(t,e){(0,t.commit)(kt,e)},Dt=function(t,e){(0,t.commit)(xt,e)},St={state:{account:"",items:[]},mutations:(F={},H()(F,wt,function(t,e){t.account=e}),H()(F,kt,function(t,e){t.items=e}),H()(F,xt,function(t,e){for(var n=t.items,a=0,s=n.length;a<s;a++){if(n[a].account===e.account){n.splice(a,1,e);break}a===s-1&&n.push(e)}}),F),getters:{getAccount:function(t){return t.account},getItems:function(t){return t.items}},actions:i},Pt="SETITEMS",Ot="SETCURRENCY",$t="SETSTARTTIME",It="SETENDTIME",Et="CLEAR",Mt=function(t,e){(0,t.commit)(Pt,e)},Rt=function(t,e){(0,t.commit)(Ot,e)},At=function(t,e){(0,t.commit)($t,e)},Lt=function(t,e){(0,t.commit)(It,e)},jt=function(t,e){(0,t.commit)(Et,e)},Nt={namespaced:!0,state:{items:[],currency:"",startTime:"",endTime:""},mutations:(V={},H()(V,Pt,function(t,e){t.items=e}),H()(V,Ot,function(t,e){t.currency=e}),H()(V,$t,function(t,e){t.startTime=e}),H()(V,It,function(t,e){t.endTime=e}),H()(V,Et,function(t,e){t.items=[],t.startTime="",t.endTime="",t.currency=""}),V),getters:{getItems:function(t){return t.items},getCurrency:function(t){return t.currency},getStartTime:function(t){return t.startTime},getEndTime:function(t){return t.endTime}},actions:o},Ft="SETITEMS",Vt="SETCURRENCY",Ut="SETSTARTTIME",Gt="SETENDTIME",Wt="SETCHOOSEDAY",Ht="SETPLAYERS",Bt="SETNEWPLAYER",Kt="SETNEWTARGET",qt="SETPLAYERINFODATA",zt="SETPLAYERGAMEDATA",Yt="CLEAR",Jt=function(t,e){(0,t.commit)(Ft,e)},Qt=function(t,e){(0,t.commit)(Vt,e)},Xt=function(t,e){(0,t.commit)(Ut,e)},Zt=function(t,e){(0,t.commit)(Gt,e)},te=function(t,e){(0,t.commit)(Wt,e)},ee=function(t,e){(0,t.commit)(Ht,e)},ne=function(t,e){(0,t.commit)(Bt,e)},ae=function(t,e){(0,t.commit)(Kt,e)},se=function(t,e){(0,t.commit)(qt,e)},re=function(t,e){(0,t.commit)(zt,e)},ie=function(t,e){(0,t.commit)(Yt,e)},oe={namespaced:!0,state:{items:[],currency:"",startTime:"",endTime:"",newTarget:0,players:{},chooseDay:[],newPlayer:[],playerInfoData:[],playerGameData:[]},mutations:(U={},H()(U,Ft,function(t,e){t.items=e}),H()(U,Vt,function(t,e){t.currency=e}),H()(U,Ut,function(t,e){t.startTime=e}),H()(U,Gt,function(t,e){t.endTime=e}),H()(U,Wt,function(t,e){t.chooseDay=e}),H()(U,Ht,function(t,e){t.players=e}),H()(U,Bt,function(t,e){t.newPlayer=e}),H()(U,Kt,function(t,e){t.newTarget=e}),H()(U,qt,function(t,e){t.playerInfoData=e}),H()(U,zt,function(t,e){t.playerGameData=e}),H()(U,Yt,function(t,e){t.items=[],t.startTime="",t.endTime="",t.currency="",t.chooseDay=[]}),U),getters:{getItems:function(t){return t.items},getCurrency:function(t){return t.currency},getStartTime:function(t){return t.startTime},getEndTime:function(t){return t.endTime},getChooseDay:function(t){return t.chooseDay},getPlayers:function(t){return t.players},getPlayerInfoData:function(t){return t.playerInfoData},getPlayerGameData:function(t){return t.playerGameData},getNewPlayer:function(t){return t.newPlayer},getNewTarget:function(t){return t.newTarget}},actions:l};c.default.use(p.b);var le=new p.b.Store({state:{isLogin:!1,username:"",logs:[],isLoading:!1,apiLevel:"",wsStatus:3},mutations:B,getters:a,actions:s,modules:{agent:yt,account:St,game_report:Nt,member_report:oe},strict:!0}),ce=n("8KOR"),ue=n("Xxa5"),de=n.n(ue),me=n("exGp"),fe=n.n(me),pe=n("//Fk"),ve=n.n(pe),he=n("mvHQ"),_e=n.n(he),be={store:null,router:null,modal:null,isLoading:!1,everAuthPop:!1,notWaitingLogout:!0,init:function(t,e,n){this.store=t,this.router=e,this.modal=n},requestFetch:function(t,e){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return t=config.api+t,s&&this.store.commit("SETISLOADING",!0),fetch(t,{method:e,body:"GET"===e?null:_e()(a),headers:new Headers({"Content-Type":"application/json","session-key":sessionStorage.getItem("sessionKey")})}).then(function(t){return s&&n.store.commit("SETISLOADING",!1),401===t.status?(n.logOut(),n.everAuthPop||(n.everAuthPop=!0,alert("認證失敗!")),""):t.json()})},reConnect:function(){var t=this;return new ve.a(function(e,n){t.store.commit("SETLOGIN",!0),t.store.commit("SETUSERNAME",sessionStorage.getItem("username")),t.getGames().then(function(t){return e()})})},getGames:function(){return new ve.a(function(t,e){for(var n=config.gameGroups,a=[],s=0,r=n.length;s<r;s++)for(var i=n[s].gid,o=0,l=i.length;o<l;o++)a.push(i[o]);n.push({name:"Others",gid:[]}),t()})},getLog:function(){this.store.commit("SETLOGS",[{name:"伺服器A",agent:"服務A",type:"process:msg",time:"2018-01-01 09:00:00",msg:"發生嚴重錯誤"},{name:"伺服器A",agent:"服務A",type:"process:alert",time:"2018-01-01 09:00:00",msg:"發生嚴重錯誤"},{name:"伺服器A",agent:"服務B",type:"log:out",time:"2018-01-01 09:00:00",msg:"發生嚴重錯誤"},{name:"伺服器A",agent:"服務B",type:"log:err",time:"2018-01-01 09:00:00",msg:"發生嚴重錯誤"}])},getAgent:function(){this.store.commit("SETAGENT",["服務A","服務B"])},logOut:function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0];sessionStorage.getItem("sessionKey")&&this.notWaitingLogout&&(this.notWaitingLogout=!1,this.cleanUser())},cleanUser:function(){ce.a.close(),sessionStorage.removeItem("sessionKey"),this.everAuthPop=!1,this.notWaitingLogout=!0,this.store.commit("SETLOGIN",!1),this.store.commit("SETLOGS",[]),this.router.push({path:"/"})},getLevel:function(){var t=this;return fe()(de.a.mark(function e(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.store.commit("SETAPILEVEL",999);case 1:case"end":return e.stop()}},e,t)}))()},checkLevel:function(t){var e=sessionStorage.getItem("level"),n=this.store.getters.getApiLevel[t];return void 0===n||Number(e)>=Number(n)},getPlayerInfo:function(t){var e=this;return new ve.a(function(t,n){e.store.commit("member_report/SETPLAYERINFODATA",{name:"玩家A",currency:"TWD",add_time:"2018.09.01",first_bet:"2018.09.01",rounds:200,max_bet:500,avg_bet:200,ip:"87.87.87.87",last_bet:"2018.09.19",play_days:50,max_win:100,avg_win:20,os:"Windos",browser_type:"Chrome",sum_bet:100,sum_win:100}),t()})},getPlayerGame:function(t,e,n){var a=this;return new ve.a(function(t,e){for(var n=[{gid:"遊戲A",rounds:29,max_bet:111,max_win:22,avg_bet:3,avg_win:4,sum_win:200,sum_bet:300},{gid:"遊戲B",rounds:29,max_bet:111,max_win:22,avg_bet:3,avg_win:4,sum_win:200,sum_bet:300}],s=0,r=n.length;s<r;s++)n[s].total=n[s].sum_win-n[s].sum_bet;var i={mid:"2222",date:"2019.09.01 ~ 2018.10.01",data:n};a.store.commit("member_report/SETPLAYERGAMEDATA",i),t()})},getTicketUrl:function(t){var e=this;return new ve.a(function(n,a){e.requestFetch("/report/ticket_url?id="+t,"GET").catch(function(t){return a()}).then(function(t){t.status?n(t.data):a()})})},showModalInfo:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.modal.show(h,{title:t,content:e},{width:"35%",height:"auto",scrollable:n})}},ge=n("rifk"),ye=n.n(ge),we=n("CLX7"),ke=n.n(we),xe=n("nkUn"),Ce=n.n(xe),Te=n("Bb5x"),De=n("e6fC"),Se=n.n(De),Pe=(n("Jmt5"),n("9M+g"),n("ifQC")),Oe=n.n(Pe);c.default.use(Oe.a),c.default.use(Te.a),c.default.use(d.a),c.default.use(Se.a),c.default.use(ye.a,{dynamic:!0}),c.default.use(ke.a),c.default.use(Ce.a),ce.a.init(le,c.default.prototype.$notify),be.init(le,G.a,c.default.prototype.$modal),Object.defineProperty(c.default.prototype,"$ws",{value:ce.a}),Object.defineProperty(c.default.prototype,"$api",{value:be}),G.a.beforeEach(function(t,e,n){if(t.matched.some(function(t){return t.meta.requiresAuth})){var a=sessionStorage.getItem("sessionKey");if(be.getLevel().then(function(e){be.checkLevel(t.path)||be.logOut()}),le.state.isLogin)return void n();if(!a)return void n({path:"/login"});sessionStorage.getItem("level")>=900&&(ce.a.login(),be.getLog()),be.reConnect().then(function(t){return n()})}else"/login"===t.path&&be.logOut(),n()}),new c.default({el:"#app",router:G.a,store:le,render:function(t){return t($)}})},NQfk:function(t,e){},NbXQ:function(t,e){},OFyq:function(t,e){},OmgW:function(t,e){},P1o3:function(t,e){},QsK2:function(t,e,n){"use strict";var a={props:["totalRows","rows","currentPage"],data:function(){return{targetPage:1}},methods:{goPage:function(){var t=Math.floor(this.targetPage);t>Math.ceil(this.totalRows/this.rows)||t<1||this.$emit("changePage",t)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.totalRows?n("h6",{staticClass:"text-right"},[t._v("\n    "+t._s("目前於"+t.currentPage+"/"+Math.ceil(t.totalRows/t.rows)+"頁")+"\n    前往第"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.targetPage,expression:"targetPage"}],staticClass:"m-2 text-center",staticStyle:{width:"72px"},attrs:{type:"number",min:"1"},domProps:{value:t.targetPage},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goPage(e)},input:function(e){e.target.composing||(t.targetPage=e.target.value)}}}),t._v("頁\n    "),n("b-btn",{attrs:{variant:"primary"},on:{click:t.goPage}},[t._v("go")])],1):t._e()},staticRenderFns:[]};var r=n("VU/8")(a,s,!1,function(t){n("0mhX")},null,null);e.a=r.exports},RnKn:function(t,e){},SLz3:function(t,e){},SrSY:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"time-picker"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.displayTime,expression:"displayTime"}],staticClass:"display-time",attrs:{id:t.id,type:"text",readonly:""},domProps:{value:t.displayTime},on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)},input:function(e){e.target.composing||(t.displayTime=e.target.value)}}}),t._v(" "),t.hideClearButton?t._e():n("span",{directives:[{name:"show",rawName:"v-show",value:!t.showDropdown&&t.showClearBtn,expression:"!showDropdown && showClearBtn"}],staticClass:"clear-btn",on:{click:function(e){return e.stopPropagation(),t.clearTime(e)}}},[t._v("×")]),t._v(" "),t.showDropdown?n("div",{staticClass:"time-picker-overlay",on:{click:function(e){return e.stopPropagation(),t.toggleDropdown(e)}}}):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showDropdown,expression:"showDropdown"}],staticClass:"dropdown"},[n("div",{staticClass:"select-list"},[n("ul",{staticClass:"hours"},[n("li",{staticClass:"hint",domProps:{textContent:t._s(t.hourType)}}),t._v(" "),t._l(t.hours,function(e){return n("li",{class:{active:t.hour===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select("hour",e)}}})})],2),t._v(" "),n("ul",{staticClass:"minutes"},[n("li",{staticClass:"hint",domProps:{textContent:t._s(t.minuteType)}}),t._v(" "),t._l(t.minutes,function(e){return n("li",{class:{active:t.minute===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select("minute",e)}}})})],2),t._v(" "),t.secondType?n("ul",{staticClass:"seconds"},[n("li",{staticClass:"hint",domProps:{textContent:t._s(t.secondType)}}),t._v(" "),t._l(t.seconds,function(e){return n("li",{class:{active:t.second===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select("second",e)}}})})],2):t._e(),t._v(" "),t.apmType?n("ul",{staticClass:"apms"},[n("li",{staticClass:"hint",domProps:{textContent:t._s(t.apmType)}}),t._v(" "),t._l(t.apms,function(e){return n("li",{class:{active:t.apm===e},domProps:{textContent:t._s(e)},on:{click:function(n){return n.stopPropagation(),t.select("apm",e)}}})})],2):t._e()])])])},staticRenderFns:[]};e.a=a},TZuq:function(t,e){},UJEN:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i=n("fZjL"),o=n.n(i),l={name:"ModalAdd",created:function(){this.getLevelOptions()},data:function(){return{addData:{name:"",account:"",password:"",level:"",disabled:""},disabledOptions:[{value:"0",text:"啟用"},{value:"1",text:"停用"}],levelOptions:[]}},methods:s()({getLevelOptions:function(){for(var t=config.level,e=o()(t),n=0,a=e.length;n<a;n++)this.levelOptions.push({value:e[n],text:t[e[n]]})},clearAddData:function(){this.addData={name:"",account:"",password:"",level:"",disabled:""}},add:function(){this.$api.showModalInfo("修改資訊","新增成功"),this.clearAddData(),this.$modal.hide("modalAdd")}},Object(r.c)(["updateItems"]))},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"modalAdd",width:"30%",height:"auto"}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("建立帳號")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("modalAdd")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",[t._v("\n                帳號:\n                "),n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.account,callback:function(e){t.$set(t.addData,"account",e)},expression:"addData.account"}}),t._v("\n                密碼:\n                "),n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.password,callback:function(e){t.$set(t.addData,"password",e)},expression:"addData.password"}}),t._v("\n                名稱:\n                "),n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.name,callback:function(e){t.$set(t.addData,"name",e)},expression:"addData.name"}}),t._v("\n                角色:\n                "),n("b-form-select",{attrs:{options:t.levelOptions},model:{value:t.addData.level,callback:function(e){t.$set(t.addData,"level",e)},expression:"addData.level"}}),t._v("\n                狀態:\n                "),n("b-form-select",{attrs:{options:t.disabledOptions},model:{value:t.addData.disabled,callback:function(e){t.$set(t.addData,"disabled",e)},expression:"addData.disabled"}})],1)]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$modal.hide("modalAdd")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.add}},[t._v("OK")])],1)])])},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("8Ibb")},null,null).exports,d={name:"ModalEdit",data:function(){return{addData:{old_password:"",new_password:""}}},computed:s()({},Object(r.d)({account:"getAccount"})),methods:{clearAddData:function(){this.addData={old_password:"",new_password:""}},add:function(){this.addData.account=this.account,this.$api.showModalInfo("修改資訊","修改成功"),this.clearAddData(),this.$modal.hide("modalEdit")}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"modalEdit",width:"30%",height:"auto"}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("修改密碼")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("modalEdit")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",[t._v("\n                帳號:\n                "),n("b-form-input",{attrs:{type:"text",placeholder:t.account,disabled:""}}),t._v("\n                舊密碼:\n                "),n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.old_password,callback:function(e){t.$set(t.addData,"old_password",e)},expression:"addData.old_password"}}),t._v("\n                新密碼:\n                "),n("b-form-input",{attrs:{type:"text"},model:{value:t.addData.new_password,callback:function(e){t.$set(t.addData,"new_password",e)},expression:"addData.new_password"}})],1)]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$modal.hide("modalEdit")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.add}},[t._v("OK")])],1)])])},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("Gz5D")},null,null).exports,p=n("vLbJ"),v={name:"ListInfo",components:{ModalAdd:u,ModalEdit:f},data:function(){return{fields:[{key:"name",label:"名稱",sortable:!0},{key:"account",label:"帳號",sortable:!0},{key:"level",label:"角色",sortable:!0},{key:"disabled",label:"狀態",sortable:!0},{key:"last_login_ip",label:"最後登入IP",sortable:!0},{key:"last_login_at",label:"最後登入時間",sortable:!0},{key:"actions",label:"動作",class:"text-center"}],level:config.level}},created:function(){this.refresh(),this.setItems([{name:"人員1",account:"man1",level:999,disabled:1,last_login_ip:"87.87.87.87",last_login_at:"2019.09.09"},{name:"人員2",account:"man2",level:100,disabled:0,last_login_ip:"87.87.87.87",last_login_at:"2019.09.09"}])},computed:s()({},Object(r.d)({items:"getItems"})),methods:s()({refresh:function(){},edit:function(t,e,n){var a={account:e};"level"===t?a.level=n:a.disabled=n,this.$api.showModalInfo("修改資訊","修改成功")},disabledTextColor:function(t){return t?"text-danger":"text-success"},showAddModal:function(){this.$modal.show("modalAdd")},showEditModal:function(t){this.setAccount(t),this.$modal.show("modalEdit")},showCheckModal:function(t,e,n){var a=this;this.$modal.show(p.a,{title:"提示",content:"你確定要對"+e+"進行修改嗎?",action:function(){return a.edit(t,e,n)}},{scrollable:!0,width:"30%",height:"auto"})}},Object(r.c)(["setAccount","setItems"]))},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"accountController"}},[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{attrs:{md:"6"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("後台帳號管理")])]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"6"}},[n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"24px"},on:{click:function(e){return t.showAddModal()}}},[t._v("add_box")])],1)],1),t._v(" "),n("b-table",{attrs:{"show-empty":"",stacked:"md",items:t.items,fields:t.fields},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(t._s(e.value))]}},{key:"account",fn:function(e){return[t._v(t._s(e.value))]}},{key:"level",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link","no-caret":""}},[n("template",{slot:"button-content"},[t._v(t._s(t._f("level")(e.value)))]),t._v(" "),t._l(t.level,function(a,s){return n("b-dropdown-item",{key:s,on:{click:function(n){return t.showCheckModal("level",e.item.account,s)}}},[t._v(" "+t._s(a)+" ")])})],2)]}},{key:"disabled",fn:function(e){return[n("b-dropdown",{attrs:{variant:"link","no-caret":""}},[n("template",{slot:"button-content"},[n("span",{class:t.disabledTextColor(e.value)},[t._v(t._s(t._f("disabled")(e.value)))])]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.showCheckModal("disabled",e.item.account,0)}}},[t._v("啟用")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.showCheckModal("disabled",e.item.account,1)}}},[t._v("停用")])],2)]}},{key:"last_login_ip",fn:function(e){return[t._v(t._s(e.value||"無"))]}},{key:"last_login_at",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"actions",fn:function(e){return[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons",attrs:{title:"修改密碼"},on:{click:function(n){return t.showEditModal(e.item.account)}}},[t._v("edit")])]}}])}),t._v(" "),n("modal-add",{on:{refresh:function(e){return t.refresh()}}}),t._v(" "),n("modal-edit",{on:{refresh:function(e){return t.refresh()}}})],1)},staticRenderFns:[]};var _=n("VU/8")(v,h,!1,function(t){n("Cyqe")},null,null);e.a=_.exports},V8vA:function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("VF+w"),i=n("zKjs"),o=n("QsK2"),l={components:{DateTime:r.a,playerInfo:i.a,paginationFast:o.a},data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",keyWord:"",lastSearch:"",totalRows:0,per_page:25,currentPage:1,items:[],sort:"result",sortDesc:!0,fields:[{key:"name",label:"玩家名稱",sortable:!0,class:"text-left clickable"},{key:"currency",label:"幣別",sortable:!0,class:"text-center"},{key:"bet",label:"下注金額",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"result",label:"總輸贏",sortable:!0,class:"text-right"},{key:"rtp",label:"期望值",sortable:!0,class:"text-right"}]}},methods:{keyWordSearch:function(){this.lastSearch=this.keyWord,this.getMemberReport(1)},changePage:function(t){this.currentPage=t||this.currentPage,setTimeout(function(){return document.documentElement.scrollTop=0},100)},getMemberReport:function(t){this.startDate,this.startTime.HH,this.startTime.mm,this.startTime.ss,this.endDate,this.endTime.HH,this.endTime.mm,this.endTime.ss;this.lastSearch&&this.lastSearch;var e=[{name:"人員1",currency:"TWD",bet:200,win:200},{name:"人員1",currency:"TWD",bet:0,win:200},{name:"人員1",currency:"TWD",bet:200,win:0}];0===e.length&&this.$api.showModalInfo("Success","無資料");for(var n=0,a=e.length;n<a;n++)e[n].result=e[n].win-e[n].bet,e[n].rtp=this.toExpectdValue(e[n]);this.totalRows=e.length,this.items=e,this.currentPage=1,document.documentElement.scrollTop=0},getPlayerInfo:function(t){var e=this,n=[],a=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,r=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss;n.push(this.$api.getPlayerGame(t.mid,a,r)),n.push(this.$api.getPlayerInfo(t.name)),s.a.all(n).then(function(t){return e.$modal.show(i.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!")})},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},expectedTextColor:function(t){return t>=98?"color: #dc3545":t<=94?"color: #93c47d":"color: #45818e"},toExpectdValue:function(t){return t?0===t.win?0:0===t.bet?100:(t.win/t.bet*100).toFixed(2):t}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("玩家報表")])]),t._v(" "),n("b-col",{attrs:{md:"7"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                    玩家關鍵字\n                ")]),t._v(" "),n("b-form-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyWordSearch()}},model:{value:t.keyWord,callback:function(e){t.keyWord=e},expression:"keyWord"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:t.keyWordSearch}},[t._v("查詢")])],1)],1),t._v(" "),n("div",{staticClass:"p-2"},[n("b-table",{attrs:{"show-empty":"",bordered:"",hover:"","current-page":t.currentPage,"per-page":t.per_page,items:t.items,fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item)}}},[t._v(t._s(e.value))])]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value))]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,e.item.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,e.item.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v(t._s(t._f("formatMoney")(e.value,e.item.currency)))])]}},{key:"rtp",fn:function(e){return[n("span",{style:t.expectedTextColor(e.value)},[t._v(t._s(e.value)+"%")])]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:function(e){return t.changePage(e)}}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.per_page,align:"right",limit:10},on:{change:t.changePage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("NQfk")},null,null);e.a=u.exports},"VF+w":function(t,e,n){"use strict";var a=n("IC97"),s=n("SVjV"),r=n.n(s),i=n("oqQY"),o=n.n(i),l={props:{noQuick:{default:!1},monthFirst:{default:!1}},components:{Datepicker:a.a,VueTimepicker:r.a},created:function(){this.monthFirst?this.getMonth():this.getDay()},data:function(){return{format:"yyyy-MM-dd",startDate:"",endDate:"",startTime:"",endTime:""}},computed:{startDisable:function(){return{from:new Date(o()(this.endDate))}},endDisable:function(){return{to:new Date(o()(this.startDate))}}},methods:{emitStartDate:function(){this.$emit("startDate",o()(this.startDate).format("YYYY-MM-DD"))},emitEndDate:function(){this.$emit("endDate",o()(this.endDate).format("YYYY-MM-DD"))},getDay:function(){this.startDate=new Date(o()()),this.endDate=this.startDate,this.setTimeAndSend()},getYesterday:function(){this.startDate=new Date(o()().subtract(1,"days")),this.endDate=this.startDate,this.setTimeAndSend()},getWeek:function(){this.startDate=new Date(o()().startOf("week")),this.endDate=new Date(o()().endOf("week")),this.setTimeAndSend()},getLastWeek:function(){this.startDate=new Date(o()().startOf("week").add(-1,"week")),this.endDate=new Date(o()().endOf("week").add(-1,"week")),this.setTimeAndSend()},getMonth:function(){this.startDate=new Date(o()().startOf("month")),this.endDate=new Date(o()().endOf("month")),this.setTimeAndSend()},setTimeAndSend:function(){this.startTime={HH:"00",mm:"00",ss:"00"},this.endTime={HH:"23",mm:"59",ss:"59"},this.emitStartDate(),this.emitEndDate()}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-input-group",[t.noQuick?t._e():n("b-btn",{staticClass:"mr-2",on:{click:t.getDay}},[t._v("本日")]),t._v(" "),t.noQuick?t._e():n("b-btn",{staticClass:"mr-2",on:{click:t.getYesterday}},[t._v("昨日")]),t._v(" "),t.noQuick?t._e():n("b-btn",{staticClass:"mr-2",on:{click:t.getWeek}},[t._v("本週")]),t._v(" "),t.noQuick?t._e():n("b-btn",{staticClass:"mr-2",on:{click:t.getLastWeek}},[t._v("上週")]),t._v(" "),t.noQuick?t._e():n("b-btn",{staticClass:"mr-2",on:{click:t.getMonth}},[t._v("本月")]),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("開始時間")]),t._v(" "),n("datepicker",{attrs:{format:t.format,disabledDates:t.startDisable,"input-class":"date-input"},on:{input:t.emitStartDate},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),n("vue-timepicker",{attrs:{format:"HH:mm:ss","hide-clear-button":""},on:{change:function(e){return t.$emit("startTime",t.startTime)}},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("結束時間")]),t._v(" "),n("datepicker",{attrs:{format:t.format,disabledDates:t.endDisable,"input-class":"date-input"},on:{input:t.emitEndDate},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}}),t._v(" "),n("vue-timepicker",{attrs:{format:"HH:mm:ss","hide-clear-button":""},on:{change:function(e){return t.$emit("endTime",t.endTime)}},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("tIfh")},null,null);e.a=u.exports},VQbX:function(t,e){},VpTl:function(t,e){},WPpN:function(t,e){},WWc2:function(t,e){},"XXQ+":function(t,e){},Xu88:function(t,e){},YaEn:function(t,e,n){"use strict";(function(t){var a=n("7+uW"),s=n("/ocq"),r=n("K31e"),i=n("wUZA"),o=n("G8JT"),l=n("UJEN"),c=n("md3v"),u=n("V8vA"),d=n("LwkF"),m=n("rO7H"),f=n("oOAP"),p=n("nIbb"),v=n("J7rB"),h=n("2q9L"),_=n("LfNM"),b=n("kz8Q"),g=n("kJ5R"),y=n("K0wq"),w=n("rB8w"),k=n("yseo"),x=n("hZN8");a.default.use(s.a);var C=new s.a({mode:"hash",base:t,routes:[{path:"/login",component:r.a,meta:{requiresAuth:!1}},{path:"/home",component:i.a,meta:{requiresAuth:!0}},{path:"/agent",component:o.a,meta:{requiresAuth:!0}},{path:"/account",component:l.a,meta:{requiresAuth:!0}},{path:"/game_report",component:c.a,meta:{requiresAuth:!0}},{path:"/member_report",component:u.a,meta:{requiresAuth:!0}},{path:"/member_day_report",component:d.a,meta:{requiresAuth:!0}},{path:"/profit_loss_report",component:f.a,meta:{requiresAuth:!0}},{path:"/ticket",component:p.a,meta:{requiresAuth:!0}},{path:"/server_config",component:m.a,meta:{requiresAuth:!0}},{path:"/jackpot",component:v.a,meta:{requiresAuth:!0}},{path:"/game_list",component:h.a,meta:{requiresAuth:!0}},{path:"/member_list",component:_.a,meta:{requiresAuth:!0}},{path:"/member_logs",component:b.a,meta:{requiresAuth:!0}},{path:"/game_analysis",component:g.a,meta:{requiresAuth:!0}},{path:"/member_analysis",component:y.a,meta:{requiresAuth:!0}},{path:"/operator_log",component:w.a,meta:{requiresAuth:!0}},{path:"/dbinfo",component:k.a,meta:{requiresAuth:!0}},{path:"/member_group",component:x.a,meta:{requiresAuth:!0}},{path:"/*",redirect:"/login"}]});e.a=C}).call(e,"/")},aGMw:function(t,e){},aJ7k:function(t,e){},aNhC:function(t,e){},"ah+r":function(t,e){},c4b6:function(t,e){},"cRe/":function(t,e){},dih9:function(t,e){},e1Fa:function(t,e){},f8Ku:function(t,e){},gCMD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(n("fZjL")),s=r(n("mvHQ"));function r(t){return t&&t.__esModule?t:{default:t}}var i={HOUR_TOKENS:["HH","H","hh","h","kk","k"],MINUTE_TOKENS:["mm","m"],SECOND_TOKENS:["ss","s"],APM_TOKENS:["A","a"]};e.default={name:"VueTimepicker",props:{value:{type:Object},hideClearButton:{type:Boolean},format:{type:String},minuteInterval:{type:Number},secondInterval:{type:Number},id:{type:String}},data:function(){return{hours:[],minutes:[],seconds:[],apms:[],showDropdown:!1,muteWatch:!1,hourType:"HH",minuteType:"mm",secondType:"",apmType:"",hour:"",minute:"",second:"",apm:"",fullValues:void 0}},computed:{displayTime:function(){var t=String(this.format||"HH:mm");return this.hour&&(t=t.replace(new RegExp(this.hourType,"g"),this.hour)),this.minute&&(t=t.replace(new RegExp(this.minuteType,"g"),this.minute)),this.second&&this.secondType&&(t=t.replace(new RegExp(this.secondType,"g"),this.second)),this.apm&&this.apmType&&(t=t.replace(new RegExp(this.apmType,"g"),this.apm)),t},showClearBtn:function(){return!!(this.hour&&""!==this.hour||this.minute&&""!==this.minute)}},watch:{format:"renderFormat",minuteInterval:function(t){this.renderList("minute",t)},secondInterval:function(t){this.renderList("second",t)},value:"readValues",displayTime:"fillValues"},methods:{formatValue:function(t,e){switch(t){case"H":case"m":case"s":return String(e);case"HH":case"mm":case"ss":return e<10?"0"+e:String(e);case"h":case"k":return String(e+1);case"hh":case"kk":return e+1<10?"0"+(e+1):String(e+1);default:return""}},checkAcceptingType:function(t,e,n){if(!t||!e||!e.length)return"";for(var a=0;a<t.length;a++)if(e.indexOf(t[a])>-1)return t[a];return n||""},renderFormat:function(t){(t=t||this.format)&&t.length||(t="HH:mm"),this.hourType=this.checkAcceptingType(i.HOUR_TOKENS,t,"HH"),this.minuteType=this.checkAcceptingType(i.MINUTE_TOKENS,t,"mm"),this.secondType=this.checkAcceptingType(i.SECOND_TOKENS,t),this.apmType=this.checkAcceptingType(i.APM_TOKENS,t),this.renderHoursList(),this.renderList("minute"),this.secondType&&this.renderList("second"),this.apmType&&this.renderApmList();var e=this;this.$nextTick(function(){e.readValues()})},renderHoursList:function(){var t="h"===this.hourType||"hh"===this.hourType?12:24;this.hours=[];for(var e=0;e<t;e++)this.hours.push(this.formatValue(this.hourType,e))},renderList:function(t,e){if("second"===t)e=e||this.secondInterval;else{if("minute"!==t)return;e=e||this.minuteInterval}0===e?e=60:e>60?(window.console.warn("`"+t+"-interval` should be less than 60. Current value is",e),e=1):e<1?(window.console.warn("`"+t+"-interval` should be NO less than 1. Current value is",e),e=1):e||(e=1),"minute"===t?this.minutes=[]:this.seconds=[];for(var n=0;n<60;n+=e)"minute"===t?this.minutes.push(this.formatValue(this.minuteType,n)):this.seconds.push(this.formatValue(this.secondType,n))},renderApmList:function(){this.apms=[],this.apmType&&(this.apms="A"===this.apmType?["AM","PM"]:["am","pm"])},readValues:function(){if(this.value&&!this.muteWatch){var t=JSON.parse((0,s.default)(this.value||{})),e=(0,a.default)(t);0!==e.length&&(e.indexOf(this.hourType)>-1&&(this.hour=t[this.hourType]),e.indexOf(this.minuteType)>-1&&(this.minute=t[this.minuteType]),e.indexOf(this.secondType)>-1?this.second=t[this.secondType]:this.second=0,e.indexOf(this.apmType)>-1&&(this.apm=t[this.apmType]),this.fillValues())}},fillValues:function(){var t={},e=this.hour,n=this.hourType,a=e||0===e?Number(e):"",s=this.isTwelveHours(n),r=!(!s||!this.apm)&&String(this.apm).toLowerCase();if(i.HOUR_TOKENS.forEach(function(i){if(i!==n){var o=void 0,l=void 0;switch(i){case"H":case"HH":if(!String(a).length)return void(t[i]="");o=s?"pm"===r?a<12?a+12:a:a%12:a%24,t[i]="HH"===i&&o<10?"0"+o:String(o);break;case"k":case"kk":if(!String(a).length)return void(t[i]="");o=s?"pm"===r?a<12?a+12:a:12===a?24:a:0===a?24:a,t[i]="kk"===i&&o<10?"0"+o:String(o);break;case"h":case"hh":if(r)o=a,l=r||"am";else{if(!String(a).length)return t[i]="",t.a="",void(t.A="");a>11?(l="pm",o=12===a?12:a%12):(l=s?"":"am",o=a%12==0?12:a)}t[i]="hh"===i&&o<10?"0"+o:String(o),t.a=l,t.A=l.toUpperCase()}}else t[i]=e}),this.minute||0===this.minute){var o=Number(this.minute);t.m=String(o),t.mm=o<10?"0"+o:String(o)}else t.m="",t.mm="";if(this.second||0===this.second){var l=Number(this.second);t.s=String(l),t.ss=l<10?"0"+l:String(l)}else t.s="",t.ss="";this.fullValues=t,this.updateTimeValue(t),this.$emit("change",{data:t})},updateTimeValue:function(t){this.muteWatch=!0;var e=this,n=JSON.parse((0,s.default)(this.value||{})),r={};(0,a.default)(n).forEach(function(e){r[e]=t[e]}),this.$emit("input",r),this.$nextTick(function(){e.muteWatch=!1})},isTwelveHours:function(t){return"h"===t||"hh"===t},toggleDropdown:function(){this.showDropdown=!this.showDropdown},select:function(t,e){"hour"===t?this.hour=e:"minute"===t?this.minute=e:"second"===t?this.second=e:"apm"===t&&(this.apm=e)},clearTime:function(){this.hour="",this.minute="",this.second="",this.apm=""}},mounted:function(){this.renderFormat()}}},hNte:function(t,e){},hZN8:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("新增分組")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[t._v("\n        分組ID:\n        "),n("b-form-input",{attrs:{type:"number"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v("\n        名稱:\n        "),n("b-form-input",{attrs:{type:"text"},model:{value:t.property,callback:function(e){t.property=e},expression:"property"}}),t._v("\n        類別:\n        "),n("b-form-select",{attrs:{options:t.typeOptions},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),t._v("\n        設定值:\n        "),0===t.type?n("b-form-select",{attrs:{options:t.bolOptions},model:{value:t.value[0],callback:function(e){t.$set(t.value,0,e)},expression:"value[0]"}}):t._e(),t._v(" "),1===t.type?n("b-form-input",{attrs:{type:"number"},model:{value:t.value[1],callback:function(e){t.$set(t.value,1,e)},expression:"value[1]"}}):t._e(),t._v(" "),2===t.type?n("b-form-input",{attrs:{type:"text"},model:{value:t.value[2],callback:function(e){t.$set(t.value,2,e)},expression:"value[2]"}}):t._e()],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("取消")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.edit()}}},[t._v("新增")])])])},staticRenderFns:[]};var s=n("VU/8")({props:["refresh"],data:function(){return{typeOptions:[{value:0,text:"boolean"},{value:1,text:"number"},{value:2,text:"string"}],bolOptions:["true","false"],id:"",property:"",type:0,value:["true","",""],typeEnum:["boolean","number","string"]}},methods:{edit:function(){var t=this.type,e=this.value[t];this.id&&this.property&&e?(this.id,this.property,this.typeEnum[t],this.$api.showModalInfo("SUCCESS","新增成功"),this.$emit("close")):this.$api.showModalInfo("ERROR","資料不得為空")}}},a,!1,function(t){n("Mnpj")},null,null).exports,r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-popover",{attrs:{target:""+t.id+t.item.name,triggers:"click",show:t.show},on:{"update:show":function(e){t.show=e}}},[n("template",{slot:"title"},[t._v("\n        修改"+t._s(t.item.name)+": \n        "),n("button",{staticClass:"close",staticStyle:{"line-height":"0.7"},attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.show=!1}}},[t._v("×")])]),t._v(" "),n("form",[n("b-input-group",["boolean"===t.item.type?n("b-form-select",{attrs:{options:t.bolOptions},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e(),t._v(" "),"number"===t.item.type?n("b-form-input",{attrs:{type:"number"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.edit(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e(),t._v(" "),"string"===t.item.type?n("b-form-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.edit(e)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):t._e()],1),t._v(" "),n("b-row",{staticClass:"mt-2 text-right"},[n("b-col",[n("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:t.edit}},[t._v("更改")])],1)],1)],1)],2)},staticRenderFns:[]};var i=n("VU/8")({props:["id","item","fresh"],created:function(){this.value=this.item.value},data:function(){return{bolOptions:["true","false"],show:!1,value:""}},methods:{edit:function(){this.value?(this.id,this.item.name,this.value,this.$api.showModalInfo("SUCCESS","更改成功"),this.show=!1):this.$api.showModalInfo("ERROR","資料不得為空")}}},r,!1,function(t){n("L32k")},null,null).exports,o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100",attrs:{id:"member-modal"}},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("分組玩家(共"+t._s(t.data.length)+"位)")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-card-group",[n("b-card",t._l(t.localData[0],function(e,a){return n("b-list-group-item",{key:a},[n("span",[t._v(t._s(e))])])}),1),t._v(" "),n("b-card",t._l(t.localData[1],function(e,a){return n("b-list-group-item",{key:a},[n("span",[t._v(t._s(e))])])}),1),t._v(" "),n("b-card",t._l(t.localData[2],function(e,a){return n("b-list-group-item",{key:a},[n("span",[t._v(t._s(e))])])}),1)],1),t._v(" "),t.data.length?t._e():n("span",{staticClass:"ml-4"},[t._v("該分組無玩家")])],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("OK")])])])},staticRenderFns:[]};var l=n("VU/8")({props:["data"],mounted:function(){for(var t=0,e=this.data.length;t<e;t++){var n=t%3;this.localData[n].push(this.data[t])}},data:function(){return{localData:[[],[],[]]}}},o,!1,function(t){n("msdW")},null,null).exports,c=n("vLbJ"),u={created:function(){this.getData()},components:{editPopover:i},data:function(){return{data:[],fields:[{key:"name",label:"名稱",class:"text-center"},{key:"type",label:"類別",class:"text-center"},{key:"value",label:"設定值",class:"text-center clickable"},{key:"updated_at",label:"最近更新時間",class:"text-center"},{key:"action",label:"選項",class:"text-center"}]}},methods:{checkModal:function(t,e){var n=this;this.$modal.show(c.a,{title:"提示",content:"你確定要刪除分組ID"+t+"的"+e+"嗎?",action:function(){return n.deleteOne(t,e)}},{scrollable:!0,width:"30%",height:"auto"})},deleteOne:function(t,e){this.$api.showModalInfo("SUCCESS","刪除成功")},getMember:function(t){this.$modal.show(l,{data:["人員1","人員1","人員1","人員1","人員1","人員1","人員1"]},{scrollable:!0,width:"50%",height:"auto"})},getData:function(){this.data=[{id:0,details:[{name:"rtp",type:"number",value:.87,updated_at:"2018-09-09"},{name:"神秘福利",type:"boolean",value:!0,updated_at:"2018-09-09"}]},{id:1,details:[{name:"rtp",type:"number",value:.887,updated_at:"2018-09-09"}]}]},add:function(){this.$modal.show(s,{refresh:this.getData},{scrollable:!0,width:"30%",height:"auto"})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card-header"},[n("b-row",{staticClass:"m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("玩家分組")])]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"10"}},[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons",staticStyle:{"font-size":"24px"},attrs:{title:"新增分組"},on:{click:t.add}},[t._v("add_box")])],1)],1)],1),t._v(" "),t._l(t.data,function(e,a){return n("div",{key:a,staticClass:"p-2 border"},[n("b-table",{attrs:{hover:"","show-empty":"",bordered:"","caption-top":"",items:e.details,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"type",fn:function(e){return[t._v(t._s(e.value||"無資料"))]}},{key:"value",fn:function(a){return[n("div",{attrs:{id:""+e.id+a.item.name}},[t._v(t._s(a.value||"無資料"))]),t._v(" "),n("edit-popover",{attrs:{id:e.id,item:a.item,fresh:t.getData}})]}},{key:"updated_at",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"action",fn:function(a){return[n("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"material-icons align-middle",attrs:{title:"刪除"},on:{click:function(n){return t.checkModal(e.id,a.item.name)}}},[t._v("\n                    delete\n                ")])]}}],null,!0)},[n("template",{slot:"table-caption"},[n("span",{staticStyle:{"font-size":"24px","vertical-align":"middle"}},[t._v("分組ID: "+t._s(e.id))]),t._v(" "),n("b-btn",{staticClass:"ml-2",on:{click:function(n){return t.getMember(e.id)}}},[t._v("檢視玩家")])],1)],2)],1)})],2)},staticRenderFns:[]};var m=n("VU/8")(u,d,!1,function(t){n("dih9")},null,null);e.a=m.exports},jWui:function(t,e){},kJ5R:function(t,e,n){"use strict";var a=n("fZjL"),s=n.n(a),r=n("VF+w"),i=n("54c5"),o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale,padding:t.padding}},[n("v-tooltip"),t._v(" "),n("v-axis"),t._v(" "),n("v-bar",{attrs:{position:t.x+"*"+t.y,label:t.label}})],1)},staticRenderFns:[]};var l=n("VU/8")({props:["data","x","y","height","padding"],computed:{label:function(){return[this.y,{offset:16}]},scale:function(){return[{dataKey:this.y}]}},data:function(){return{}}},o,!1,function(t){n("cRe/")},null,null).exports,c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,scale:t.scale,padding:t.padding}},[n("v-tooltip"),t._v(" "),n("v-legend"),t._v(" "),n("v-axis",{attrs:{"data-key":t.y2,grid:t.axisGrid,label:t.axisLabel}}),t._v(" "),n("v-bar",{attrs:{position:t.x+"*"+t.y,color:"key",adjust:[{type:"dodge",marginRatio:1/32}]}}),t._v(" "),n("v-line",{attrs:{position:t.x+"*"+t.y2,color:"#fdae6b",label:t.label}}),t._v(" "),n("v-point",{attrs:{shape:"circle",position:t.x+"*"+t.y2,color:"#fdae6b"}})],1)],1)},staticRenderFns:[]};var u=n("VU/8")({props:["data","x","y","y2","height","padding"],computed:{label:function(){return[this.y2,{offset:-16,textStyle:{fill:"#fdae6b"}}]},scale:function(){return[{dataKey:this.y2,max:2,min:0},{dataKey:this.x,type:"timeCat"}]}},data:function(){return{adjust:[{type:"dodge",marginRatio:1/32}],axisLabel:{textStyle:{fill:"#fdae6b"}},axisGrid:null}}},c,!1,function(t){n("aJ7k")},null,null).exports,d={components:{GameSelect:i.a,DateTime:r.a,BarChart:l,DualLineChart:u},created:function(){this.getCurrencyOption()},data:function(){return{titleDays:"",titleCurrency:"",titleGames:"",titleTotals:"",gid:[],startDate:"",endDate:"",startTime:"",endTime:"",betType:[1],betTypeOptions:s()(config.betTypes||{}).map(function(t){return{text:config.betTypes[t],value:Number(t)}}),currency:"TWD",currencyOptions:[],data_win_bet:[],data_bet:[]}},methods:{getData:function(){var t=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,e=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss,n=(this.currency,this.gid,this.betType,(new DataSet.View).source([{date:"2018-09-01",bet:200,win:200,rtp:1},{date:"2018-09-02",bet:100,win:200,rtp:.2},{date:"2018-09-03",bet:0,win:200,rtp:.95},{date:"2018-09-04",bet:50,win:200,rtp:.97}]));n.transform({type:"fold",fields:["bet","win"],key:"key",value:"value"}),this.data_win_bet=n.rows;for(var a=0,s=[{bet:10,total:100},{bet:30,total:300},{bet:50,total:500}],r=0,i=s.length;r<i;r++)s[r].bet=""+s[r].bet,a+=s[r].total;this.data_bet=s;var o=this.$options.filters.toGidNameString(this.gid);o="無"===o?"全部":o,this.titleDays="時間:"+t+"~"+e,this.titleCurrency="幣值: "+this.currency,this.titleGames="遊戲: "+o,this.titleTotals="資料量: "+a+"筆"},getCurrencyOption:function(){for(var t=config.currency,e=s()(t),n=0,a=e.length;n<a;n++)this.currencyOptions.push({value:e[n],text:t[e[n]]})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("遊戲分析")])]),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-input-group",{attrs:{prepend:"幣別"}},[n("b-form-select",{attrs:{options:t.currencyOptions},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6"}},[n("date-time",{attrs:{monthFirst:!0},on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"2"}},[n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse",modifiers:{collapse:!0}}],staticClass:"ml-2"},[t._v("進階搜尋")]),t._v(" "),n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getData()}}},[t._v("查詢")])],1),t._v(" "),n("b-col",{attrs:{md:"12"}},[n("div",[t._v(t._s(t.titleDays))]),t._v(" "),n("div",[t._v(t._s(t.titleCurrency))]),t._v(" "),n("div",[t._v(t._s(t.titleGames))]),t._v(" "),n("div",[t._v(t._s(t.titleTotals))])]),t._v(" "),n("b-col",{attrs:{md:"12"}},[n("b-collapse",{attrs:{id:"collapse"}},[n("b-card",[n("b-row",[n("b-col",[n("b-form-group",{attrs:{label:"注單類型"}},[n("b-form-checkbox-group",{attrs:{options:t.betTypeOptions},model:{value:t.betType,callback:function(e){t.betType=e},expression:"betType"}})],1)],1)],1),t._v(" "),n("b-row",[n("b-col",[n("b-form-group",{staticClass:"mt-2",attrs:{label:"遊戲查詢"}},[n("game-select",{on:{gidChange:function(e){t.gid=e}}})],1)],1)],1)],1)],1)],1)],1),t._v(" "),n("div",[t.data_win_bet.length?n("div",{staticClass:"card-header m-0"},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("下注贏得")])]):t._e(),t._v(" "),n("dual-line-chart",{attrs:{data:t.data_win_bet,x:"date",y:"value",y2:"rtp",height:600,padding:["10%","10%"]}}),t._v(" "),t.data_bet.length?n("div",{staticClass:"card-header m-0"},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("下注分佈")])]):t._e(),t._v(" "),n("bar-chart",{attrs:{data:t.data_bet,x:"bet",y:"total",height:600,padding:["10%","10%"]}})],1)],1)},staticRenderFns:[]};var f=n("VU/8")(d,m,!1,function(t){n("wkH7")},null,null);e.a=f.exports},kz8Q:function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("VF+w"),i=n("QsK2"),o=n("zKjs"),l={components:{DateTime:r.a,paginationFast:i.a},data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",totalRows:0,rows:25,currentPage:1,items:[],fields:[{key:"gid",label:"遊戲名稱",class:"text-center"},{key:"name",label:"玩家名稱",class:"text-center clickable"},{key:"currency",label:"幣別",class:"text-center"},{key:"ip",label:"IP位置",class:"text-center"},{key:"device",label:"裝置/系統/版本",class:"text-center"},{key:"browser_type",label:"瀏覽器/版本",class:"text-center"},{key:"start_time",label:"開始時間",class:"text-center"},{key:"end_time",label:"結束時間",class:"text-center"}]}},methods:{getMemberLogs:function(t){this.currentPage=t;var e=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,n=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss,a=(this.currentPage,this.rows,[{gid:2222,name:"人員1",currency:"TWD",ip:"87.87.87.87",device:"desktop",browser_type:"chrome",start_time:"2018-09-09",end_time:"2018-09-09",os:"windows",os_ver:"87",browser_ver:"87"},{gid:2222,name:"人員1",currency:"TWD",ip:"87.87.87.87",device:"desktop",browser_type:"chrome",start_time:"2018-09-09",end_time:"2018-09-09",os:"windows",os_ver:"87",browser_ver:"87"},{gid:2222,name:"人員1",currency:"TWD",ip:"87.87.87.87",device:"desktop",browser_type:"chrome",start_time:"2018-09-09",end_time:"2018-09-09",os:"windows",os_ver:"87",browser_ver:"87"}]),s=3;this.items=a,this.totalRows=s,document.documentElement.scrollTop=0},getPlayerInfo:function(t,e){var n=this;if(e){var a=[];a.push(this.$api.getPlayerGame(t,"","")),a.push(this.$api.getPlayerInfo(e)),s.a.all(a).then(function(t){return n.$modal.show(o.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return n.$api.showModalInfo("Error","查詢失敗!("+t.msg+")")})}}}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("遊玩記錄")])]),t._v(" "),n("b-col",{attrs:{md:"9"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getMemberLogs(1)}}},[t._v("查詢")])],1)],1),t._v(" "),n("div",{staticClass:"p-2"},[n("b-table",{attrs:{"show-empty":"",hover:"",items:t.items,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"name",fn:function(e){return[n("div",{on:{click:function(n){return t.getPlayerInfo(e.item.mid,e.value)}}},[t._v(t._s(e.value||"試玩帳號"))])]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value))]}},{key:"ip",fn:function(e){return[t._v(t._s(e.value))]}},{key:"device",fn:function(e){return[t._v(t._s(e.value)+"/"+t._s(e.item.os)+"/"+t._s(e.item.os_ver))]}},{key:"browser_type",fn:function(e){return[t._v(t._s(e.value)+"/"+t._s(e.item.browser_ver))]}},{key:"start_time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"end_time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.rows,currentPage:t.currentPage},on:{changePage:t.getMemberLogs}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.rows,align:"right",limit:10},on:{change:t.getMemberLogs},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},staticRenderFns:[]};var u=n("VU/8")(l,c,!1,function(t){n("e1Fa")},null,null);e.a=u.exports},lcJk:function(t,e){},md3v:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("1sAh"),i=n("1/1n"),o=n("4s/m"),l=n("fZjL"),c=n.n(l),u=n("NYxO"),d=n("54c5"),m=n("VF+w"),f=Object(u.a)("game_report"),p=f.mapGetters,v=f.mapActions,h={name:"input-filed",components:{DateTime:m.a,GameSelect:d.a},data:function(){return{type:"",startDate:"",endDate:"",startTime:"",endTime:"",currency:"TWD",gid:[],modalInfo:{title:"",content:""},currencyOptions:[]}},created:function(){this.getCurrencyOption()},computed:s()({},p({})),methods:s()({getGameReport:function(){this.items=[];var t=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,e=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss;this.gid,this.currency;this.setItems([{gid:2202,rounds:50,players:3,bet:5e3,win:1e3,result:-4e3},{gid:2203,rounds:20,players:1,bet:2e3,win:1e3,result:-1e3},{gid:2204,rounds:3e3,players:30,bet:1e3,win:1e3,result:0}]),this.setCurrency(this.currency),this.setStartTime(t),this.setEndTime(e)},getCurrencyOption:function(){for(var t=config.currency,e=c()(t),n=0,a=e.length;n<a;n++)this.currencyOptions.push({value:e[n],text:t[e[n]]})}},v(["setItems","setCurrency","setStartTime","setEndTime"]))},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"input-filed"}},[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("遊戲報表")])]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"2"}},[n("b-input-group",{attrs:{prepend:"幣別"}},[n("b-form-select",{attrs:{options:t.currencyOptions},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}}),t._v(" "),n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse",modifiers:{collapse:!0}}],staticClass:"ml-2"},[t._v("遊戲列表")])],1)],1),t._v(" "),n("b-col",{attrs:{md:"7"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:function(e){return t.getGameReport()}}},[t._v("查詢")])],1)],1),t._v(" "),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"}},[n("game-select",{on:{gidChange:function(e){t.gid=e}}})],1)],1)},staticRenderFns:[]},b=n("VU/8")(h,_,!1,null,null,null).exports,g=n("zKjs"),y=n("QsK2"),w=Object(u.a)("game_report"),k=(w.mapGetters,w.mapActions),x={name:"gameReport",components:{List:r.a,PlayersTable:i.a,RoundsTable:o.a,InputFiled:b,playerInfo:g.a,paginationFast:y.a},data:function(){return{sendData:"",totalRows:0,per_page:25,currentPage:1,modalInfo:{title:"",content:[]}}},beforeDestroy:function(){this.clear()},computed:{playersItems:function(){return this.modalInfo.content},roundsItems:function(){return this.modalInfo.content}},methods:s()({requestPage:function(t){},showPlayerInfoModal:function(){this.$modal.show(g.a,{},{scrollable:!0,width:"80%",height:"auto"})},showPlayersModal:function(t,e){this.modalInfo.title=t,this.modalInfo.content=e,this.$modal.show("playersTable")},showRoundsModal:function(t,e,n){console.log(e),this.addResult(e.list),this.sendData=n,this.totalRows=e.total,this.modalInfo.title=t,this.modalInfo.content=e.list,this.$modal.show("roundsTable")},addResult:function(t){for(var e=0,n=t.length;e<n;e++)t[e].result=t[e].win-t[e].bet},resetModal:function(){this.modalInfo.title="",this.modalInfo.content=[],this.currentPage=1}},k(["clear"]))},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"gameReport"}},[n("input-filed"),t._v(" "),n("list",{on:{showPlayersModal:function(e){return t.showPlayersModal(e.title,e.content)},showRoundsModal:function(e){return t.showRoundsModal(e.title,e.content,e.sendData)}}}),t._v(" "),n("modal",{attrs:{name:"playersTable",width:"80%",height:"auto",scrollable:""},on:{"before-close":t.resetModal}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalInfo.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("playersTable")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("players-table",{attrs:{items:t.playersItems},on:{getPlayerInfo:t.showPlayerInfoModal}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("playersTable")}}},[t._v("OK")])])])]),t._v(" "),n("modal",{attrs:{id:"roundsTable",name:"roundsTable",width:"80%",height:"auto",scrollable:""},on:{"before-close":t.resetModal}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.modalInfo.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("roundsTable")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("rounds-table",{attrs:{items:t.roundsItems},on:{getPlayerInfo:t.showPlayerInfoModal}}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:t.requestPage}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.per_page,align:"right",limit:10},on:{change:t.requestPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("roundsTable")}}},[t._v("OK")])])])])],1)},staticRenderFns:[]};var T=n("VU/8")(x,C,!1,function(t){n("SLz3")},null,null);e.a=T.exports},msdW:function(t,e){},nIbb:function(t,e,n){"use strict";var a=n("fZjL"),s=n.n(a),r=n("//Fk"),i=n.n(r),o=n("VF+w"),l=n("54c5"),c=n("zKjs"),u=(n("tdoC"),{render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-table",{attrs:{"show-empty":"",items:t.bet,bordered:"","empty-text":"無資料",responsive:"","caption-top":""},scopedSlots:t._u([{key:"time",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.value))+" ")]}}])},[n("template",{slot:"table-caption"},[t._v("bet")])],2),t._v(" "),n("b-table",{attrs:{"show-empty":"",items:t.betDtl01,bordered:"","empty-text":"無資料",responsive:"","caption-top":""}},[n("template",{slot:"table-caption"},[t._v("betDet")])],2),t._v(" "),n("b-table",{attrs:{"show-empty":"",items:t.betTran,bordered:"","empty-text":"無資料",responsive:"","caption-top":""},scopedSlots:t._u([{key:"time",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.value))+" ")]}}])},[n("template",{slot:"table-caption"},[t._v("betTran")])],2),t._v(" "),n("b-table",{attrs:{"show-empty":"",items:t.betContribute,bordered:"","empty-text":"無資料",responsive:"","caption-top":""},scopedSlots:t._u([{key:"created_at",fn:function(e){return[t._v(" "+t._s(t._f("formatTime")(e.value))+" ")]}}])},[n("template",{slot:"table-caption"},[t._v("betContribute")])],2)],1),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("OK")])])])},staticRenderFns:[]});n("VU/8")({props:["title","content"],computed:{bet:function(){return this.content.bet?[this.content.bet]:[]},betDtl01:function(){return this.content.betDtl01?this.content.betDtl01:[]},betTran:function(){return this.content.betTran?[this.content.betTran]:[]},betContribute:function(){return this.content.betContribute?[this.content.betContribute]:[]}}},u,!1,function(t){n("u5K9")},null,null).exports;var d=n("QsK2"),m={name:"ticket-list",components:{DateTime:o.a,playerInfo:c.a,GameSelect:l.a,paginationFast:d.a},created:function(){this.getCurrencyOption()},data:function(){return{currency:[],currencyOptions:[],gid:[],allSelected:!1,id:"",startDate:"",endDate:"",startTime:"",endTime:"",totalRows:0,per_page:25,currentPage:1,winRateGreater:"",winRateLess:"",winGreater:"",winLess:"",sendData:"",name:"",isEngineerMode:!1,items:[],fields:[{key:"id",label:"注單編號",class:"clickable"},{key:"type",label:"注單類型",class:"text-center"},{key:"time",label:"下注時間",class:"text-center"},{key:"currency",label:"幣別",class:"text-center"},{key:"gid",label:"遊戲名稱",class:"text-center"},{key:"name",label:"玩家名稱",class:"text-center clickable"},{key:"bet",label:"下注金額",class:"text-right"},{key:"win",label:"贏得金額",class:"text-right"},{key:"result",label:"總輸贏",class:"text-right"}],modalInfo:{title:"",content:""}}},computed:{},methods:{request:function(){this.items=[];var t={start_time:this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,end_time:this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss,currency:this.currency,gid:this.gid,win_rate_greater:this.winRateGreater,win_rate_less:this.winRateLess,win_greater:this.winGreater,win_less:this.winLess,id:this.id,name:this.name,page:0,rows:this.per_page};this.sendData=t,this.currentPage=1;var e=3,n=[{id:0,type:1,time:"2018.09.09",currency:"TWD",gid:2202,name:"人員1",bet:100,win:100},{id:0,type:1,time:"2018.09.09",currency:"TWD",gid:2202,name:"人員1",bet:100,win:100},{id:0,type:1,time:"2018.09.09",currency:"TWD",gid:2202,name:"人員1",bet:100,win:100}];this.totalRows=e,0===n.length&&this.$api.showModalInfo("Error","無資料"),this.addResult(n),this.items=n},requestPage:function(t){},getTicketUrl:function(t){},getPlayerInfo:function(t){var e=this,n=[];n.push(this.$api.getPlayerGame(t.mid,"","")),n.push(this.$api.getPlayerInfo(t.name)),i.a.all(n).then(function(t){return e.$modal.show(c.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!")})},addResult:function(t){for(var e=0,n=t.length;e<n;e++)t[e].result=t[e].win-t[e].bet},selectAll:function(t){this.allSelected=t,this.currency=t?this.currencyOptions.slice(0):[]},getCurrencyOption:function(){for(var t=config.currency,e=s()(t),n=0,a=e.length;n<a;n++)this.currencyOptions.push(t[e[n]])},resultTextColor:function(t){return t>=0?"text-success":"text-danger"},resetModal:function(){this.modalInfo.title="",this.modalInfo.content=""}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ticket-list"}},[n("b-card",{attrs:{"no-body":""}},[n("b-card-header",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("注單查詢")])]),t._v(" "),n("b-col",{attrs:{md:"7"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{staticClass:"text-center",attrs:{md:"3"}},[n("toggle-button",{staticClass:"mb-0",attrs:{labels:{checked:"工程模式",unchecked:"一般模式"},width:100,height:38},model:{value:t.isEngineerMode,callback:function(e){t.isEngineerMode=e},expression:"isEngineerMode"}}),t._v(" "),n("b-btn",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse",modifiers:{collapse:!0}}]},[t._v("進階選項")]),t._v(" "),n("b-btn",{attrs:{variant:"primary"},on:{click:t.request}},[t._v("查詢")])],1)],1),t._v(" "),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse"}},[n("b-card",[n("b-row",[n("b-col",[n("b-form-group",{staticClass:"mt-2",attrs:{label:"幣別查詢"}},[n("b-form-checkbox",{on:{change:function(e){return t.selectAll(e)}},model:{value:t.allSelected,callback:function(e){t.allSelected=e},expression:"allSelected"}},[t._v(t._s(t.allSelected?"清除":"全選"))]),t._v(" "),n("b-form-checkbox-group",{attrs:{options:t.currencyOptions},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1)],1),t._v(" "),n("b-col",[n("b-form-group",{staticClass:"mt-2"},[n("b-input-group",{staticClass:"mt-2",attrs:{prepend:"注單編號"}},[n("b-form-input",{attrs:{type:"number"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.id},on:{click:function(e){t.id=""}}},[t._v("Clear")])],1)],1)],1),t._v(" "),n("b-form-group",{staticClass:"mt-2"},[n("b-input-group",{staticClass:"mt-2",attrs:{prepend:"玩家名稱"}},[n("b-form-input",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.name},on:{click:function(e){t.name=""}}},[t._v("Clear")])],1)],1)],1)],1),t._v(" "),n("b-col",[n("b-form-group",{staticClass:"mt-2"},[n("b-input-group",{staticClass:"mt-2"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                                        倍率介於\n                                    ")]),t._v(" "),n("b-form-input",{staticClass:"text-center",attrs:{type:"number",min:"0"},model:{value:t.winRateGreater,callback:function(e){t.winRateGreater=e},expression:"winRateGreater"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("~")]),t._v(" "),n("b-form-input",{staticClass:"text-center",attrs:{type:"number",min:"0"},model:{value:t.winRateLess,callback:function(e){t.winRateLess=e},expression:"winRateLess"}})],1)],1),t._v(" "),n("b-form-group",{staticClass:"mt-2"},[n("b-input-group",{staticClass:"mt-2"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                                        贏得介於\n                                    ")]),t._v(" "),n("b-form-input",{staticClass:"text-center",attrs:{type:"number"},model:{value:t.winGreater,callback:function(e){t.winGreater=e},expression:"winGreater"}}),t._v(" "),n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("~")]),t._v(" "),n("b-form-input",{staticClass:"text-center",attrs:{type:"number"},model:{value:t.winLess,callback:function(e){t.winLess=e},expression:"winLess"}})],1)],1)],1)],1),t._v(" "),n("b-row",[n("b-col",[n("b-form-group",{staticClass:"mt-2",attrs:{label:"遊戲查詢"}},[n("game-select",{on:{gidChange:function(e){t.gid=e}}})],1)],1)],1)],1)],1)],1),t._v(" "),n("b-card-body",{staticClass:"mt-2"},[n("b-table",{attrs:{"show-empty":"",items:t.items,fields:t.fields,bordered:"","empty-text":"無資料"},scopedSlots:t._u([{key:"id",fn:function(e){return[n("div",{on:{click:function(n){return t.getTicketUrl(e.item)}}},[t._v(t._s(e.value))])]}},{key:"type",fn:function(e){return[t._v(t._s(t._f("betType")(e.value)))]}},{key:"time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}},{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"currency",fn:function(e){return[t._v(t._s(e.value))]}},{key:"name",fn:function(e){return[n("div",{attrs:{id:"test"},on:{click:function(n){return t.getPlayerInfo(e.item)}}},[t._v(t._s(e.value))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v("\n                        "+t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency))+"\n                    ")])]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:t.requestPage}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.per_page,align:"right",limit:10},on:{change:t.requestPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)},staticRenderFns:[]},p=n("VU/8")(m,f,!1,null,null,null);e.a=p.exports},nKUQ:function(t,e){},nlV2:function(t,e){},oOAP:function(t,e,n){"use strict";var a=n("fZjL"),s=n.n(a),r=n("Dd8w"),i=n.n(r),o=n("NYxO"),l=n("VF+w"),c=Object(o.a)("game_report"),u=(c.mapGetters,c.mapActions),d={name:"list_total",props:["items"],components:{},created:function(){},data:function(){return{fields:[{key:"currency",label:"幣別",sortable:!0,class:"clickable"},{key:"bet",label:"下注金額",sortable:!0,class:"text-right"},{key:"win",label:"贏得金額",sortable:!0,class:"text-right"},{key:"result",label:"總輸贏",sortable:!0,class:"text-right"}],sort:"result",sortDesc:!0}},computed:{},methods:i()({requestCurrency:function(t){this.$emit("currency",t)},resultTextColor:function(t){return t>=0?"text-success":"text-danger"}},u([]))},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-table",{attrs:{"show-empty":"",bordered:"",fixed:"",hover:"",items:t.items,fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"currency",fn:function(e){return[n("div",{on:{click:function(n){return t.requestCurrency(e.value)}}},[t._v(t._s(e.value))])]}},{key:"bet",fn:function(e){return[t._v(t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency)))]}},{key:"win",fn:function(e){return[t._v(t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency)))]}},{key:"result",fn:function(e){return[n("span",{class:t.resultTextColor(e.value)},[t._v(t._s(t._f("footCurrencyText")(t._f("formatMoney")(e.value,e.item.currency),e.item.currency)))])]}}])})},staticRenderFns:[]},f=n("VU/8")(d,m,!1,null,null,null).exports,p=n("1sAh"),v=n("1/1n"),h=n("4s/m"),_=n("zKjs"),b=n("QsK2"),g=Object(o.a)("game_report"),y=(g.mapGetters,g.mapActions),w={name:"gameReport",components:{DateTime:l.a,ListTotal:f,ListGame:p.a,ListGamePlayers:v.a,ListGameRounds:h.a,playerInfo:_.a,paginationFast:b.a},created:function(){},beforeDestroy:function(){this.clear()},data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",sendStartTime:"",sendEndTime:"",bread:{time:{text:"",level:0,active:!1,show:!0},currency:{text:"",level:1,active:!1,show:!1},players:{text:"",level:2,active:!1,show:!1},rounds:{text:"",level:2,active:!1,show:!1},playerInfo:{text:"",level:3,active:!1,show:!1}},modalInfo:{title:"",content:[]},sendData:"",totalRows:0,per_page:25,currentPage:1,items:[]}},computed:{itemsProp:function(){return this.items},playersItems:function(){return this.modalInfo.content},roundsItems:function(){return this.modalInfo.content}},methods:i()({request:function(){this.sendStartTime=this.startDate+" "+this.startTime.HH+":"+this.startTime.mm+":"+this.startTime.ss,this.sendEndTime=this.endDate+" "+this.endTime.HH+":"+this.endTime.mm+":"+this.endTime.ss;var t=this.sendStartTime,e=this.sendEndTime;this.bread.time.text="總表("+t+"~"+e+")",this.activeBread("time"),this.hideBread("time");var n=[{currency:"TWD",bet:1e5,win:2e5},{currency:"RMB",bet:2e5,win:1e5}];this.addResult(n),this.items=n},requestCurrency:function(t){this.sendStartTime,this.sendEndTime;var e=[{gid:2202,rounds:50,players:3,bet:5e3,win:1e3,result:-4e3},{gid:2203,rounds:20,players:1,bet:2e3,win:1e3,result:-1e3},{gid:2204,rounds:3e3,players:30,bet:1e3,win:1e3,result:0}];0===e.length&&this.$api.showModalInfo("Success","無資料"),this.bread.currency.text=t,this.activeBread("currency"),this.hideBread("currency"),this.setItems(e),this.setCurrency(t),this.setStartTime(this.sendStartTime),this.setEndTime(this.sendEndTime)},requestPage:function(t){this.sendData.page=t-1,this.currentPage=t},addResult:function(t){for(var e=0,n=t.length;e<n;e++)t[e].result=t[e].win-t[e].bet},showPlayersModal:function(t,e){this.modalInfo.title=t,this.modalInfo.content=e,this.bread.players.text=t,this.activeBread("players"),this.hideBread("players")},showRoundsModal:function(t,e,n){this.addResult(e.list),this.sendData=n,this.currentPage=1,this.totalRows=e.total,this.modalInfo.title=t,this.modalInfo.content=e.list,this.bread.rounds.text=t,this.activeBread("rounds"),this.hideBread("rounds")},showPlayerInfo:function(){this.bread.playerInfo.text="玩家資訊",this.activeBread("playerInfo"),this.hideBread("playerInfo")},activeBread:function(t){for(var e=s()(this.bread),n=0,a=e.length;n<a;n++)this.bread[e[n]].active=!1;this.bread[t].active=!0},hideBread:function(t){for(var e=s()(this.bread),n=this.bread[t].level,a=0,r=e.length;a<r;a++){var i=this.bread[e[a]];i.show=!(i.level>=n)&&i.show}this.bread[t].show=!0}},y(["setItems","setCurrency","setStartTime","setEndTime","clear"]))},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{attrs:{"no-body":""}},[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("盈虧報表")])]),t._v(" "),n("b-col",{attrs:{md:"9"}},[n("date-time",{on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:t.request}},[t._v("查詢")])],1)],1),t._v(" "),n("b-breadcrumb",t._l(t.bread,function(e,a){return n("b-breadcrumb-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],key:a,attrs:{text:e.text,active:e.active},on:{click:function(e){return t.activeBread(a)}}})}),1),t._v(" "),n("b-card-body",[t.bread.time.active?n("list-total",{attrs:{items:t.itemsProp},on:{currency:function(e){return t.requestCurrency(e)}}}):t._e(),t._v(" "),t.bread.currency.active?n("list-game",{on:{showPlayersModal:function(e){return t.showPlayersModal(e.title,e.content)},showRoundsModal:function(e){return t.showRoundsModal(e.title,e.content,e.sendData)}}}):t._e(),t._v(" "),t.bread.players.active?n("list-game-players",{attrs:{items:t.playersItems},on:{getPlayerInfo:t.showPlayerInfo}}):t._e(),t._v(" "),t.bread.rounds.active?n("list-game-rounds",{attrs:{items:t.roundsItems},on:{getPlayerInfo:t.showPlayerInfo}}):t._e(),t._v(" "),t.bread.rounds.active?n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:t.requestPage}}):t._e(),t._v(" "),t.bread.rounds.active?n("b-pagination",{attrs:{align:"right","total-rows":t.totalRows,"per-page":t.per_page,limit:10},on:{change:t.requestPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}}):t._e(),t._v(" "),t.bread.playerInfo.active?n("player-info"):t._e()],1)],1)},staticRenderFns:[]},x=n("VU/8")(w,k,!1,null,null,null);e.a=x.exports},pZUW:function(t,e){},rB8w:function(t,e,n){"use strict";var a=n("fZjL"),s=n.n(a),r=n("VF+w"),i=n("QsK2"),o={created:function(){this.getType()},components:{DateTime:r.a,PaginationFast:i.a},data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",typeOptions:[{text:"全部",value:""}],keyWord:{type:""},lastSearch:{},totalRows:0,per_page:25,currentPage:1,items:[],fields:[{key:"name",label:"操作者",sortable:!0,class:"text-left"},{key:"type",label:"類型",sortable:!0,class:"text-left"},{key:"url",label:"路徑",sortable:!0,class:"text-left"},{key:"content",label:"內容",sortable:!0,class:"text-left"},{key:"time",label:"時間",sortable:!0,class:"text-center"}]}},methods:{keyWordSearch:function(){this.lastSearch=this.keyWord,this.getLogs(1)},changePage:function(t){this.currentPage=t||this.currentPage,setTimeout(function(){return document.documentElement.scrollTop=0},100)},getType:function(){for(var t={"操作":"操作"},e=s()(t),n=0,a=e.length;n<a;n++){var r=t[e[n]];this.typeOptions.push({text:r,value:r})}},getLogs:function(t){this.startDate,this.startTime.HH,this.startTime.mm,this.startTime.ss,this.endDate,this.endTime.HH,this.endTime.mm,this.endTime.ss;var e=this.lastSearch.type||"",n=this.lastSearch.operator||"";this.lastSearch;var a=[{name:"人員1",type:"操作1",url:"a/b",content:"進行了操作1",time:"2018.09.09"},{name:"人員1",type:"操作1",url:"a/b",content:"進行了操作1",time:"2018.09.09"},{name:"人員1",type:"操作1",url:"a/b",content:"進行了操作1",time:"2018.09.09"}];0===a.length&&this.$api.showModalInfo("Success","無資料"),this.totalRows=a.length,this.items=a,this.currentPage=1,document.documentElement.scrollTop=0}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header m-0",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("後台操作紀錄")])]),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                    類型\n                ")]),t._v(" "),n("b-form-select",{attrs:{options:t.typeOptions},model:{value:t.keyWord.type,callback:function(e){t.$set(t.keyWord,"type",e)},expression:"keyWord.type"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-input-group",[n("b-input-group-prepend",{attrs:{"is-text":""}},[t._v("\n                    操作者\n                ")]),t._v(" "),n("b-form-input",{nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.keyWordSearch()}},model:{value:t.keyWord.operator,callback:function(e){t.$set(t.keyWord,"operator",e)},expression:"keyWord.operator"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"5"}},[n("date-time",{attrs:{noQuick:!0},on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"1"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:t.keyWordSearch}},[t._v("查詢")])],1)],1),t._v(" "),n("div",{staticClass:"p-2"},[n("b-table",{attrs:{"show-empty":"",bordered:"",hover:"","current-page":t.currentPage,"per-page":t.per_page,items:t.items,fields:t.fields,"empty-text":"無資料"},scopedSlots:t._u([{key:"name",fn:function(e){return[t._v(t._s(e.value||"未知"))]}},{key:"type",fn:function(e){return[t._v(t._s(e.value))]}},{key:"url",fn:function(e){return[t._v(t._s(e.value))]}},{key:"content",fn:function(e){return[t._v(t._s(e.value))]}},{key:"time",fn:function(e){return[t._v(t._s(t._f("formatTime")(e.value)))]}}])}),t._v(" "),n("pagination-fast",{attrs:{totalRows:t.totalRows,rows:t.per_page,currentPage:t.currentPage},on:{changePage:function(e){return t.changePage(e)}}}),t._v(" "),n("b-pagination",{attrs:{"total-rows":t.totalRows,"per-page":t.per_page,align:"right",limit:10},on:{change:t.changePage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)},staticRenderFns:[]};var c=n("VU/8")(o,l,!1,function(t){n("lcJk")},null,null);e.a=c.exports},rO7H:function(t,e,n){"use strict";var a=n("bOdI"),s=n.n(a),r={name:"input-filed",props:["server","name","value","currency","update"],created:function(){this.toolTipId=this.server+this.currency+this.name},data:function(){return{disabled:!1,toolTipId:"",toolTipText:"設定值",editText:this.value,popoverShow:!1}},methods:{copy:function(){var t=this;this.$el.getElementsByTagName("input")[0].select(),document.execCommand("copy"),this.toolTipText="複製成功",this.$root.$emit("bv::show::tooltip",this.toolTipId),setTimeout(function(){t.$root.$emit("bv::hide::tooltip",t.toolTipId),t.toolTipText="設定值"},1e3)},updateConfig:function(){this.popoverShow=!1;this.editText,this.currency,this.server,this.name;this.$api.showModalInfo("Success","更改成功")}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-input-group",{staticClass:"my-1"},[n("b-input-group-prepend",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{"is-text":"",title:"名稱"}},[t._v("\n        "+t._s(t.name)+"\n    ")]),t._v(" "),n("b-form-input",{attrs:{value:t.value,type:"text",readonly:"",id:t.toolTipId}}),t._v(" "),n("b-input-group-text",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{title:"最近更新"}},[t._v(t._s(t._f("formatTime")(t.update)))]),t._v(" "),n("b-input-group-append",[n("b-btn",{staticClass:"material-icons",on:{click:t.copy}},[t._v("file_copy")])],1),t._v(" "),n("b-tooltip",{attrs:{"triggers.hover":"",target:t.toolTipId,"no-fade":""}},[n("strong",[t._v(t._s(t.toolTipText))])]),t._v(" "),n("b-popover",{attrs:{target:t.toolTipId,triggers:"click",show:t.popoverShow},on:{"update:show":function(e){t.popoverShow=e}}},[n("template",{slot:"title"},[t._v("\n            更改伺服器設定: "),n("button",{staticClass:"close",staticStyle:{"line-height":"0.7"},attrs:{type:"button","aria-label":"Close"},on:{click:function(e){t.popoverShow=!1}}},[t._v("×")])]),t._v(" "),n("form",[n("label",[t._v("伺服器: "+t._s(t.server)+"("+t._s(t.currency)+")")]),t._v(" "),n("b-input-group",{attrs:{prepend:t.name}},[n("b-form-input",{attrs:{type:"text"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateConfig(e)}},model:{value:t.editText,callback:function(e){t.editText=e},expression:"editText"}})],1),t._v(" "),n("b-row",{staticClass:"mt-2"},[n("b-col",{attrs:{"offset-md":"9"}},[n("b-btn",{attrs:{size:"sm",variant:"primary"},on:{click:t.updateConfig}},[t._v("更改")])],1)],1)],1)],2)],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(t){n("VpTl")},null,null).exports,l=n("fZjL"),c=n.n(l),u=(n("NYxO"),{name:"ModalAdd",props:["targetServer","targetType"],created:function(){this.getCurrencyOption()},data:function(){return{addData:{server:"",type:"",currency:[],config:{}},disabled:!1,typeOptions:[{value:"1",text:"遊戲"},{value:"2",text:"服務"}],currencyOptions:[],configKey:[],configValue:[]}},methods:{show:function(){this.clearAddData(),this.targetServer&&(this.addData.server=this.targetServer,this.addData.type=""+this.targetType,this.disabled=!0)},clearAddData:function(){this.addData={server:"",currency:[],config:{}},this.configKey=[],this.configValue=[],this.disabled=!1},addConfig:function(){this.configKey.push(""),this.configValue.push("")},removeConfig:function(t){this.configKey.splice(t,1),this.configValue.splice(t,1)},add:function(){for(var t=0,e=this.configKey.length;t<e;t++)this.addData.config[this.configKey[t]]=this.configValue[t];this.$api.showModalInfo("新增結果","新增成功"),this.clearAddData(),this.$modal.hide("modalAdd")},dataEmptyError:function(){this.$api.showModalInfo("Error","資料不得為空"),this.clearAddData(),this.$modal.hide("modalAdd")},getCurrencyOption:function(){for(var t=config.currency,e=c()(t),n=0,a=e.length;n<a;n++)this.currencyOptions.push({value:e[n],text:t[e[n]]})}}}),d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"modalAdd",width:"30%",height:"auto",scrollable:""},on:{opened:t.show}},[n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v("新增伺服器設定")]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$modal.hide("modalAdd")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",[t._v("\n                伺服器名稱:\n                "),n("b-form-input",{attrs:{type:"text",disabled:t.disabled},model:{value:t.addData.server,callback:function(e){t.$set(t.addData,"server",e)},expression:"addData.server"}}),t._v("\n                類型:\n                "),n("b-form-select",{staticStyle:{height:"100%"},attrs:{options:t.typeOptions,disabled:t.disabled},model:{value:t.addData.type,callback:function(e){t.$set(t.addData,"type",e)},expression:"addData.type"}}),t._v("\n                幣值:\n                "),n("b-form-group",[n("b-form-checkbox-group",{attrs:{options:t.currencyOptions},model:{value:t.addData.currency,callback:function(e){t.$set(t.addData,"currency",e)},expression:"addData.currency"}})],1),t._v(" "),n("b-form-group",[n("template",{slot:"label"},[n("b-btn",{staticClass:"material-icons mr-1",staticStyle:{height:"100%"},on:{click:t.addConfig}},[t._v("add_box")]),t._v("\n                            設定:           \n                    ")],1),t._v(" "),t._l(t.configKey,function(e,a){return n("b-row",{key:a,staticClass:"mt-1",attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"6"}},[n("b-input-group",{attrs:{prepend:"key"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.configKey[a],callback:function(e){t.$set(t.configKey,a,e)},expression:"configKey[key]"}})],1)],1),t._v(" "),n("b-col",{attrs:{md:"6"}},[n("b-input-group",{attrs:{prepend:"value"}},[n("b-form-input",{attrs:{type:"text"},model:{value:t.configValue[a],callback:function(e){t.$set(t.configValue,a,e)},expression:"configValue[key]"}}),t._v(" "),n("b-btn",{staticClass:"material-icons ml-1",on:{click:function(e){return t.removeConfig(a)}}},[t._v("clear")])],1)],1)],1)})],2)],1)]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("b-btn",{on:{click:function(e){return t.$modal.hide("modalAdd")}}},[t._v("Cancel")]),t._v(" "),n("b-btn",{on:{click:t.add}},[t._v("OK")])],1)])])},staticRenderFns:[]};var m={name:"server_config",components:{InputFiled:o,ModalAdd:n("VU/8")(u,d,!1,function(t){n("hNte")},null,null).exports},data:function(){return{items:[],server:"",type:"",filterWord:""}},created:function(){this.refresh()},computed:{targetServer:function(){return this.server},targetType:function(){return this.type}},methods:{filter:function(t){return t.server.indexOf(this.filterWord)>-1},refresh:function(){this.items=[{type:"1",server:"server",list:[{currency:"TWD",config:s()({aaa:{value:"aaaaa",update:"2088.09.09"}},"aaa",{value:"aaaaa",update:"2088.09.09"})},{currency:"RMB",config:s()({aaa:{value:"aaaaa",update:"2088.09.09"}},"aaa",{value:"aaaaa",update:"2088.09.09"})},{currency:"JPY",config:s()({aaa:{value:"aaaaa",update:"2088.09.09"}},"aaa",{value:"aaaaa",update:"2088.09.09"})},{currency:"QQQ",config:s()({aaa:{value:"aaaaa",update:"2088.09.09"}},"aaa",{value:"aaaaa",update:"2088.09.09"})}]},{type:"2",server:"server2",list:[{currency:"TWD",config:{aaa:{value:"aaaaa",update:"2088.09.09"}}}]}]},refreshOne:function(t){},showAddModal:function(t,e){this.server=t,this.type=e,this.$modal.show("modalAdd")},typeVariant:function(t){switch(t){case"1":return"primary";case"2":return"success";default:return"danger"}}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"server_config"}},[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{attrs:{md:"2"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[t._v("伺服器設定")])]),t._v(" "),n("b-col",{attrs:{md:"3"}},[n("b-input-group",{staticClass:"mt-1"},[n("b-input-group-prepend",{attrs:{"is-text":""}},[n("i",{staticClass:"material-icons"},[t._v("search")])]),t._v(" "),n("b-form-input",{attrs:{type:"text"},model:{value:t.filterWord,callback:function(e){t.filterWord=e},expression:"filterWord"}}),t._v(" "),n("b-input-group-append",[n("b-btn",{attrs:{disabled:!t.filterWord},on:{click:function(e){t.filterWord=""}}},[t._v("Clear")])],1)],1)],1),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{"offset-md":"4",md:"3"}},[n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"24px"},on:{click:function(e){return t.showAddModal("")}}},[t._v("add_box")])],1)],1),t._v(" "),t._l(t.items,function(e,a){return t.filter(e)?n("div",{key:a,staticClass:"border"},[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{attrs:{md:"9"}},[n("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"24px"}},[n("b-badge",{staticStyle:{"font-size":"100%"},attrs:{pill:"",variant:t.typeVariant(e.type)}},[t._v(t._s(t._f("serverType")(e.type)))]),t._v(" "+t._s(e.server)+"\n                ")],1)]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"3"}},[n("b-btn",{staticClass:"material-icons",on:{click:function(n){return t.showAddModal(e.server,e.type)}}},[t._v("add_box")]),t._v(" "),n("b-btn",{staticClass:"material-icons",on:{click:function(n){return t.refreshOne(e.server)}}},[t._v("autorenew")])],1)],1),t._v(" "),n("b-row",{staticClass:"card-body pt-3 m-0"},t._l(e.list,function(a,s){return n("b-col",{key:s,attrs:{md:"4"}},[n("b-card-header",{attrs:{header:a.currency,"header-bg-variant":"dark","header-text-variant":"white"}}),t._v(" "),n("b-card-body",{staticClass:"border mb-2 p-2"},t._l(Object.keys(a.config),function(s,r){return n("input-filed",{key:r,attrs:{server:e.server,name:s,currency:a.currency,value:a.config[s].value,update:a.config[s].update},on:{refreshOne:function(e){return t.refreshOne(e)}}})}),1)],1)}),1)],1):t._e()}),t._v(" "),n("modal-add",{attrs:{targetServer:t.targetServer,targetType:t.targetType},on:{refresh:t.refresh}})],2)},staticRenderFns:[]};var p=n("VU/8")(m,f,!1,function(t){n("XXQ+")},null,null);e.a=p.exports},rtfr:function(t,e){},sBdR:function(t,e){},tIfh:function(t,e){},tdoC:function(t,e,n){"use strict";var a={props:["url"],methods:{open:function(){window.open(this.url)}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"h-100"},[n("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",sticky:""}},[n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-btn",{staticClass:"material-icons mr-1",on:{click:t.open}},[t._v("add_to_photos")]),t._v(" "),n("b-btn",{staticClass:"material-icons",on:{click:function(e){return t.$emit("close")}}},[t._v("clear")])],1)],1),t._v(" "),n("b-embed",{attrs:{type:"iframe",src:t.url}})],1)},staticRenderFns:[]},r=n("VU/8")(a,s,!1,null,null,null);e.a=r.exports},u5K9:function(t,e){},ueG4:function(t,e){},ukD7:function(t,e){},unzV:function(t,e){},vLbJ:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[n("header",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title"},[t._v(t._s(t.title))]),n("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.$emit("close")}}},[t._v("×")])]),t._v(" "),n("div",{staticClass:"modal-body"},[n("pre",[t._v(t._s(t.content))])]),t._v(" "),n("footer",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.$emit("close")}}},[t._v("Cancel")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.ok()}}},[t._v("OK")])])])},staticRenderFns:[]};var s=n("VU/8")({props:["title","content","action"],methods:{ok:function(){this.action(),this.$emit("close")}}},a,!1,function(t){n("WPpN")},null,null);e.a=s.exports},vgPx:function(t,e){},vsey:function(t,e){},wUZA:function(t,e,n){"use strict";var a=n("//Fk"),s=n.n(a),r=n("Dd8w"),i=n.n(r),o=n("oqQY"),l=n.n(o),c=n("0nHL"),u=n("Nyrq"),d=n("NYxO"),m={offset:12},f=[{type:"dodge",marginRatio:1/32}],p={props:["data","padding","height","x","y","color"],data:function(){return{adjust:f,label:m}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chart",{attrs:{forceFit:!0,height:t.height,data:t.data,padding:t.padding}},[n("v-tooltip"),t._v(" "),n("v-legend"),t._v(" "),n("v-axis",{attrs:{dataKey:t.x}}),t._v(" "),n("v-axis",{attrs:{dataKey:t.y,position:"right",label:t.label}}),t._v(" "),n("v-bar",{attrs:{position:t.x+"*"+t.y,color:t.color,adjust:t.adjust}})],1)},staticRenderFns:[]};var h=n("VU/8")(p,v,!1,function(t){n("pZUW")},null,null).exports,_=n("zKjs"),b=(config.currency,{components:{GroupBarChart:h,playerInfo:_.a},created:function(){this.title="你好!"+this.level()+"-"+this.username,this.getHome(),this.getHomeCurrency()},data:function(){return{title:"",data:{players:5,new_member:["玩家1","玩家2","玩家3","玩家4","玩家5"]},currencyData:[{currency:"TWD",win_loss:[{gid:"遊戲A",bet:200,win:200,result:0},{gid:"遊戲B",bet:100,win:200,result:100},{gid:"遊戲C",bet:300,win:200,result:-100},{gid:"遊戲D",bet:500,win:200,result:-300}],game_lose:[{gid:"遊戲A",result:100},{gid:"遊戲B",result:-1e3}],game_round:[{gid:"遊戲A",rounds:100},{gid:"遊戲B",rounds:200}],player_lose:[{name:"玩家A",result:100},{name:"玩家B",result:200}],player_win:[{name:"玩家A",result:100},{name:"玩家B",result:200}]},{currency:"RMB",win_loss:[{gid:"遊戲A",bet:200,win:200,result:0},{gid:"遊戲B",bet:100,win:200,result:100},{gid:"遊戲C",bet:300,win:200,result:-100},{gid:"遊戲D",bet:500,win:200,result:-300}],game_lose:[{gid:"遊戲A",result:100},{gid:"遊戲B",result:-1e3}],game_round:[{gid:"遊戲A",rounds:100},{gid:"遊戲B",rounds:200}],player_lose:[{name:"玩家A",result:100},{name:"玩家B",result:200}],player_win:[{name:"玩家A",result:100},{name:"玩家B",result:200}]}]}},computed:i()({},Object(d.d)({username:"getUsername"})),methods:{level:function(){return config.level[sessionStorage.getItem("level")]},getHome:function(){},getHomeCurrency:function(){},groupCurrency:function(t,e){var n=config.gid_name,a="";return this.$subscribeTo(Object(c.a)(t).pipe(Object(u.e)(function(t,e){return t.data.push({gid:n[e.gid],bet:e.bet,win:e.win,result:Number((e.win-e.bet).toFixed(2))}),t},{data:[]})),function(t){return a=t.data}),a},winLossDataset:function(t){var e=(new DataSet.View).source(t);return e.transform({type:"sort-by",fields:["result"]}),e.transform({type:"fold",fields:["bet","win","result"],key:"key",value:"value"}),e.rows},getPlayerInfo:function(t){var e=this,n=[],a=l()().format("YYYY-MM-DD");n.push(this.$api.getPlayerGame(t.mid,a+" 00:00:00",a+" 23:59:59")),n.push(this.$api.getPlayerInfo(t.name)),s.a.all(n).then(function(t){return e.$modal.show(_.a,{},{scrollable:!0,width:"80%",height:"auto"})}).catch(function(t){return e.$api.showModalInfo("Error","查詢失敗!")})}}}),g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-jumbotron",{staticClass:"m-0 p-4"},[n("h1",[t._v(t._s(t.title))]),t._v(" "),n("p",[t._v("本日遊玩人數: "+t._s(t.data.players)+"人")]),t._v("\n        本日加入玩家: "+t._s(t.data.new_member?"":"無")+"\n        "),t._l(t.data.new_member,function(e,a){return n("b-badge",{key:a,staticClass:"mr-1",staticStyle:{"font-size":"14px"},attrs:{pill:"",variant:"primary"}},[t._v("\n            "+t._s(e)+"\n        ")])})],2),t._v(" "),n("div",[t._m(0),t._v(" "),n("b-row",{staticClass:"card-body p-0 m-1"},t._l(t.currencyData,function(e,a){return n("b-col",{key:a,staticClass:"border p-0",attrs:{md:"12"}},[n("b-card-header",{attrs:{header:e.currency}}),t._v(" "),n("group-bar-chart",{attrs:{data:t.winLossDataset(e.win_loss),padding:["30%","10%"],height:300,x:"gid",y:"value",color:"key"}}),t._v(" "),n("b-row",{staticClass:"card-body m-1"},[e.game_lose?n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card-header",{attrs:{header:"前三輸錢遊戲"}}),t._v(" "),t._l(e.game_lose,function(a,s){return n("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between"},[t._v("\n                            "+t._s(a.gid)+" "),n("span",[t._v(t._s(t._f("formatMoney")(a.result,e.currency)))])])})],2):t._e(),t._v(" "),e.game_round?n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card-header",{attrs:{header:"前三局數遊戲"}}),t._v(" "),t._l(e.game_round,function(e,a){return n("b-list-group-item",{key:a,staticClass:"d-flex justify-content-between"},[t._v("\n                            "+t._s(e.gid)+" "),n("span",[t._v(t._s(e.rounds))])])})],2):t._e(),t._v(" "),e.player_lose?n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card-header",{attrs:{header:"前五賺錢玩家"}}),t._v(" "),t._l(e.player_lose,function(a,s){return n("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"clickable",on:{click:function(e){return t.getPlayerInfo(a)}}},[t._v(t._s(a.name))]),t._v(" "),n("span",[t._v(t._s(t._f("formatMoney")(a.result,e.currency)))])])})],2):t._e(),t._v(" "),e.player_win?n("b-col",{staticClass:"p-0",attrs:{md:"3"}},[n("b-card-header",{attrs:{header:"前五輸錢玩家"}}),t._v(" "),t._l(e.player_win,function(a,s){return n("b-list-group-item",{key:s,staticClass:"d-flex justify-content-between"},[n("div",{staticClass:"clickable",on:{click:function(e){return t.getPlayerInfo(a)}}},[t._v(t._s(a.name))]),t._v(" "),n("span",[t._v(t._s(t._f("formatMoney")(a.result,e.currency)))])])})],2):t._e()],1)],1)}),1)],1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"card-header m-0"},[e("span",{staticClass:"font-weight-bold",staticStyle:{"font-size":"30px"}},[this._v("今日盈虧")])])}]};var y=n("VU/8")(b,g,!1,function(t){n("NbXQ")},null,null);e.a=y.exports},wcRb:function(t,e){},wkH7:function(t,e){},xzXF:function(t,e){},yseo:function(t,e,n){"use strict";var a={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-row",{staticClass:"card-header m-0"},[n("b-col",{staticStyle:{"text-align":"left","font-size":"25px"},attrs:{cols:"11"}},[t._v("MYSQL-Master")]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{cols:"1"}},[n("b-btn",{staticClass:"material-icons",staticStyle:{"font-size":"18px"},on:{click:t.getDbinfo}},[t._v("autorenew")])],1)],1),t._v(" "),n("b-row",{staticClass:"m-0"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("版本: "+t._s(t.mysql.ver))]),t._v(" "),n("b-list-group-item",[t._v("啟動時間: "+t._s(t._f("timeDuration")(t.mysql.up_time)))]),t._v(" "),n("b-list-group-item",[t._v("記憶體使用量: "+t._s(t._f("bitsToMB")(t.mysql.mem_used))+"MB")])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("最大連線數: "+t._s(t.mysql.max_used_connections))]),t._v(" "),n("b-list-group-item",[t._v("最大連線數設定: "+t._s(t.mysql.max_connections))]),t._v(" "),n("b-list-group-item",[t._v("連線數臨界比: "+t._s(t.mysql.max_connections_perc))])],1)],1)],1),t._v(" "),n("b-row",{staticClass:"card-header m-0"},[n("b-col",{staticStyle:{"text-align":"left","font-size":"25px"},attrs:{cols:"12"}},[t._v("MYSQL-Slave")])],1),t._v(" "),n("b-row",{staticClass:"m-0"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("版本: "+t._s(t.slave.ver))]),t._v(" "),n("b-list-group-item",[t._v("啟動時間: "+t._s(t._f("timeDuration")(t.slave.up_time)))]),t._v(" "),n("b-list-group-item",[t._v("記憶體使用量: "+t._s(t._f("bitsToMB")(t.slave.mem_used))+"MB")])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("最大連線數: "+t._s(t.slave.max_used_connections))]),t._v(" "),n("b-list-group-item",[t._v("最大連線數設定: "+t._s(t.slave.max_connections))]),t._v(" "),n("b-list-group-item",[t._v("連線數臨界比: "+t._s(t.slave.max_connections_perc))])],1)],1)],1),t._v(" "),n("b-row",{staticClass:"card-header m-0"},[n("b-col",{staticStyle:{"text-align":"left","font-size":"25px"},attrs:{cols:"12"}},[t._v("REDIS")])],1),t._v(" "),n("b-row",{staticClass:"m-0"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("系統: "+t._s(t.redis.os))]),t._v(" "),n("b-list-group-item",[t._v("版本: "+t._s(t.redis.ver))]),t._v(" "),n("b-list-group-item",[t._v("啟動時間: "+t._s(t._f("timeDuration")(t.redis.up_time)))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",[t._v("最大記憶體限制: "+t._s(t.redis.max_mem))]),t._v(" "),n("b-list-group-item",[t._v("記憶體使用量: "+t._s(t.redis.mem_used))]),t._v(" "),n("b-list-group-item",[t._v("目前連線數: "+t._s(t.redis.connected_clients))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},t._l(t.redis.key_space,function(e,a){return n("b-list-group-item",{key:a},[t._v(t._s(a)+": "+t._s(e))])}),1)],1)],1)],1)},staticRenderFns:[]};var s=n("VU/8")({created:function(){this.getDbinfo()},data:function(){return{mysql:{ver:5.5,up_time:123123123,mem_used:54,max_used_connections:4,max_connections:3,max_connections_perc:1},redis:{os:"xxx",ver:1.1,up_time:112312312,max_mem:87,mem_used:8787,connected_clients:6,key_space:[5,4]},slave:{ver:5.5,up_time:123123123,mem_used:54,max_used_connections:4,max_connections:3,max_connections_perc:1}}},methods:{getDbinfo:function(){}}},a,!1,function(t){n("RnKn")},null,null);e.a=s.exports},zKjs:function(t,e,n){"use strict";var a=n("Dd8w"),s=n.n(a),r=n("NYxO"),i=n("VF+w"),o=Object(r.a)("member_report"),l=o.mapGetters,c=(o.mapActions,{props:["name","currency"],components:{DateTime:i.a},created:function(){},computed:s()({},l({data:"getPlayerGameData"})),data:function(){return{startDate:"",endDate:"",startTime:"",endTime:"",fields:[{key:"gid",label:"遊戲名稱",sortable:!0},{key:"rounds",label:"局數",sortable:!0,class:"text-center"},{key:"max_bet",label:"最大注額",sortable:!0,class:"text-right"},{key:"max_win",label:"最大贏得",sortable:!0,class:"text-right"},{key:"avg_bet",label:"平均注額",sortable:!0,class:"text-right"},{key:"avg_win",label:"平均贏得",sortable:!0,class:"text-right"},{key:"sum_bet",label:"總注額",sortable:!0,class:"text-right"},{key:"sum_win",label:"總贏得",sortable:!0,class:"text-right"},{key:"total",label:"總輸贏",sortable:!0,class:"text-right"}],sort:"total",sortDesc:!0}},methods:{request:function(){},requestToNow:function(){},totalColor:function(t){return t<=0?"text-danger":"text-success"}}}),u={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"player-table"}},[n("b-card-header",[n("b-row",{attrs:{"align-v":"center"}},[n("b-col",{attrs:{md:"4"}},[n("h4",[t._v(t._s(t.name)+"遊戲資訊")]),t._v(" "),n("span",[t._v("("+t._s(t.data.date)+")")])]),t._v(" "),n("b-col",{attrs:{md:"6"}},[n("date-time",{attrs:{noQuick:!0},on:{startDate:function(e){t.startDate=e},startTime:function(e){t.startTime=e},endDate:function(e){t.endDate=e},endTime:function(e){t.endTime=e}}})],1),t._v(" "),n("b-col",{attrs:{md:"2"}},[n("b-btn",{attrs:{variant:"primary"},on:{click:t.request}},[t._v("查詢")]),t._v(" "),n("b-btn",{attrs:{variant:"success"},on:{click:t.requestToNow}},[t._v("至今查詢")])],1)],1)],1),t._v(" "),n("b-card-body",[n("b-table",{attrs:{"show-empty":"",bordered:"",items:t.data.data,fields:t.fields,"sort-by":t.sort,"sort-desc":t.sortDesc,"empty-text":"無資料"},on:{"update:sortBy":function(e){t.sort=e},"update:sort-by":function(e){t.sort=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"gid",fn:function(e){return[t._v(t._s(t._f("toGidName")(e.value)))]}},{key:"rounds",fn:function(e){return[t._v(t._s(e.value))]}},{key:"max_bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"max_win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"avg_bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"avg_win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"sum_bet",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"sum_win",fn:function(e){return[t._v(t._s(t._f("formatMoney")(e.value,t.currency)))]}},{key:"total",fn:function(e){return[n("span",{class:t.totalColor(e.value)},[t._v("\n                    "+t._s(t._f("formatMoney")(e.value,t.currency))+"\n                ")])]}}])})],1)],1)},staticRenderFns:[]};var d=n("VU/8")(c,u,!1,function(t){n("unzV")},null,null).exports,m=Object(r.a)("member_report"),f=m.mapGetters,p=(m.mapActions,{components:{playerTable:d},computed:s()({},f({data:"getPlayerInfoData"})),methods:{totalColor:function(t){return t<=0?"text-danger":"text-success"}}}),v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"border h-100"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("b-row",{staticClass:"m-1 border-bottom"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("玩家 / 幣別: "),n("span",[t._v(t._s(t.data.name)+" / "+t._s(t.data.currency))])])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("加入時間: "),n("span",[t._v(t._s(t._f("formatTime")(t.data.add_time)))])])],1)],1)],1),t._v(" "),n("b-row",{staticClass:"m-1 border-bottom"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("首次下注時間: "),n("span",[t._v(t._s(t._f("formatTime")(t.data.first_bet)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("總局數: "),n("span",[t._v(t._s(t.data.rounds))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("最大注額: "),n("span",[t._v(t._s(t._f("formatMoney")(t.data.max_bet,t.data.currency)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("平均注額: "),n("span",[t._v(t._s(t._f("formatMoney")(t.data.avg_bet,t.data.currency)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("最近遊玩IP: "),n("span",[t._v(t._s(t.data.ip||"無資料"))])])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("最近下注時間: "),n("span",[t._v(t._s(t._f("formatTime")(t.data.last_bet)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("遊玩天數: "),n("span",[t._v(t._s(t.data.play_days))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("最大贏得: "),n("span",[t._v(t._s(t._f("formatMoney")(t.data.max_win,t.data.currency)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("平均贏得: "),n("span",[t._v(t._s(t._f("formatMoney")(t.data.avg_win,t.data.currency)))])]),t._v(" "),n("b-list-group-item",{staticClass:"d-flex justify-content-between"},[t._v("最近遊玩裝置: "),n("span",[t._v(t._s(t.data.os||"無資料")+" / "+t._s(t.data.browser_type||"無資料"))])])],1)],1)],1),t._v(" "),n("b-row",{staticClass:"m-1"},[n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"text-center"},[t._v("總注額: "+t._s(t._f("formatMoney")(t.data.sum_bet,t.data.currency)))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"text-center"},[t._v("總贏得: "+t._s(t._f("formatMoney")(t.data.sum_win,t.data.currency)))])],1)],1),t._v(" "),n("b-col",[n("b-list-group",{attrs:{flush:""}},[n("b-list-group-item",{staticClass:"text-center"},[n("span",{class:t.totalColor(t.data.sum_win-t.data.sum_bet)},[t._v("\n                            總輸贏: "+t._s(t._f("formatMoney")(t.data.sum_win-t.data.sum_bet,t.data.currency))+"\n                        ")])])],1)],1)],1)],1),t._v(" "),t._m(1),t._v(" "),n("player-table",{attrs:{name:t.data.name,currency:t.data.currency}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title"},[this._v("玩家資訊")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"modal-footer"},[e("span",{staticClass:"text-danger"},[this._v("備註: 玩家資訊為創號至今之統計資料")])])}]};var h=n("VU/8")(p,v,!1,function(t){n("FLx+")},null,null);e.a=h.exports}},["NHnr"]);
//# sourceMappingURL=app.0dd19b5fb195a28641ca.js.map