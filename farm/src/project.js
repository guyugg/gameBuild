__require=function t(e,o,i){function n(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return n(e[s][1][t]||t)},p,p.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({AudioBox:[function(t,e,o){"use strict";cc._RF.push(e,"0952afAaQxBtoIwP5w8dDd1","AudioBox"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"music_switch",{get:function(){return e._music_switch},set:function(t){e._music_switch=t,e.do_vol(e.music_id,e.music_vol,e._music_switch)},enumerable:!0,configurable:!0}),Object.defineProperty(t,"sound_switch",{get:function(){return e._sound_switch},set:function(t){e._sound_switch=t;for(var o=0,i=e.sound_ids.length;o<i;o++)e.do_vol(e.sound_ids[o][0],e.sound_ids[o][1],e._sound_switch)},enumerable:!0,configurable:!0}),t.do_vol=function(t,e,o){e=o?e:0,cc.audioEngine.setVolume(t,e)},t.play_music=function(t,o,i,n){void 0===i&&(i=""),void 0===n&&(n=1),e.music_id>=0&&cc.audioEngine.stop(e.music_id),t&&""!==t&&i&&""!==i?(e.music_id=cc.audioEngine.play(t,!1,e._music_switch?o:0),e.music_vol=o,cc.audioEngine.setFinishCallback(e.music_id,function(){e.play_music(i,n)})):(e.music_id=cc.audioEngine.play(t,!0,e._music_switch?o:0),e.music_vol=o)},t.play_sound=function(t,o,i){return void 0===i&&(i=!1),e._play_sound(t,o,i)},t._play_sound=function(t,o,i){if(e._sound_switch){var n=cc.audioEngine.play(t,i,e._sound_switch?o:0);return e.sound_ids.push([n,o]),cc.audioEngine.setFinishCallback(n,function(){for(var t=0;t<e.sound_ids.length;t++)if(e.sound_ids[t][0]===n){e.sound_ids.splice(t,1);break}}),n}return-1},t.stop_sound=function(t){cc.audioEngine.stop(t)},t._music_switch=!0,t._sound_switch=!0,t.music_id=-1,t.music_vol=1,t.sound_ids=[],t=e=__decorate([n],t)}());o.AudioBox=r,cc._RF.pop()},{}],Eyecatch:[function(t,e,o){"use strict";cc._RF.push(e,"e64bei5EeRBk4Y9YL6i/kZc","Eyecatch"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/lib/AudioBox"),n=t("../../Script/lib/spine.function"),r=t("../../Script/lib/function"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeSound=null,e.bonusSound=null,e.harvestSound=null,e.freeMusic=null,e.bonusMusic=null,e.freeEyecatch=null,e.bonusEyecatch=null,e.harvestEyecatch=null,e.freeChoose=null,e.chooseSpines=[],e.chooseTouchs=[],e.countTime=null,e.freeTime=0,e.baseWin=null,e.baseWinLabel=null,e.baseWinAni=null,e.touchStart=cc.Node.EventType.TOUCH_START,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.freeEyecatch.parent.active=!1,this.bonusEyecatch.parent.active=!1,this.freeChoose.active=!1,this.baseWin.active=!1,this.baseWinAni=this.baseWin.getComponent(cc.Animation),this.bonusEyecatch.getComponent(sp.Skeleton).setEventListener(function(e,o){return t.node.dispatchEvent(new cc.Event.EventCustom(o.data.name,!0))})},e.prototype.freeTransform=function(t,e){var o=this;return new Promise(function(n,s){return __awaiter(o,void 0,void 0,function(){var o,s;return __generator(this,function(a){switch(a.label){case 0:return o=i.AudioBox.music_switch,i.AudioBox.music_switch=!1,i.AudioBox.play_sound(this.freeSound,1),this.baseWinLabel.string=r.strip(t),this.baseWin.active=!0,this.baseWinAni.play("basicShow"),[4,this.trans(this.freeEyecatch,"FG__eyecatch_ani")];case 1:return a.sent(),this.baseWinAni.play("basicDown"),[4,r.aniFinish(this.baseWinAni)];case 2:return a.sent(),e(),this.baseWin.active=!1,[4,this.choose()];case 3:return s=a.sent(),i.AudioBox.music_switch=o,i.AudioBox.play_music(this.freeMusic,1),n(s),[2]}})})})},e.prototype.bonusTransform=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){var t;return __generator(this,function(o){switch(o.label){case 0:return t=i.AudioBox.music_switch,i.AudioBox.music_switch=!1,i.AudioBox.play_sound(this.bonusSound,1),[4,this.trans(this.bonusEyecatch,"bonus_eyecatch_ani")];case 1:return o.sent(),i.AudioBox.music_switch=t,i.AudioBox.play_music(this.bonusMusic,1),e(),[2]}})})})},e.prototype.harvestTransform=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){var t,o;return __generator(this,function(n){switch(n.label){case 0:return t=this.harvestEyecatch.node,o=i.AudioBox.music_switch,i.AudioBox.music_switch=!1,i.AudioBox.play_sound(this.harvestSound,1),t.active=!0,this.harvestEyecatch.play(),[4,r.aniFinish(this.harvestEyecatch)];case 1:return n.sent(),i.AudioBox.music_switch=o,t.active=!1,e(),[2]}})})})},e.prototype.trans=function(t,e){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(i){switch(i.label){case 0:return t.parent.active=!0,o=t.getComponent(sp.Skeleton),[4,n.finished(o.setAnimation(0,e,!1))];case 1:return i.sent(),t.parent.active=!1,[2]}})})},e.prototype.choose=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){var t,o,i,r,s,a,c=this;return __generator(this,function(u){switch(u.label){case 0:for(t=null,o=10,this.setChooseWord(o),this.schedule(function(){return c.setChooseWord(--o)},1),this.freeChoose.active=!0,s=0,a=this.chooseSpines.length;s<a;s++)t=this.chooseSpines[s].setAnimation(0,p,!1);return[4,n.finished(t)];case 1:for(u.sent(),i=function(t,o){r.chooseSpines[t].setAnimation(0,l,!0),r.chooseTouchs[t].on(r.touchStart,function(){return c.chooseOne(t,e)},r)},r=this,s=0,a=this.chooseSpines.length;s<a;s++)i(s,a);return this.scheduleOnce(function(){return c.chooseOne(0,e)},o),[2]}})})})},e.prototype.setChooseWord=function(t){this.countTime.string="("+t+")"},e.prototype.chooseOne=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,i;return __generator(this,function(r){switch(r.label){case 0:for(this.unscheduleAllCallbacks(),o=0,i=this.chooseSpines.length;o<i;o++)this.chooseTouchs[o].targetOff(this);return[4,n.finished(this.chooseSpines[t].setAnimation(0,d,!1))];case 1:return r.sent(),this.freeChoose.active=!1,e(t),[2]}})})},__decorate([c({type:cc.AudioClip})],e.prototype,"freeSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"bonusSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"harvestSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"freeMusic",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"bonusMusic",void 0),__decorate([c(cc.Node)],e.prototype,"freeEyecatch",void 0),__decorate([c(cc.Node)],e.prototype,"bonusEyecatch",void 0),__decorate([c(cc.Animation)],e.prototype,"harvestEyecatch",void 0),__decorate([c(cc.Node)],e.prototype,"freeChoose",void 0),__decorate([c({type:[sp.Skeleton]})],e.prototype,"chooseSpines",void 0),__decorate([c({type:[cc.Node]})],e.prototype,"chooseTouchs",void 0),__decorate([c({type:cc.Label})],e.prototype,"countTime",void 0),__decorate([c({tooltip:"\u5e7e\u79d2\u5f8c\u80cc\u5f8c\u8f49\u5834"})],e.prototype,"freeTime",void 0),__decorate([c(cc.Node)],e.prototype,"baseWin",void 0),__decorate([c(cc.Label)],e.prototype,"baseWinLabel",void 0),e=__decorate([a],e)}(cc.Component);o.default=u;var p="FGmode_appear",l="FGmode_normal",d="FGmode_risehand";cc._RF.pop()},{"../../Script/lib/AudioBox":"AudioBox","../../Script/lib/function":"function","../../Script/lib/spine.function":"spine.function"}],Symbol:[function(t,e,o){"use strict";cc._RF.push(e,"c04c7+VtSlIGJodDqjbayAH","Symbol"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/config"),n=t("../../Script/lib/dispatch.event.name"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteNode=null,e.touch=null,e.staticSprites=[],e.blurSprites=[],e.spines=[],e.sprite=null,e.spine=null,e.spineNode=null,e.id=null,e.exclude=[9,10,11],e}return __extends(e,t),e.prototype.init=function(t){var e=this;this.sprite=this.spriteNode.getComponent(cc.Sprite),this.spine=t.getComponent(sp.Skeleton),this.spineNode=t,this.spine.premultipliedAlpha=!1,this.touch.on(cc.Node.EventType.TOUCH_START,function(){return e.activeInfo()},this)},e.prototype.setColor=function(t){this.spriteNode.color=t?i.graySymbol.color:i.normalSymbol.color,this.spriteNode.opacity=t?i.graySymbol.opacity:i.normalSymbol.opacity},e.prototype.setSprite=function(t,e){var o=e?this.blurSprites:this.staticSprites;this.sprite.spriteFrame=o[t],this.id=t},e.prototype.playAnimation=function(){return this.activeAnimation(!0),this.spine.skeletonData=this.spines[this.id],this.spine.setAnimation(0,"animation",!1).animation.duration},e.prototype.playWaitLoop=function(){this.activeAnimation(!0),this.spine.skeletonData=this.spines[this.id],this.spine.setAnimation(0,"waitLoop",!0)},e.prototype.stopAnimation=function(){this.sprite.spriteFrame=this.staticSprites[this.id],this.activeAnimation(!1)},e.prototype.miEffect=function(t){t?(this.activeAnimation(!0),this.spine.skeletonData=this.spines[this.id],this.spine.setAnimation(0,"mi",!0)):this.stopAnimation()},e.prototype.activeAnimation=function(t){this.spriteNode.opacity=t?0:255,this.spineNode.opacity=t?255:0},e.prototype.activeInfo=function(){if(-1===this.exclude.indexOf(this.id)){var t=this.node.x>0?-120:120,e=this.node.x+t,o=this.node.y-180,i={idx:this.id,x:e,y:o},r=new cc.Event.EventCustom(n.dispatchEventName.info,!0);r.detail=i,this.node.dispatchEvent(r)}},__decorate([a({type:cc.Node})],e.prototype,"spriteNode",void 0),__decorate([a({type:cc.Node})],e.prototype,"touch",void 0),__decorate([a({type:[cc.SpriteFrame]})],e.prototype,"staticSprites",void 0),__decorate([a({type:[cc.SpriteFrame]})],e.prototype,"blurSprites",void 0),__decorate([a({type:[sp.SkeletonData]})],e.prototype,"spines",void 0),e=__decorate([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/dispatch.event.name":"dispatch.event.name"}],background:[function(t,e,o){"use strict";cc._RF.push(e,"554c6G4uspME68q4yO5GKhU","background"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./farm"),n=t("../../Script/lib/spine.function"),r=t("../../Script/lib/function"),s=t("./weather"),a=t("./book"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.normal=null,e.free=null,e.bonus=null,e.freeGod=null,e.freeTitle=null,e.freeText=null,e.farm=null,e.weather=null,e.book=null,e}return __extends(e,t),e.prototype.init=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,n;return __generator(this,function(r){return o=t.saveData,n=t.weather,this.transformNormal(),this.farm=this.node.getComponent(i.default),this.weather=this.node.getComponent(s.default),this.book=this.node.getComponent(a.default),this.farm.init(t,e),this.weather.init(n),this.book.init(e),this.book.data=o.seed,[2]})})},e.prototype.activeTrophy=function(t){this.farm.activeTrophy(t)},e.prototype.watering=function(){this.weather.watering()},e.prototype.manuring=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.weather.manuring()];case 1:return t.sent(),[2]}})})},e.prototype.seedPlus=function(t){0!==t&&this.book.seedPlus(t)},e.prototype.setBook=function(t){this.book.data=t},e.prototype.activeBook=function(t){this.book.activeBook(t)},e.prototype.updateLand=function(t,e,o,i,n,s){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(a){switch(a.label){case 0:return this.weather.updateWeather(n),[4,this.farm.updataLand(t,!1)];case 1:return a.sent(),[4,this.farm.harvest(e)];case 2:return a.sent(),this.farm.trophyFall(i),this.farm.updateBar(o),r.isEmpty(s)?[3,4]:[4,this.weather.typhoon()];case 3:a.sent(),this.farm.typhoon(s),a.label=4;case 4:return[2]}})})},e.prototype.clearBonusBar=function(){this.farm.updateBar({bar:0,award:0}),this.farm.clearBox()},e.prototype.updateWeather=function(t){this.weather.updateWeather(t)},e.prototype.killCrop=function(t){return this.farm.killCrop(t)},e.prototype.setTouchable=function(t){this.farm.onTouchEvent(t)},e.prototype.closeTouchable=function(t){this.farm.offTouchEvent(t)},e.prototype.pauseTouch=function(t){this.farm.pauseTouch(t)},e.prototype.transformNormal=function(){this.transform(1)},e.prototype.transformFree=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.transform(2),this.freeTitle.play(),this.freeGod.setSkin(d[t]),[4,n.finished(this.freeGod.setAnimation(0,"FGdisplay_appear",!1))];case 1:return e.sent(),this.freeGod.setAnimation(0,"FGdisplay_normal",!0),[2]}})})},e.prototype.transformBonus=function(){this.transform(3)},e.prototype.transform=function(t){this.normal.active=1===t,this.free.active=2===t,this.bonus.active=3===t},e.prototype.popFreeTitle=function(){this.freeText.play()},e.prototype.risehand=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,n.finished(this.freeGod.setAnimation(0,"FGdisplay_risehand",!1))];case 1:return t.sent(),this.freeGod.setAnimation(0,"FGdisplay_normal",!0),[2]}})})},__decorate([p(cc.Node)],e.prototype,"normal",void 0),__decorate([p(cc.Node)],e.prototype,"free",void 0),__decorate([p(cc.Node)],e.prototype,"bonus",void 0),__decorate([p(sp.Skeleton)],e.prototype,"freeGod",void 0),__decorate([p(cc.Animation)],e.prototype,"freeTitle",void 0),__decorate([p(cc.Animation)],e.prototype,"freeText",void 0),e=__decorate([u],e)}(cc.Component);o.default=l;var d=["apple_X5","apple_X3","apple_X2"];cc._RF.pop()},{"../../Script/lib/function":"function","../../Script/lib/spine.function":"spine.function","./book":"book","./farm":"farm","./weather":"weather"}],bonus:[function(t,e,o){"use strict";cc._RF.push(e,"b8833FdeJ9CvJlNY2JD3S6t","bonus"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/lib/function"),n=cc._decorator,r=n.ccclass,s=n.property,a=[-240,0,235],c=[-363,-363,-363],u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coin=null,e.farmer=null,e.failAni=null,e.clearAni=null,e.box=null,e.gear=null,e.point=null,e.bonusShowUp=null,e.door=null,e.bonusBoy=null,e.winAni=null,e.win=null,e.id=null,e.round=null,e.time=null,e.lave=null,e.crops=[],e.smallWin=[],e.progressBox=[],e.harvestSprites=[],e.smallWinNum=[],e.cropIdx=0,e.timeVal=0,e.nowWin=0,e.count=0,e}return __extends(e,t),e.prototype.init=function(t){this.harvestSprites=t,this.node.active=!1},e.prototype.clear=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.cleardown(),this.point.active=!1,this.coin.active=!0,[4,this.sumWin(!0)];case 1:return t.sent(),[4,i.timeout(3)];case 2:return t.sent(),this.clearAni.node.opacity=0,e(this.nowWin),[2]}})})})},e.prototype.cleardown=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.clearAni.play(),[4,i.aniFinish(this.clearAni)];case 1:return t.sent(),[4,this.resumeDoorDown()];case 2:return t.sent(),[2]}})})},e.prototype.fail=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.farmerOops(),this.failAni.play(),[4,i.aniFinish(this.failAni)];case 1:return t.sent(),[4,this.resumeDoorDown()];case 2:return t.sent(),this.coin.active=!0,[4,this.sumWin(!0)];case 3:return t.sent(),[4,i.timeout(2)];case 4:return t.sent(),this.failAni.node.opacity=0,e(this.nowWin),[2]}})})})},e.prototype.farmerOops=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.farmer.play(),[4,i.aniFinish(this.farmer)];case 1:return t.sent(),this.point.active=!1,this.bonusBoy.setAnimation(0,"Game_bonus_fail",!1),[2]}})})},e.prototype.resumeDoorDown=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.id.string="",this.round.string="",this.door.play("bonus_doorDown"),[4,i.aniFinish(this.door)];case 1:return t.sent(),[2]}})})},e.prototype.resumeBonus=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.farmer.node.children.map(function(t){return t.opacity=0}),this.coin.active=!1,this.bonusShowUp.play("bonus_init"),this.door.play("bonus_doorOpen"),[4,i.aniFinish(this.door)];case 1:return t.sent(),this.cropIdx=0,this.node.active=!1,[2]}})})},e.prototype.sumWin=function(t){var e=this;return void 0===t&&(t=!1),new Promise(function(o,n){return __awaiter(e,void 0,void 0,function(){var e,n,r,s,a,c=this;return __generator(this,function(u){for(e=t?"bonus_winNB":"bonus_winNB_small",this.bonusBoy.setAnimation(0,"Game_bonus_win",!0),this.box.node.opacity=0,s=0,a=this.crops.length;s<a;s++)this.crops[s].getComponent(cc.Sprite).spriteFrame=null;for(n=function(t,n){var s=t===n-1;r.smallWin[t].node.runAction(cc.sequence(cc.delayTime(.75),cc.spawn(cc.moveTo(.3,0,-578),cc.fadeOut(.3)),cc.callFunc(function(){s&&(c.win.string=""+i.strip(c.nowWin),c.winAni.getComponent(cc.Animation).play(e),c.smallWinNum=[],o())})))},r=this,s=0,a=this.smallWinNum.length;s<a;s++)n(s,a);return 0===this.smallWinNum.length&&o(),[2]})})})},e.prototype.nextRound=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.point.active=!1,[4,this.sumWin()];case 1:return t.sent(),this.box.play("box_in"),this.box.node.opacity=255,this.gear.play(),[4,i.aniFinish(this.box)];case 2:return t.sent(),this.point.active=!0,this.bonusBoy.setAnimation(0,"Game_bonus_normal",!0),e(),[2]}})})})},e.prototype.packingCrop=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,n,r,s;return __generator(this,function(u){switch(u.label){case 0:return o=this.crops[this.cropIdx],n=this.smallWin[this.cropIdx].node,r=o.getComponent(cc.Sprite),s=o.getComponent(cc.Animation),r.spriteFrame=this.harvestSprites[t],this.smallWin[this.cropIdx].string="+"+i.strip(e),this.smallWinNum.push(Number(e)),this.progressBox[this.cropIdx].play("bonus_icon_win"),this.nowWin+=Number(e),n.opacity=255,n.x=a[this.cropIdx],n.y=c[this.cropIdx],n.getComponent(cc.Animation).play(),this.cropIdx++,3!==this.cropIdx?this.progressBox[this.cropIdx].play("bonus_icon_in"):this.cropIdx=0,s.play(),[4,i.aniFinish(s)];case 1:return u.sent(),[2]}})})},e.prototype.setInfo=function(t,e,o,n){return __awaiter(this,void 0,void 0,function(){var r,s;return __generator(this,function(a){switch(a.label){case 0:for(this.id.string="ID:"+t.toLowerCase()+"'s FARM",this.round.string=""+e,this.time.string="time:"+o,this.lave.string=e+"/"+n,this.timeVal=o,r=0,s=this.progressBox.length;r<s;r++)this.progressBox[r].play("bonus_icon_empty");return[4,i.timeout(.2)];case 1:return a.sent(),this.progressBox[0].play("bonus_icon_in"),[2]}})})},e.prototype.showUp=function(){var t=this;return new Promise(function(e,o){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return this.bonusBoy.setAnimation(0,"Game_bonus_normal",!0),this.nowWin=0,this.win.string="0",this.bonusShowUp.play("bonus_in"),this.winAni.getComponent(cc.Animation).play("bonus_winNB_small"),[4,i.aniFinish(this.bonusShowUp)];case 1:return t.sent(),this.point.active=!0,e(),[2]}})})})},e.prototype.stopCountDown=function(){this.unschedule(this._countDown)},e.prototype.countDown=function(){this.count=this.timeVal,this.time.string="time:"+this.count,this.schedule(this._countDown,1)},e.prototype._countDown=function(){this.count-=1,this.count<0?this.unschedule(this._countDown):this.time.string="time:"+this.count},e.prototype.doorAction=function(t){var e=this;return new Promise(function(o,n){return __awaiter(e,void 0,void 0,function(){var e;return __generator(this,function(n){switch(n.label){case 0:return this.node.active||(this.bonusShowUp.play("bonus_init"),this.node.active=!0),e=t?"bonus_doorOpen":"bonus_doorDown",this.door.play(e),[4,i.aniFinish(this.door)];case 1:return n.sent(),o(),[2]}})})})},__decorate([s(cc.Node)],e.prototype,"coin",void 0),__decorate([s(cc.Animation)],e.prototype,"farmer",void 0),__decorate([s(cc.Animation)],e.prototype,"failAni",void 0),__decorate([s(cc.Animation)],e.prototype,"clearAni",void 0),__decorate([s(cc.Animation)],e.prototype,"box",void 0),__decorate([s(cc.Animation)],e.prototype,"gear",void 0),__decorate([s(cc.Node)],e.prototype,"point",void 0),__decorate([s(cc.Animation)],e.prototype,"bonusShowUp",void 0),__decorate([s(cc.Animation)],e.prototype,"door",void 0),__decorate([s(sp.Skeleton)],e.prototype,"bonusBoy",void 0),__decorate([s(cc.Animation)],e.prototype,"winAni",void 0),__decorate([s(cc.Label)],e.prototype,"win",void 0),__decorate([s(cc.Label)],e.prototype,"id",void 0),__decorate([s(cc.Label)],e.prototype,"round",void 0),__decorate([s(cc.Label)],e.prototype,"time",void 0),__decorate([s(cc.Label)],e.prototype,"lave",void 0),__decorate([s([cc.Node])],e.prototype,"crops",void 0),__decorate([s([cc.Label])],e.prototype,"smallWin",void 0),__decorate([s([cc.Animation])],e.prototype,"progressBox",void 0),e=__decorate([r],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Script/lib/function":"function"}],book:[function(t,e,o){"use strict";cc._RF.push(e,"5edf6lY3UJD36XjDihqwC5U","book"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grass=null,e.openBtn=null,e.closeBtn=null,e.nextBtn=null,e.prevBtn=null,e.openAnimate=null,e.book=null,e.ids=null,e.crops=null,e.seedPlusAni=null,e.seedPlusLabel=null,e.harvestSprites=[],e.touchStart=cc.Node.EventType.TOUCH_START,e.columns=0,e.maxPage=0,e.page=0,e._data=[],e.active=!0,e}return __extends(e,t),Object.defineProperty(e.prototype,"data",{set:function(t){this._data=t},enumerable:!0,configurable:!0}),e.prototype.init=function(t){var e=this;this.harvestSprites=t,this.openBtn.on(this.touchStart,this.open,this),this.closeBtn.on(this.touchStart,this.close,this),this.nextBtn.on(this.touchStart,this.next,this),this.prevBtn.on(this.touchStart,this.prev,this),this.grass.on(this.touchStart,function(){return e.grass.getComponent(cc.Animation).play()},this),this.columns=this.ids.childrenCount},e.prototype.activeBook=function(t){t?this.active=!0:(this.active=!1,this.close())},e.prototype.seedPlus=function(t){this.seedPlusLabel.string="+"+t,this.seedPlusAni.play(),this.openAnimate.play("house")},e.prototype.setPage=function(){this.clearBook();for(var t=this._data,e=this.ids.children,o=this.crops.children,i=this.page*this.columns,n=i+this.columns,r=this.page<this.maxPage,s=r?n:t.length,a=i;a<n;a++)e[a-i].getComponent(cc.Label).string=""+(a+1);for(a=i;a<s;a++){var c=t[a];o[a-i].getComponent(cc.Sprite).spriteFrame=this.harvestSprites[c]}this.prevBtn.active=0!==this.page,this.nextBtn.active=r},e.prototype.clearBook=function(){for(var t=this.crops.children,e=0;e<this.columns;e++)t[e].getComponent(cc.Sprite).spriteFrame=null},e.prototype.open=function(){this.active&&(this.openAnimate.play("house"),this.book.active=!0,this.page=0,this.maxPage=Math.ceil(this._data.length/this.columns)-1,this.prevBtn.active=!1,this.nextBtn.active=!0,this.setPage())},e.prototype.close=function(){this.book.active=!1},e.prototype.next=function(){this.page+=1,this.setPage()},e.prototype.prev=function(){this.page-=1,this.setPage()},__decorate([r(cc.Node)],e.prototype,"grass",void 0),__decorate([r(cc.Node)],e.prototype,"openBtn",void 0),__decorate([r(cc.Node)],e.prototype,"closeBtn",void 0),__decorate([r(cc.Node)],e.prototype,"nextBtn",void 0),__decorate([r(cc.Node)],e.prototype,"prevBtn",void 0),__decorate([r(cc.Animation)],e.prototype,"openAnimate",void 0),__decorate([r(cc.Node)],e.prototype,"book",void 0),__decorate([r(cc.Node)],e.prototype,"ids",void 0),__decorate([r(cc.Node)],e.prototype,"crops",void 0),__decorate([r(cc.Animation)],e.prototype,"seedPlusAni",void 0),__decorate([r(cc.Label)],e.prototype,"seedPlusLabel",void 0),e=__decorate([n],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],button:[function(t,e,o){"use strict";cc._RF.push(e,"be8c7Gt1GlBl54MnFqgufua","button"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../Script/lib/AudioBox"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextSound=null,e.backSound=null,e.spin=null,e.stop=null,e.autoStop=null,e.plus=null,e.close=null,e.auto=null,e.turbo=null,e.info=null,e.plusBar=null,e.betAdd=null,e.betSub=null,e.maxBet=null,e.autoTimesLabel=null,e.autoBarTimesLabel=null,e.laveBtn=null,e.laveLabel=null,e.normalBtns=[],e.turboBtns=[],e.model=null,e.canClick=!0,e.blockAll=!1,e.isSpinBlock=!1,e}return __extends(e,t),e.prototype.init=function(t){var e=this,o=cc.Node.EventType.TOUCH_START;this.model=t,this.activePlusBar(!1),this.stop.active=!1,this.spin.active=!0,this.spin.on(o,function(){return e.checkClick(function(){return e.spinEmit()})}),this.stop.on(o,function(){return e.checkClick(function(){return e.node.emit(i.stop)},e.backSound)}),this.auto.on(o,function(){return e.checkClick(function(){return e.node.emit(i.auto)},e.nextSound)}),this.autoStop.on(o,function(){return e.checkClick(function(){return e.setAuto(!1)},e.backSound)}),this.turbo.on(o,function(){return e.checkClick(function(){return e.setTurbo()},e.nextSound)}),this.plus.on(o,function(){return e.checkClick(function(){return e.activePlusBar(!0)},e.nextSound)}),this.close.getChildByName("touch").on(o,function(){return e.checkClick(function(){return e.activePlusBar(!1)},e.backSound)}),this.betAdd.on(o,function(){return e.checkSpinBlock(function(){return e.node.emit(i.betAdd)},e.betAdd,e.nextSound)}),this.betSub.on(o,function(){return e.checkSpinBlock(function(){return e.node.emit(i.betSub)},e.betSub,e.backSound)}),this.maxBet.on(o,function(){return e.checkSpinBlock(function(){return e.node.emit(i.maxBet)},e.maxBet,e.nextSound)}),this.info.on(o,function(){return e.checkSpinBlock(function(){return e.node.emit(i.info)},e.info)}),this.plusBar.getChildByName("block").on(o,function(){})},e.prototype.activePlusBar=function(t){this.plusBar.active=t,this.plus.active=!t},e.prototype.spinEmit=function(){this.canClick=!1,this.node.emit(i.spin)},e.prototype.freeLave=function(t){this.spin.active=!t,this.laveBtn.active=t},e.prototype.setLave=function(t){this.laveLabel.string=t},e.prototype.setAutoTimes=function(t){this.autoTimesLabel.string=t,this.autoBarTimesLabel.string=t},e.prototype.blockTouch=function(t){this.blockAll=t},e.prototype.setBtn=function(t,e){void 0===t&&(t=!0),void 0===e&&(e=!0),this.blockAll||(this.canClick=e,this.spin.active=t,this.stop.active=!t)},e.prototype.spinBlock=function(t){this.plus.active=t,this.isSpinBlock=!t,this.info.active=t,this.betAdd.opacity=t?255:50,this.betSub.opacity=t?255:50,this.maxBet.opacity=t?255:50},e.prototype.setTurbo=function(t){void 0===t&&(t=!1);var e=t?this.model.isTurbo:!this.model.isTurbo;this.model.isTurbo=e,this.activePlusBar(!1);for(var o=0,i=this.normalBtns.length;o<i;o++)this.normalBtns[o].active=!e;for(o=0,i=this.turboBtns.length;o<i;o++)this.turboBtns[o].active=e},e.prototype.setAuto=function(t){void 0===t&&(t=!0),this.model.isAuto=t,this.stop.active=!t,this.autoStop.active=t,t||this.model.resumeAuto()},e.prototype.checkClick=function(t,e){this.blockAll||this.canClick&&(n.AudioBox.play_sound(e,1),this.plusBar.active=!1,t())},e.prototype.checkSpinBlock=function(t,e,o){this.isSpinBlock||(n.AudioBox.play_sound(o,1),e.getComponent(cc.Animation).play(),t())},__decorate([a({type:cc.AudioClip})],e.prototype,"nextSound",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"backSound",void 0),__decorate([a({type:cc.Node})],e.prototype,"spin",void 0),__decorate([a({type:cc.Node})],e.prototype,"stop",void 0),__decorate([a({type:cc.Node})],e.prototype,"autoStop",void 0),__decorate([a({type:cc.Node})],e.prototype,"plus",void 0),__decorate([a({type:cc.Node})],e.prototype,"close",void 0),__decorate([a({type:cc.Node})],e.prototype,"auto",void 0),__decorate([a({type:cc.Node})],e.prototype,"turbo",void 0),__decorate([a({type:cc.Node})],e.prototype,"info",void 0),__decorate([a({type:cc.Node})],e.prototype,"plusBar",void 0),__decorate([a({type:cc.Node})],e.prototype,"betAdd",void 0),__decorate([a({type:cc.Node})],e.prototype,"betSub",void 0),__decorate([a({type:cc.Node})],e.prototype,"maxBet",void 0),__decorate([a({type:cc.Label})],e.prototype,"autoTimesLabel",void 0),__decorate([a({type:cc.Label})],e.prototype,"autoBarTimesLabel",void 0),__decorate([a({type:cc.Node})],e.prototype,"laveBtn",void 0),__decorate([a({type:cc.Label})],e.prototype,"laveLabel",void 0),__decorate([a({type:[cc.Node]})],e.prototype,"normalBtns",void 0),__decorate([a({type:[cc.Node]})],e.prototype,"turboBtns",void 0),e=__decorate([s],e)}(cc.Component);o.default=c,function(t){t.spin="spin",t.stop="stop",t.auto="auto",t.betAdd="betAdd",t.betSub="betSub",t.maxBet="maxBet",t.info="info"}(i=o.buttonEnum||(o.buttonEnum={})),cc._RF.pop()},{"../../Script/lib/AudioBox":"AudioBox"}],config:[function(t,e,o){"use strict";cc._RF.push(e,"3bb07AOh35MZJrJAe/Nu8nV","config"),Object.defineProperty(o,"__esModule",{value:!0}),o.urlConfig=JSON.parse(window.keyData||"{}"),o.isDebug=!0,o.normalConfig={normalAcc:2,normalMax:60,normalTurns:[5,6,7,8,9]},o.turboConfig={turboAcc:3,turboMax:80,turboTurns:[3,4,5,6,7]},o.normalSymbol={color:cc.color(255,255,255),opacity:255},o.graySymbol={color:cc.color(80,80,80),opacity:150},o.normalRoll=[[0,1,2,3,4,5,6,7,8,9,10],[0,1,2,3,4,5,6,7,8,9,10],[0,1,2,3,4,5,6,7,8,9,10,11],[0,1,2,3,4,5,6,7,8,9,11],[0,1,2,3,4,5,6,7,8,9,11]],o.freeRoll=[[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9],[0,1,2,3,4,5,6,7,8,9]],o.autoTimes=[50,100,500,1e3],o.winLevel=[10,50,100,1/0],o.cropConfig={initX:-307,initY:87,distanceX:55.8,distanceY:55,scaleX:1,scaleY:1},o.mergeCropConfig={initX:-280,initY:65,distanceX:55.8,distanceY:52,scaleX:2,scaleY:2},o.filedColorConfig={normal:"#FFFFFF",rain:"#A0938F",bigRain:"#534844",sprinklers:"#B1A296",drought:"#F7F5E5",cloudy:"#D3D3D3"},o.bgColorConfig={normal:"#FFFFFF",rain:"#A5BACF",cloudy:"#D3D3D3"},o.riverColorConfig={normal:"#FFFFFF",rain:"#A5BACF",cloudy:"#D3D3D3"},cc._RF.pop()},{}],crop:[function(t,e,o){"use strict";cc._RF.push(e,"90911CGcZZFRrsus59i6JkH","crop"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/config"),n=t("../../Script/lib/dispatch.event.name"),r=t("../../Script/loading"),s=cc._decorator,a=s.ccclass,c=s.property,u=cc.Node.EventType.TOUCH_START,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.crop=null,e.ripeEffect=null,e.touch=null,e.cropSprites=[],e.sprite=null,e.idx=-1,e.type=-1,e.stage=-1,e.isMerge=!1,e.pauseTouch=!1,e.symbolText=null,e}return __extends(e,t),e.prototype.init=function(t){this.idx=t,this.sprite=this.crop.getComponent(cc.Sprite),this.ripeEffect.active=!1,this.touch.active=!1,this.symbolText=r.FontAsset.text.symbol},e.prototype.updateCrop=function(t,e,o,n){var r=this;return new Promise(function(s,a){r.type===e&&r.stage===o?s():(r.type=e,r.stage=o,r.crop.runAction(cc.sequence(cc.fadeTo(.2,150),cc.callFunc(function(){var s=n?i.mergeCropConfig:i.cropConfig;r.node.x=s.initX+s.distanceX*Math.floor(t/4),r.node.y=s.initY-s.distanceY*(t%4),r.node.scaleX=s.scaleX,r.node.scaleY=s.scaleY,r.crop.scaleX=4!==o?1:.5,r.crop.scaleY=4!==o?1:.5,r.sprite.spriteFrame=r.cropSprites[4*e+(o-1)],r.ripeEffect.active=4===o,r.isMerge=n}),cc.fadeTo(.2,255),cc.callFunc(function(){return s()}))))})},e.prototype.mergeEffect=function(t){var e=this,o=i.mergeCropConfig,n=o.initX+o.distanceX*Math.floor(t/4),r=o.initY-o.distanceY*(t%4);this.type=-1,this.stage=-1,this.node.runAction(cc.moveTo(.2,n,r)),this.crop.runAction(cc.sequence(cc.fadeTo(.2,150),cc.callFunc(function(){e.sprite.spriteFrame=null,e.ripeEffect.active=!1})))},e.prototype.harvest=function(){var t=this;return new Promise(function(e,o){t.node.runAction(cc.sequence(cc.spawn(cc.moveTo(.15,-270,-230),cc.fadeOut(.15)),cc.callFunc(function(){var o=new cc.Event.EventCustom(n.dispatchEventName.harvestBox,!0);o.detail=t.type,t.node.dispatchEvent(o),t.sprite.spriteFrame=null,t.ripeEffect.active=!1,t.type=-1,t.stage=-1,t.isMerge=!1,t.node.opacity=255,e()})))})},e.prototype.kill=function(){var t=this;return this.touch.off(u,this.sendTouch,this),this.touch.active=!1,this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){t.sprite.spriteFrame=null,t.ripeEffect.active=!1,t.type=-1,t.stage=-1,t.isMerge=!1,t.node.opacity=255}))),this.type},e.prototype.setTouchEvent=function(t){t?(this.touch.on(u,this.sendTouch,this),this.touch.active=!0):(this.touch.off(u,this.sendTouch,this),this.touch.active=!1)},e.prototype.sendTouch=function(){if(!this.pauseTouch){this.pauseTouch=!0;var t=new cc.Event.EventCustom(n.dispatchEventName.cropTouch,!0);t.detail=this.idx,this.node.dispatchEvent(t)}},e.prototype.flyOut=function(){var t=this,e=this.node.x,o=this.node.y,i=[cc.p(e,o),cc.p(e+(0-e)/2,570),cc.p(0,720)];this.node.runAction(cc.sequence(cc.spawn(cc.rotateBy(.75,720),cc.bezierTo(.75,i),cc.scaleBy(.75,2,2)),cc.callFunc(function(){t.sprite.spriteFrame=null,t.ripeEffect.active=!1,t.type=-1,t.stage=-1,t.isMerge=!1,t.node.opacity=255})))},__decorate([c(cc.Node)],e.prototype,"crop",void 0),__decorate([c(cc.Node)],e.prototype,"ripeEffect",void 0),__decorate([c(cc.Node)],e.prototype,"touch",void 0),__decorate([c({type:[cc.SpriteFrame]})],e.prototype,"cropSprites",void 0),e=__decorate([a],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/dispatch.event.name":"dispatch.event.name","../../Script/loading":"loading"}],debug:[function(t,e,o){"use strict";cc._RF.push(e,"da4b41skItIZ57AJx24pBPw","debug"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./ws"),n={protocol:"Login",data:{memberId:"9990014",userName:"DemoPlayer14",grade:99,permissions:0,currency:"TWD",tableMoney:1e4,betList:[2,6.25,10,12.5,18.75,25,31.25,45,50,75,100,125,250,500,875,1e3,1250],linePay:[[5,50,500,1e3],[2,20,200,500],[2,20,200,500],[0,10,50,200],[0,10,50,100],[0,10,30,100],[0,10,20,80],[0,5,20,80],[0,5,10,80]],steal:[],weather:0,saveData:{land:[],trophy:[],seed:[],bonusBar:{bar:0}}}},r=[{protocol:"Bet",data:{balance:9905.8,result:{totalWin:0,roll:[10,4,5,10,4,6,0,6,10,9,6,4,2,11,8],data:[]},land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:3,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:3,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:3,merge:[]},{idx:9,type:0,stage:3,merge:[]},{idx:11,type:4,stage:4,merge:[]},{idx:12,type:1,stage:2,merge:[]},{idx:13,type:1,stage:2,merge:[]},{idx:14,type:1,stage:2,merge:[]},{idx:15,type:3,stage:1,merge:[]},{idx:16,type:8,stage:2,merge:[]}],bonusBar:{bar:44.6,award:0},harvest:[{idx:11,type:4,merge:[],bonus:.15,addBar:.2}],typhoonLose:[],weather:2,trophy:[0,2],seed:[],freeInfo:{choice:[{count:6,times:5},{count:10,times:3},{count:15,times:2}],baseWin:6}}},{protocol:"Bet",data:{balance:9997.5,result:{totalWin:0,roll:[5,3,0,3,6,7,2,6,11,11,7,6,11,1,6],data:[]},land:[],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[],bonusInfo:{totalCount:5,nowCount:1,id:"Juan",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"Bet",data:{balance:9997.5,result:{totalWin:0,roll:[5,3,0,3,6,7,2,6,11,11,7,6,11,1,6],data:[]},land:[],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[],bonusInfo:{totalCount:5,nowCount:1,id:"Juan",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"Bet",data:{balance:9992.7,result:{totalWin:0,roll:[0,4,5,5,4,0,7,8,0,11,7,6,8,7,5],data:[]},land:[{idx:0,type:0,stage:2,merge:[]},{idx:1,type:0,stage:2,merge:[]},{idx:2,type:0,stage:2,merge:[]},{idx:3,type:1,stage:1,merge:[]},{idx:4,type:1,stage:1,merge:[]},{idx:5,type:1,stage:1,merge:[]},{idx:6,type:1,stage:1,merge:[]},{idx:7,type:1,stage:1,merge:[]},{idx:8,type:1,stage:1,merge:[]}],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[],weather:1,trophy:[],seed:[]}},{protocol:"Bet",data:{balance:9992.7,result:{totalWin:0,roll:[0,4,5,5,4,0,7,8,0,11,7,6,8,7,5],data:[]},land:[{idx:0,type:0,stage:2,merge:[]},{idx:1,type:0,stage:2,merge:[]},{idx:2,type:0,stage:2,merge:[]},{idx:3,type:1,stage:1,merge:[]},{idx:4,type:1,stage:1,merge:[]},{idx:5,type:1,stage:1,merge:[]},{idx:6,type:1,stage:1,merge:[]},{idx:7,type:1,stage:1,merge:[]},{idx:8,type:1,stage:1,merge:[]}],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[],weather:2,trophy:[],seed:[]}},{protocol:"Bet",data:{balance:9992.7,result:{totalWin:0,roll:[0,4,5,5,4,0,7,8,0,11,7,6,8,7,5],data:[]},land:[{idx:0,type:0,stage:2,merge:[]},{idx:1,type:0,stage:2,merge:[]},{idx:2,type:0,stage:2,merge:[]},{idx:3,type:1,stage:1,merge:[]},{idx:4,type:1,stage:1,merge:[]},{idx:5,type:1,stage:1,merge:[]},{idx:6,type:1,stage:1,merge:[]},{idx:7,type:1,stage:1,merge:[]},{idx:8,type:1,stage:1,merge:[]}],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[],weather:3,trophy:[],seed:[]}},{protocol:"Bet",data:{balance:9992.7,result:{totalWin:0,roll:[0,4,5,5,4,0,7,8,0,11,7,6,8,7,5],data:[]},land:[{idx:0,type:0,stage:2,merge:[]},{idx:1,type:0,stage:2,merge:[]},{idx:2,type:0,stage:2,merge:[]},{idx:3,type:1,stage:1,merge:[]},{idx:4,type:1,stage:1,merge:[]},{idx:5,type:1,stage:1,merge:[]},{idx:6,type:1,stage:1,merge:[]},{idx:7,type:1,stage:1,merge:[]},{idx:8,type:1,stage:1,merge:[]}],bonusBar:{bar:0,award:0},harvest:[],typhoonLose:[6,7,8],weather:3,trophy:[],seed:[]}},{protocol:"Bet",data:{balance:9899.2,result:{totalWin:0,roll:[0,6,10,4,5,7,2,6,11,3,8,4,7,6,5],data:[]},land:[{idx:0,type:0,stage:4,merge:[]},{idx:2,type:0,stage:4,merge:[2,3,6,7]},{idx:4,type:0,stage:4,merge:[]},{idx:10,type:0,stage:4,merge:[]},{idx:14,type:0,stage:4,merge:[]}],bonusBar:{bar:100,award:100},harvest:[{idx:2,type:0,merge:[2,3,6,7],bonus:.2,addBar:15}],typhoonLose:[],trophy:[]}}],s=[{protocol:"FreeBet",data:{result:{isEnd:!1,nowWin:0,totalWin:6,addFree:0,roll:[6,6,6,9,4,4,1,3,3,6,0,5,4,5,7],freeRound:5,data:[]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:3,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:3,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:3,merge:[]},{idx:9,type:0,stage:3,merge:[]},{idx:12,type:1,stage:2,merge:[]},{idx:13,type:1,stage:2,merge:[]},{idx:14,type:1,stage:2,merge:[]},{idx:15,type:3,stage:1,merge:[]},{idx:16,type:8,stage:2,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}}]}},{protocol:"FreeBet",data:{result:{isEnd:!1,nowWin:0,totalWin:6,addFree:0,roll:[4,8,8,2,2,6,6,6,6,7,3,6,4,5,7],freeRound:4,data:[]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:3,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:3,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:3,merge:[]},{idx:9,type:0,stage:3,merge:[]},{idx:12,type:1,stage:2,merge:[]},{idx:13,type:1,stage:2,merge:[]},{idx:14,type:1,stage:2,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:2,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}}]}},{protocol:"FreeBet",data:{result:{isEnd:!1,nowWin:277.5,totalWin:283.5,addFree:0,roll:[3,3,3,9,4,4,3,3,7,9,3,5,3,5,7],freeRound:3,data:[{line:3,symbol:3,position:[0,3,6,9,12],win:150},{line:17,symbol:3,position:[0,3,7],win:7.5},{line:19,symbol:3,position:[0,3,6,10],win:37.5},{line:7,symbol:3,position:[1,3,6,9],win:37.5},{line:11,symbol:3,position:[1,3,7],win:7.5},{line:15,symbol:3,position:[1,3,7,9],win:37.5}]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:3,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:3,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:3,merge:[]},{idx:9,type:0,stage:3,merge:[]},{idx:12,type:1,stage:3,merge:[]},{idx:13,type:1,stage:3,merge:[]},{idx:14,type:1,stage:3,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:3,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}}]}},{protocol:"FreeBet",data:{result:{isEnd:!1,nowWin:112.5,totalWin:396,addFree:0,roll:[7,7,7,9,7,7,4,4,9,3,9,6,5,7,3],freeRound:2,data:[{line:5,symbol:7,position:[0,4,8,10],win:15},{line:6,symbol:7,position:[1,5,8],win:3.75},{line:20,symbol:7,position:[1,4,8,10,13],win:60},{line:2,symbol:7,position:[2,5,8],win:3.75},{line:12,symbol:7,position:[2,4,8,10],win:15},{line:18,symbol:7,position:[2,5,8,10],win:15}]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:3,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:3,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:3,merge:[]},{idx:9,type:0,stage:3,merge:[]},{idx:10,type:3,stage:1,merge:[]},{idx:11,type:3,stage:1,merge:[]},{idx:12,type:1,stage:3,merge:[]},{idx:13,type:1,stage:3,merge:[]},{idx:14,type:1,stage:3,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:3,merge:[]},{idx:17,type:3,stage:1,merge:[]},{idx:18,type:3,stage:1,merge:[]},{idx:19,type:3,stage:1,merge:[]},{idx:20,type:3,stage:1,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}}]}},{protocol:"FreeBet",data:{result:{isEnd:!1,nowWin:175.5,totalWin:571.5,addFree:0,roll:[1,1,5,7,7,9,5,5,9,7,4,1,5,4,8],freeRound:1,data:[{line:6,symbol:1,position:[1,5,8,11],win:150},{line:10,symbol:1,position:[1,5],win:1.5},{line:14,symbol:1,position:[1,5],win:1.5},{line:2,symbol:5,position:[2,5,8],win:7.5},{line:16,symbol:5,position:[2,5,7],win:7.5},{line:18,symbol:5,position:[2,5,8],win:7.5}]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:4,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:4,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:4,merge:[]},{idx:9,type:0,stage:4,merge:[]},{idx:10,type:3,stage:1,merge:[]},{idx:11,type:3,stage:1,merge:[]},{idx:12,type:1,stage:3,merge:[]},{idx:13,type:1,stage:3,merge:[]},{idx:14,type:1,stage:3,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:3,merge:[]},{idx:17,type:3,stage:1,merge:[]},{idx:18,type:3,stage:1,merge:[]},{idx:19,type:3,stage:1,merge:[]},{idx:20,type:3,stage:1,merge:[]},{idx:21,type:7,stage:1,merge:[]},{idx:22,type:7,stage:1,merge:[]},{idx:23,type:7,stage:1,merge:[]},{idx:24,type:7,stage:1,merge:[]},{idx:25,type:7,stage:1,merge:[]},{idx:26,type:7,stage:1,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}}]}},{protocol:"FreeBet",data:{result:{isEnd:!0,nowWin:7.5,totalWin:579,addFree:0,roll:[7,2,2,5,9,7,3,3,3,4,3,6,3,5,4],freeRound:0,data:[{line:1,symbol:2,position:[1,4],win:1.5},{line:20,symbol:2,position:[1,4],win:1.5},{line:4,symbol:2,position:[2,4],win:1.5},{line:8,symbol:2,position:[2,4],win:1.5},{line:12,symbol:2,position:[2,4],win:1.5}]},farmResult:[{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:4,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:4,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:4,merge:[]},{idx:9,type:0,stage:4,merge:[]},{idx:10,type:3,stage:1,merge:[]},{idx:11,type:3,stage:1,merge:[]},{idx:12,type:1,stage:3,merge:[]},{idx:13,type:1,stage:3,merge:[]},{idx:14,type:1,stage:3,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:3,merge:[]},{idx:17,type:3,stage:1,merge:[]},{idx:18,type:3,stage:1,merge:[]},{idx:19,type:3,stage:1,merge:[]},{idx:20,type:3,stage:1,merge:[]},{idx:21,type:7,stage:1,merge:[]},{idx:22,type:7,stage:1,merge:[]},{idx:23,type:7,stage:1,merge:[]},{idx:24,type:7,stage:1,merge:[]},{idx:25,type:7,stage:1,merge:[]},{idx:26,type:7,stage:1,merge:[]},{idx:27,type:1,stage:1,merge:[]},{idx:28,type:1,stage:1,merge:[]},{idx:29,type:1,stage:1,merge:[]},{idx:30,type:5,stage:1,merge:[]},{idx:31,type:5,stage:1,merge:[]},{idx:32,type:5,stage:1,merge:[]}],harvest:[],trophy:[0,2],bonusBar:{bar:44.6,award:0}},{land:[{idx:0,type:0,stage:4,merge:[]},{idx:1,type:0,stage:4,merge:[]},{idx:2,type:1,stage:4,merge:[]},{idx:3,type:5,stage:4,merge:[]},{idx:4,type:0,stage:4,merge:[]},{idx:5,type:0,stage:4,merge:[]},{idx:6,type:1,stage:4,merge:[]},{idx:7,type:1,stage:4,merge:[]},{idx:8,type:0,stage:4,merge:[]},{idx:9,type:0,stage:4,merge:[]},{idx:10,type:3,stage:1,merge:[]},{idx:11,type:3,stage:1,merge:[]},{idx:12,type:1,stage:3,merge:[]},{idx:13,type:1,stage:3,merge:[]},{idx:14,type:1,stage:3,merge:[]},{idx:15,type:3,stage:2,merge:[]},{idx:16,type:8,stage:4,merge:[]},{idx:17,type:3,stage:1,merge:[]},{idx:18,type:3,stage:1,merge:[]},{idx:19,type:3,stage:1,merge:[]},{idx:20,type:3,stage:1,merge:[]},{idx:21,type:7,stage:2,merge:[]},{idx:22,type:7,stage:2,merge:[]},{idx:23,type:7,stage:2,merge:[]},{idx:24,type:7,stage:2,merge:[]},{idx:25,type:7,stage:2,merge:[]},{idx:26,type:7,stage:2,merge:[]},{idx:27,type:1,stage:1,merge:[]},{idx:28,type:1,stage:1,merge:[]},{idx:29,type:1,stage:1,merge:[]},{idx:30,type:5,stage:2,merge:[]},{idx:31,type:5,stage:2,merge:[]},{idx:32,type:5,stage:2,merge:[]}],harvest:[{idx:2,type:1,merge:[],bonus:.03,addBar:.5},{idx:3,type:5,merge:[],bonus:.15,addBar:.2},{idx:6,type:1,merge:[],bonus:.03,addBar:.5},{idx:7,type:1,merge:[],bonus:.03,addBar:.5}],trophy:[0,2],bonusBar:{bar:46.3,award:0},seed:[2,2,2,2,2]}],balance:10484.8}}],a=[{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:0}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:3,bonusInfo:{totalCount:5,nowCount:2,id:"Joe",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:0}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:3,bonusInfo:{totalCount:5,nowCount:3,id:"Joe",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:0}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:3,bonusInfo:{totalCount:5,nowCount:4,id:"Joe",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:0}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:3,bonusInfo:{totalCount:5,nowCount:5,id:"Joe",land:[{idx:0,type:2,stage:4,merge:[]},{idx:1,type:8,stage:4,merge:[]},{idx:2,type:5,stage:4,merge:[]},{idx:3,type:7,stage:4,merge:[]},{idx:4,type:6,stage:4,merge:[]},{idx:5,type:4,stage:3,merge:[]},{idx:6,type:8,stage:1,merge:[]},{idx:7,type:4,stage:3,merge:[]},{idx:8,type:6,stage:3,merge:[]},{idx:9,type:6,stage:1,merge:[]},{idx:10,type:4,stage:1,merge:[]},{idx:11,type:6,stage:3,merge:[]}],harvest:[{idx:0,type:2,merge:[],bonus:7.5},{idx:1,type:8,merge:[],bonus:2.5},{idx:3,type:7,merge:[],bonus:2.5},{idx:4,type:6,merge:[],bonus:5}],time:10}}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:0}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!0,idx:3}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:3}},{protocol:"BonusBet",data:{success:!0,award:10,isClear:!1,idx:1}},{protocol:"BonusBet",data:{success:!1,award:10,isClear:!1,idx:0}}],c={protocol:"FreeInfo",data:{ok:!0}},u={protocol:"BonusAction",data:{ok:!0}},p=cc._decorator,l=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ngIdx=0,e.fgIdx=0,e.bgIdx=0,e.timeout=null,e}return __extends(e,t),e.prototype.init=function(){this.emit(i.WSEvent.onmessage,JSON.stringify(n))},e.prototype.ng=function(){this.emit(i.WSEvent.onmessage,JSON.stringify(r[this.ngIdx])),this.ngIdx++,this.ngIdx=this.ngIdx>=r.length?0:this.ngIdx},e.prototype.fg=function(){this.emit(i.WSEvent.onmessage,JSON.stringify(s[this.fgIdx])),this.fgIdx++,this.fgIdx=this.fgIdx>=s.length?0:this.fgIdx},e.prototype.bg=function(){(this.bgIdx%3==2||this.bgIdx>=a.length-1)&&clearTimeout(this.timeout),this.emit(i.WSEvent.onmessage,JSON.stringify(a[this.bgIdx])),this.bgIdx++,this.bgIdx=this.bgIdx>=a.length?0:this.bgIdx},e.prototype.freeInfo=function(){this.emit(i.WSEvent.onmessage,JSON.stringify(c))},e.prototype.bonusAction=function(){var t=this;this.emit(i.WSEvent.onmessage,JSON.stringify(u)),this.timeout=setTimeout(function(){return t.autoBg()},1e4)},e.prototype.autoBg=function(){for(var t=[],e=this.bgIdx%3;e<3;e++)if(t.push(a[this.bgIdx].data),this.bgIdx++,this.bgIdx>=a.length){this.bgIdx=0;break}var o={protocol:"AutoBonusBet",data:{isOver:!1,result:t}};this.emit(i.WSEvent.onmessage,JSON.stringify(o))},e=__decorate([l],e)}(cc.EventTarget));o.Debug=d,cc._RF.pop()},{"./ws":"ws"}],"dispatch.event.name":[function(t,e,o){"use strict";cc._RF.push(e,"13795wWg91DRoGj8Vx1YMQx","dispatch.event.name"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t.doorDown="doorDown",t.doorOpen="doorOpen",t.info="info",t.cropTouch="cropTouch",t.harvestBox="harvestBox",t.marquee="marquee"}(o.dispatchEventName||(o.dispatchEventName={})),cc._RF.pop()},{}],eventListen:[function(t,e,o){"use strict";cc._RF.push(e,"990f27so7xJu6hFpZfLcSpa","eventListen"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.subscribe=function(t){var e=this;this[t]=function(){return e.node.emit(t)}},e=__decorate([n],e)}(cc.Component));o.EventListener=r,cc._RF.pop()},{}],fakeData:[function(t,e,o){"use strict";cc._RF.push(e,"28952HtFsVHh6z1qmHtZF6q","fakeData"),Object.defineProperty(o,"__esModule",{value:!0}),o.fake=[[5,1,0,4,3,6,4,10,7,8,6,11,0,6,7],[6,1,7,5,6,2,8,1,7,7,6,2,6,4,8],[4,6,3,6,3,8,5,8,7,8,11,6,7,8,6],[0,8,7,6,5,4,5,6,8,7,6,8,8,5,6],[1,7,8,10,3,6,7,1,4,5,7,3,5,4,6],[10,7,8,8,0,5,2,5,3,3,8,5,4,7,6],[8,3,7,4,5,6,1,7,0,2,4,6,7,5,1],[3,8,5,8,3,4,5,6,10,7,8,3,5,6,11],[0,4,8,6,4,1,3,8,5,7,3,8,8,6,2],[6,10,7,4,6,3,1,7,0,1,8,6,8,5,4],[0,4,8,5,8,10,5,3,4,3,4,9,8,7,5],[0,8,7,4,5,6,8,5,7,1,5,3,6,4,5],[1,8,7,6,7,1,6,5,8,4,5,0,6,11,8],[5,8,3,8,3,5,1,5,6,5,7,6,2,7,5],[5,3,1,2,8,3,6,2,5,4,11,1,8,11,5],[0,6,8,4,2,8,5,7,6,5,6,1,2,7,5],[3,8,5,0,1,9,0,1,4,8,3,6,7,11,8],[4,8,7,8,2,3,2,5,10,6,8,3,4,7,5],[4,8,3,7,5,10,6,10,1,7,3,8,4,5,7],[8,10,5,4,6,3,4,5,6,8,2,4,7,8,6],[3,1,8,6,2,8,7,3,6,6,1,5,6,7,5],[7,5,8,2,5,0,7,3,2,2,5,7,2,7,5],[5,4,1,0,6,4,5,7,3,0,8,7,3,6,7],[0,3,4,7,3,4,6,8,1,1,6,3,4,2,8],[5,10,7,6,7,3,10,1,5,7,8,3,8,6,2],[4,0,7,2,8,4,2,8,5,6,1,5,7,11,8],[7,5,0,1,4,6,2,5,10,9,7,8,6,5,4],[7,5,8,10,8,2,6,2,5,3,7,8,8,6,2],[2,3,5,3,6,8,4,6,5,6,11,5,7,3,6],[2,1,7,5,0,6,6,8,1,11,8,6,8,6,7],[1,8,7,5,6,2,3,5,2,0,7,4,8,5,4],[3,5,4,7,8,3,6,3,7,8,3,4,5,7,1],[8,5,4,10,6,5,10,3,7,5,0,8,3,6,7],[6,0,8,4,8,5,6,4,11,6,7,8,7,6,4],[6,5,8,8,3,0,7,6,2,4,7,6,8,7,3],[8,7,6,3,5,8,5,7,11,7,3,8,8,4,6],[2,5,7,4,5,6,2,8,7,7,6,2,8,6,7],[7,8,5,5,6,2,7,3,6,4,7,6,6,4,8],[0,7,8,8,1,2,7,2,5,7,8,3,4,6,7],[8,7,0,10,8,4,5,7,3,4,7,0,6,4,7],[1,7,0,6,2,8,8,4,6,7,4,8,7,5,11],[7,0,6,8,4,3,0,1,4,1,7,8,2,8,5],[7,4,8,3,8,10,1,2,6,8,11,6,8,6,7],[5,8,3,3,5,8,6,10,1,6,3,7,5,2,11],[5,8,3,8,5,6,10,7,6,4,7,6,7,6,4],[4,8,10,2,6,5,6,5,7,8,7,1,7,5,6],[8,7,4,10,6,5,6,5,11,6,3,7,4,7,6],[7,0,6,8,10,6,5,7,11,8,6,5,6,4,8],[1,8,5,10,8,2,2,5,6,4,9,7,6,7,5],[7,4,8,7,5,10,4,6,11,4,8,2,5,4,8]],cc._RF.pop()},{}],farm:[function(t,e,o){"use strict";cc._RF.push(e,"25215vBPrZGHaVgduMYS+EI","farm"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Prefabs/Crop/crop"),n=t("../../Script/lib/function"),r=t("../../Script/lib/dispatch.event.name"),s=t("../../Script/loading"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.houseSprite=[],e.house=null,e.up=null,e.filed=null,e.cropPrefab=null,e.energyBar=null,e.energyFx=null,e.energyPlusFx=null,e.harvestTop=null,e.harvestBot=null,e.harvestBox=[],e.trophy=[],e.harvestSprites=[],e.crops=[],e.cropScripts=[],e.harvestBoxGroup=[],e.count=0,e.isFull=!1,e._trophy=[],e.symbolText=null,e.prevBar=0,e.houseLevel=0,e}return __extends(e,t),e.prototype.init=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,n,a,c,u,p,l,d,h,g=this;return __generator(this,function(m){switch(m.label){case 0:for(o=t.saveData,n=t.steal,a=o.trophy,c=o.land,u=o.bonusBar,d=0,h=48;d<h;d++)p=cc.instantiate(this.cropPrefab),l=p.getComponent(i.default),this.filed.addChild(p),this.crops.push(p),this.cropScripts.push(l),l.init(d);for(d=0,h=this.harvestBox.length;d<h;d++)this.harvestBox[d].getComponent(cc.Sprite).spriteFrame=null;return this.symbolText=s.FontAsset.text.symbol,this.harvestTop.node.zIndex=0,this.harvestBot.node.zIndex=1,this.harvestBoxGroup=[this.harvestBot.node,this.harvestTop.node],this.node.on(r.dispatchEventName.harvestBox,function(t){return g.setHarvestBox(t.detail)}),this.harvestSprites=e,this.updateBar(u),this.randomBox(u),this.trophyFall(a,!0),[4,this.updataLand(c,!0)];case 1:return m.sent(),this.steal(n),[2]}})})},e.prototype.randomBox=function(t){if(0!==t.bar)for(var e=0,o=n.random(1,5);e<o;e++)this.setHarvestBox(n.random(0,8))},e.prototype.steal=function(t){if(!n.isEmpty(t))for(var e=0,o=t.length;e<o;e++){var i=t[e],r=i.idx,s=i.merge;n.isEmpty(s)||(r=n.calMergeIdx(s)),this.cropScripts[r].kill()}},e.prototype.activeTrophy=function(t){for(var e=0,o=this.trophy.length;e<o;e++)this.trophy[e].active=t;this.house.getComponent(cc.Sprite).spriteFrame=t?this.houseSprite[this.houseLevel]:this.houseSprite[0]},e.prototype.trophyFall=function(t,e){return void 0===e&&(e=!1),__awaiter(this,void 0,void 0,function(){var o,i,s;return __generator(this,function(a){switch(a.label){case 0:if(n.isEmpty(t))return[2];0===this.houseLevel&&9===t.length&&(e?this.house.getComponent(cc.Sprite).spriteFrame=this.houseSprite[1]:this.up.play(),this.houseLevel=1),o=0,i=t.length,a.label=1;case 1:return o<i?(s=t[o],-1!==this._trophy.indexOf(s)?[3,3]:(e||n.dispatch(this.node,r.dispatchEventName.marquee,{type:"3",key:"trophy",args:[this.symbolText[s]]}),this._trophy.push(s),this.trophy[s].runAction(cc.sequence(cc.moveBy(.3,cc.v2(0,-195)),cc.moveBy(.1,cc.v2(0,5)).easing(cc.easeBounceOut()))),[4,n.timeout(.1)])):[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.clearBox=function(){this.count=0,this.isFull=!1,this.harvestTop.node.zIndex=0,this.harvestBot.node.zIndex=1,this.harvestTop.node.getComponent(cc.Animation).play("cropToTop"),this.harvestBot.node.getComponent(cc.Animation).play("cropToBot");for(var t=0,e=this.harvestBoxGroup.length;t<e;t++)for(var o=this.harvestBoxGroup[t],i=0,n=o.childrenCount;i<n;i++)o.children[i].getComponent(cc.Sprite).spriteFrame=null},e.prototype.setHarvestBox=function(t){var e=this.harvestBox.length;if(this.harvestBox[this.count].getComponent(cc.Sprite).spriteFrame=this.harvestSprites[t],this.count++,this.count=this.count===e?0:this.count,this.count%3==0){if(!this.isFull)return void(this.isFull=!0);var o,i=Math.floor(this.count/3);o=this.harvestTop.node.zIndex,this.harvestTop.node.zIndex=this.harvestBot.node.zIndex,this.harvestBot.node.zIndex=o;for(var n=function(t,e){var o=r.harvestBoxGroup[t],n=o.getComponent(cc.Animation);t===i?(n.play("cropFade"),n.once("finished",function(){for(var t=0,e=o.childrenCount;t<e;t++)o.children[t].getComponent(cc.Sprite).spriteFrame=null;n.play("cropToTop")})):n.play("cropToBot")},r=this,s=0,a=this.harvestBoxGroup.length;s<a;s++)n(s)}},e.prototype.updateBar=function(t){var e=this;return new Promise(function(o,i){return __awaiter(e,void 0,void 0,function(){var e,i;return __generator(this,function(s){return n.isEmpty(t)?(o(),[2]):(100===(e=t.bar)?n.dispatch(this.node,r.dispatchEventName.marquee,{type:"1",key:"bar100",args:[]}):e>=90&&this.prevBar<90?n.dispatch(this.node,r.dispatchEventName.marquee,{type:"1",key:"bar90",args:[]}):e>=50&&this.prevBar<50&&n.dispatch(this.node,r.dispatchEventName.marquee,{type:"1",key:"bar50",args:[]}),i=1-e/100,this.energyBar.width=516*i,this.prevBar=e,o(),[2])})})})},e.prototype.updataLand=function(t,e){var o=this;return new Promise(function(i,n){return __awaiter(o,void 0,void 0,function(){var o,n,r,s,a;return __generator(this,function(c){switch(c.label){case 0:for(o=[],n=function(i,n){var s=t.findIndex(function(t){return t.idx===i});if(s<0)r.cropScripts[i].kill();else{var a=t[s];s=a.idx;var c=a.merge;Array.isArray(c)&&c.length>0?o.push(r.merge(c,s,a,e)):o.push(r.cropScripts[s].updateCrop(s,a.type,a.stage,!1))}},r=this,s=0,a=this.cropScripts.length;s<a;s++)n(s,a);return[4,Promise.all(o)];case 1:return c.sent(),i(),[2]}})})})},e.prototype.merge=function(t,e,o,i){return __awaiter(this,void 0,void 0,function(){var s=this;return __generator(this,function(a){return[2,new Promise(function(a,c){return __awaiter(s,void 0,void 0,function(){var s,c,u,p,l,d;return __generator(this,function(h){switch(h.label){case 0:if(s=n.calMergeIdx(t),c=this.cropScripts[s].isMerge,i||c)return[3,2];for(n.dispatch(this.node,r.dispatchEventName.marquee,{type:"3",key:"seed",args:[this.symbolText[o.type]]}),u=[],p=0,l=t.length;p<l;p++)d=t[p],u.push(this.cropScripts[d].mergeEffect(s));return[4,Promise.all(u)];case 1:h.sent(),h.label=2;case 2:return[4,this.cropScripts[s].updateCrop(e,o.type,o.stage,!0)];case 3:return h.sent(),a(),[2]}})})})]})})},e.prototype.energyEffect=function(t){t?(this.energyFx.play().wrapMode=cc.WrapMode.Loop,this.energyPlusFx.play().wrapMode=cc.WrapMode.Loop):(this.energyFx.play().wrapMode=cc.WrapMode.Normal,this.energyPlusFx.play().wrapMode=cc.WrapMode.Normal)},e.prototype.harvest=function(t){var e=this;return new Promise(function(o,i){return __awaiter(e,void 0,void 0,function(){var e,i,s,a,c,u;return __generator(this,function(p){switch(p.label){case 0:if(n.isEmpty(t))return o(),[2];e=[],this.energyEffect(!0),i=0,s=t.length,p.label=1;case 1:return i<s?(a=t[i],c=a.merge,u=a.idx,n.isEmpty(c)||(u=n.calMergeIdx(c),n.dispatch(this.node,r.dispatchEventName.marquee,{type:"3",key:"harvest",args:[]})),e.push(this.cropScripts[u].harvest()),[4,n.timeout(.1)]):[3,4];case 2:p.sent(),p.label=3;case 3:return i++,[3,1];case 4:return[4,Promise.all(e)];case 5:return p.sent(),this.energyEffect(!1),o(),[2]}})})})},e.prototype.killCrop=function(t){return this.cropScripts[t].kill()},e.prototype.onTouchEvent=function(t){for(var e=0,o=t.length;e<o;e++){var i=t[e],r=i.merge,s=n.isEmpty(r)?i.idx:n.calMergeIdx(r);this.cropScripts[s].setTouchEvent(!0)}},e.prototype.offTouchEvent=function(t){if(n.isEmpty(t))for(var e=0,o=this.cropScripts.length;e<o;e++)this.cropScripts[e].setTouchEvent(!1);else this.cropScripts[t].setTouchEvent(!1)},e.prototype.pauseTouch=function(t){for(var e=0,o=this.cropScripts.length;e<o;e++)this.cropScripts[e].pauseTouch=t},e.prototype.typhoon=function(t){for(var e=0,o=t.length;e<o;e++){var i=t[e];this.waitFly(i)}},e.prototype.waitFly=function(t){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return e=.05*Math.floor(t/4),[4,n.timeout(e)];case 1:return o.sent(),this.cropScripts[t].flyOut(),[2]}})})},__decorate([u([cc.SpriteFrame])],e.prototype,"houseSprite",void 0),__decorate([u(cc.Node)],e.prototype,"house",void 0),__decorate([u(cc.Animation)],e.prototype,"up",void 0),__decorate([u(cc.Node)],e.prototype,"filed",void 0),__decorate([u(cc.Prefab)],e.prototype,"cropPrefab",void 0),__decorate([u(cc.Node)],e.prototype,"energyBar",void 0),__decorate([u(cc.Animation)],e.prototype,"energyFx",void 0),__decorate([u(cc.Animation)],e.prototype,"energyPlusFx",void 0),__decorate([u(cc.Animation)],e.prototype,"harvestTop",void 0),__decorate([u(cc.Animation)],e.prototype,"harvestBot",void 0),__decorate([u({type:[cc.Node]})],e.prototype,"harvestBox",void 0),__decorate([u({type:[cc.Node]})],e.prototype,"trophy",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Prefabs/Crop/crop":"crop","../../Script/lib/dispatch.event.name":"dispatch.event.name","../../Script/lib/function":"function","../../Script/loading":"loading"}],function:[function(t,e,o){"use strict";cc._RF.push(e,"8770cqbVXBFkJtcM0X7xIcN","function"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../config"),n=2;function r(t,e){return Math.floor(Math.random()*(e-t+1))+t}function s(t){return null===t||void 0===t||""===t||(Array.isArray(t)?0===t.length:"object"==typeof t&&0===Object.keys(t).length)}o.random=r,o.strip=function(t){var e=Math.pow(10,n);return(t=Math.round(t*e)/e).toFixed(n)},o.mul=function(t,e){return Number((t*e).toFixed(5))},o.stopWithFirst=function(t){t.setCurrentTime(0),t.stop()},o.aniFinish=function(t){return new Promise(function(e,o){t.once("finished",function(){return e()})})},o.timeout=function(t){return new Promise(function(e,o){setTimeout(function(){return e()},1e3*t)})},o.transMoney=function(t){return[Math.floor(t/1e4),Math.floor(t%1e4/100),t%1e4%100]},o.transAbility=function(t){var e=t%100/100,o=Math.floor(t/100);return e=o>98?.99:e,[o=o>98?99:o+1,e]},o.isEmpty=s,o.messageArgs=function(t,e){if(!s(e))for(var o=0,i=e.length;o<i;o++)t=t.replace("{"+o+"}",e[o]);return t},o.dispatch=function(t,e,o){var i=new cc.Event.EventCustom(e,!0);i.detail=o,t.dispatchEvent(i)},o.GetStealName=function(){if(i.urlConfig.demo)return"Guest-"+r(1,1e3);for(var t="",e=4;e-- >0;){var o=0;switch(r(0,2)){case 0:o=r(65,90);break;case 1:o=r(48,57);break;case 2:o=r(97,122)}t+=String.fromCharCode(o)}return t="*****"+t},o.calMergeIdx=function(t){var e=0;return t.map(function(t){return e+=t}),Math.floor((e-10)/4)},cc._RF.pop()},{"../config":"config"}],game_master:[function(t,e,o){"use strict";cc._RF.push(e,"3d17etXvWZDeYB9Pzt0lS7L","game_master"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./model"),n=t("../Components/Modal/modal"),r=t("./loading"),s=t("../Components/Touch/touch"),a=t("./config"),c=t("./lib/AudioBox"),u=cc._decorator,p=u.ccclass,l=u.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.demo=null,e.modalPrefab=null,e.touchPrefab=null,e.loading=null,e.model=null,e.modal=null,e.touch=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;r.FontAsset.load(a.urlConfig.lang,function(){cc.game.pause=function(){return cc.game.setFrameRate(59)},cc.game.resume=function(){return cc.game.setFrameRate(60)},cc.game.addPersistRootNode(t.node),t.modal=cc.instantiate(t.modalPrefab).getComponent(n.default),t.touch=cc.instantiate(t.touchPrefab).getComponent(s.default),t.model=t.node.getComponent(i.default),t.loading=t.node.getComponent(r.default),t.modal.init(),t.model.node.once(i.modelEvent.totalBet,function(){return t.login()}),t.model.init(),t.loading.init(),t.node.addChild(t.modal.node),t.node.addChild(t.touch.node),t.demo.active=a.urlConfig.demo})},e.prototype.login=function(){var t=this;this.modal.normalModal(r.FontAsset.text.musicMsg,function(){return t.musicCheck(!0)},function(){return t.musicCheck(!1)})},e.prototype.musicCheck=function(t){c.AudioBox.music_switch=t,c.AudioBox.sound_switch=t,this.node.emit("ok"),this.loading.loading(r.scene.main)},__decorate([l(cc.Node)],e.prototype,"demo",void 0),__decorate([l({type:cc.Prefab})],e.prototype,"modalPrefab",void 0),__decorate([l({type:cc.Prefab})],e.prototype,"touchPrefab",void 0),e=__decorate([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Components/Modal/modal":"modal","../Components/Touch/touch":"touch","./config":"config","./lib/AudioBox":"AudioBox","./loading":"loading","./model":"model"}],harverst:[function(t,e,o){"use strict";cc._RF.push(e,"2a64dmPVvlE9pGPLrcm3rWy","harverst"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/lib/function"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bg=null,e.point=null,e.box=null,e.scaleAnimate=null,e.win=null,e.star1=null,e.star2=null,e.harvestSprites=[],e.winNode=null,e.winAnimate=null,e.touchEvent=cc.Node.EventType.TOUCH_START,e.star1State=null,e.star2State=null,e.endX=[],e.endY=[],e.stopDrop=!1,e.isOverload=!1,e}return __extends(e,t),e.prototype.init=function(t){this.harvestSprites=t,this.winNode=this.win.node,this.winAnimate=this.winNode.getComponent(cc.Animation),this.node.active=!1,this.winNode.opacity=0,this.win.string="0",this.bg.on(this.touchEvent,function(){}),this.star1State=this.star1.getAnimationState("bg_ani"),this.star2State=this.star2.getAnimationState("bg_ani2");for(var e=0,o=this.box.childrenCount;e<o;e++){var i=this.box.children[e];this.endX.push(i.x),this.endY.push(i.y)}},e.prototype.showWin=function(t){var e=this;return new Promise(function(o,n){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return this.initBox(),this.node.active=!0,this.scaleAnimate.play("Harvest_in"),[4,i.aniFinish(this.scaleAnimate)];case 1:return e.sent(),this.winNode.opacity=0,this.win.string="0",this.winAnimate.play("Harvest_money_in"),[4,i.aniFinish(this.winAnimate)];case 2:return e.sent(),this.packing(t,o),[2]}})})})},e.prototype.initBox=function(){for(var t=this.box.childrenCount-1;t>=0;t--){var e=this.box.children[t],o=t%2==0;e.x=o?-565:565,e.y=500,e.getComponent(cc.Sprite).spriteFrame=null}},e.prototype.packing=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,n,r,s,a,c,u,p,l,d;return __generator(this,function(h){switch(h.label){case 0:o=this.box.childrenCount,n=o-1,h.label=1;case 1:return n>=2?this.stopDrop?(this.packRest(n),[2]):(s=this.box.children[n],a=n%2==0?-565:565,c=this.endX[n],u=this.endY[n],p=a+(c-a)/2,l=500+(u-500)/2,d=[cc.p(a,500),cc.p(p,l),cc.p(c,u)],this.drop(s,d,n===o-1,t,e),[4,i.timeout(.3)]):[3,4];case 2:h.sent(),h.label=3;case 3:return n--,[3,1];case 4:0,n=1,r=0,h.label=5;case 5:return n>=r?this.stopDrop?[2]:(s=this.box.children[n],a=n%2==0?-565:565,s.x=565,s.y=500,c=this.endX[n],u=this.endY[n],p=a+(c+a)/2,l=500+(u+500)/2,d=[cc.p(a,500),cc.p(p,l),cc.p(c,u)],this.fullDrop(s,d),[4,i.timeout(.3)]):[3,8];case 6:h.sent(),h.label=7;case 7:return n--,[3,5];case 8:return[3,4];case 9:return[2]}})})},e.prototype.packRest=function(t){for(var e=t+1;e>=2;e--){var o=this.box.children[e];e!==t+1&&(o.getComponent(cc.Sprite).spriteFrame=this.harvestSprites[i.random(0,8)]),o.stopAllActions(),o.x=this.endX[e],o.y=this.endY[e]}this.scaleAnimate.play("Harvest_add")},e.prototype.drop=function(t,e,o,n,r){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(s){switch(s.label){case 0:return t.getComponent(cc.Sprite).spriteFrame=this.harvestSprites[i.random(0,8)],t.runAction(cc.bezierTo(.5,e)),[4,i.timeout(.5)];case 1:return s.sent(),this.scaleAnimate.play("Harvest_add"),o&&(this.pointRotate(),this.countWin(n,r)),[2]}})})},e.prototype.fullDrop=function(t,e){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return t.opacity=255,t.getComponent(cc.Sprite).spriteFrame=this.harvestSprites[i.random(0,8)],t.runAction(cc.spawn(cc.bezierTo(.5,e),cc.fadeOut(1))),[4,i.timeout(.5)];case 1:return o.sent(),this.scaleAnimate.play("Harvest_add"),[2]}})})},e.prototype.countWin=function(t,e){var o=this,n=this.win,r=0,s=10,a=setInterval(function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(e){return n.string=""+i.strip(r),(r+=.07)>=t?(this.node.emit(this.touchEvent),[2]):(r>s&&(this.winAnimate.play("Harvest_plus"),s+=10),[2])})})});this.node.once(this.touchEvent,function(){return __awaiter(o,void 0,void 0,function(){return __generator(this,function(o){switch(o.label){case 0:return this.isOverload||this.point.stopAllActions(),this.stopDrop=!0,clearInterval(a),n.string=""+i.strip(t),this.winAnimate.play("Harvest_money_out"),[4,i.aniFinish(this.winAnimate)];case 1:return o.sent(),this.reset(),e(),[2]}})})})},e.prototype.pointRotate=function(){var t=this;this.star1State.speed=1,this.star2State.speed=1,this.point.runAction(cc.sequence(cc.rotateBy(3,360),cc.callFunc(function(){t.isOverload=!0,t.star1State.speed=2,t.star2State.speed=2,t.point.runAction(cc.repeatForever(cc.rotateBy(.2,360)))})))},e.prototype.reset=function(){this.node.active=!1,this.isOverload=!1,this.stopDrop=!1,this.point.stopAllActions()},__decorate([s(cc.Node)],e.prototype,"bg",void 0),__decorate([s(cc.Node)],e.prototype,"point",void 0),__decorate([s(cc.Node)],e.prototype,"box",void 0),__decorate([s(cc.Animation)],e.prototype,"scaleAnimate",void 0),__decorate([s(cc.Label)],e.prototype,"win",void 0),__decorate([s(cc.Animation)],e.prototype,"star1",void 0),__decorate([s(cc.Animation)],e.prototype,"star2",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../../Script/lib/function":"function"}],info:[function(t,e,o){"use strict";cc._RF.push(e,"d480dvaGjRHsZM1dgDeu/5X","info"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.infoNode=null,e.closeNode=null,e.payoutLabels=[],e.wintable=null,e.canShow=!0,e}return __extends(e,t),e.prototype.init=function(t){var e=this;this.infoNode.active=!1,this.wintable=t,this.closeNode.on(cc.Node.EventType.TOUCH_START,function(){return e.close()},this)},e.prototype.show=function(t){if(this.canShow)if(this.infoNode.x!==t.x||this.infoNode.y!==t.y||!0!==this.infoNode.active){this.infoNode.active=!0,this.infoNode.x=t.x,this.infoNode.y=t.y;for(var e=this.wintable[t.idx],o=0,i=e.length;o<i;o++)0!==e[o]?(this.payoutLabels[o].node.parent.active=!0,this.payoutLabels[o].string=""+e[o]):this.payoutLabels[o].node.parent.active=!1}else this.close()},e.prototype.close=function(){this.infoNode.active=!1},__decorate([r({type:cc.Node})],e.prototype,"infoNode",void 0),__decorate([r({type:cc.Node})],e.prototype,"closeNode",void 0),__decorate([r({type:[cc.Label]})],e.prototype,"payoutLabels",void 0),e=__decorate([n],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],lines:[function(t,e,o){"use strict";cc._RF.push(e,"4f450UmOMxEN40dMRKqZg6Q","lines"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.linePrefab=null,e.lineContainer=null,e.scale=.1,e.xPos=[],e.yPos=[],e.lineNodes=[],e.linePos=[[1,4,7,10,13],[2,5,8,11,14],[0,3,6,9,12],[2,4,6,10,14],[0,4,8,10,12],[1,5,8,11,13],[1,3,6,9,13],[2,4,7,10,14],[0,4,7,10,12],[1,5,7,9,13],[1,3,7,11,13],[2,4,8,10,14],[0,4,6,10,12],[1,5,7,11,13],[1,3,7,9,13],[2,5,7,9,12],[0,3,7,11,14],[2,5,8,10,12],[0,3,6,10,14],[1,4,8,10,13]],e.lineDiff=[0,0,0,1,1,1,-1,-1,-1,2,-2,-2,2,3,-3,2,-2,3,3,4],e}return __extends(e,t),e.prototype.init=function(t,e){this.xPos=t,this.yPos=e,this.draw()},e.prototype.showLines=function(t){this.hideLines();for(var e=0,o=t;e<o.length;e++){var i=o[e];this.lineNodes[i].active=!0}},e.prototype.hideLines=function(){for(var t=0,e=this.lineNodes;t<e.length;t++){e[t].active=!1}},e.prototype.draw=function(){for(var t=0,e=this.linePos.length;t<e;t++){var o=this.linePos[t],i=!0,n=void 0,r=5*this.lineDiff[t],s=new cc.Node;s.active=!1;for(var a=0,c=o;a<c.length;a++){var u=c[a],p=this.xPos[Math.floor(u/3)],l=this.yPos[u%3]+r;if(i)i=!1,n=new cc.Vec2(p,l);else{var d=this.insulte_node(this.linePrefab,[p,l],n);n=new cc.Vec2(p,l),s.addChild(d)}}this.lineContainer.addChild(s),this.lineNodes.push(s)}},e.prototype.insulte_node=function(t,e,o){var i=cc.instantiate(t);i.setPosition((e[0]-o.x)/2+o.x,(e[1]-o.y)/2+o.y),i.setSiblingIndex(0);var n=Math.sqrt((e[0]-o.x)*(e[0]-o.x)+(e[1]-o.y)*(e[1]-o.y))/i.width;return i.scaleX=n+this.scale,i.rotation=this.getAngleDeg(e[0],o.y,o.x,e[1]),i},e.prototype.getAngleDeg=function(t,e,o,i){return 180*Math.atan((e-i)/(t-o))/Math.PI},__decorate([r({type:cc.Prefab})],e.prototype,"linePrefab",void 0),__decorate([r({type:cc.Node})],e.prototype,"lineContainer",void 0),__decorate([r({})],e.prototype,"scale",void 0),e=__decorate([n],e)}(cc.Component);o.Lines=s,cc._RF.pop()},{}],loading:[function(t,e,o){"use strict";cc._RF.push(e,"6d4ba5sEtdIe7/ElCl7PZaR","loading"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e.transLoading=null,e}return __extends(e,t),e.prototype.init=function(){var t=this;cc.loader.onProgress=function(e,o,i){t.progressBar&&(t.progressBar.progress=1-e/o)},this.progressBar.node.active=!0,this.transLoading.active=!1,this.progressBar.progress=1,this.preLoading(i.main)},e.prototype.reloadMain=function(){var t=this;this.transLoading.active=!0,cc.director.loadScene(i.main,function(){return t.closeLoading()})},e.prototype.showTransLoading=function(){this.transLoading.active=!0},e.prototype.preLoading=function(t){cc.director.preloadScene(t)},e.prototype.loading=function(t){var e=this;cc.director.getScene().name!==t?cc.director.loadScene(t,function(){return e.closeLoading()}):this.closeLoading()},e.prototype.closeLoading=function(){this.transLoading.active=!1,this.progressBar.node.active=!1},__decorate([s({type:cc.ProgressBar})],e.prototype,"progressBar",void 0),__decorate([s({type:cc.Node})],e.prototype,"transLoading",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,function(t){t.loading="loading",t.main="main",t.bonus="bonus",t.archery="archery"}(i=o.scene||(o.scene={}));var c=["totalBet","win","credit","maxBet"],u={"zh-tw":25,"zh-cn":25,en:30,jp:20},p=function(){function t(){}return t.load=function(e,o){void 0===e&&(e="zh-tw"),t.isAllSet()?o():(this.lang=e,cc.loader.loadResDir(e+"/font",function(e,i){t.font=i,t.isAllSet()&&o()}),cc.loader.loadResDir(e+"/text",function(e,i){t.text=i[0].json,t.isAllSet()&&o()}))},t.isAllSet=function(){return!!t.font&&!!t.text},t.setFont=function(e){t.font&&(e.font=t.font[0],e.fontSize=u[this.lang])},t.setText=function(e,o){t.text&&(e.string=t.text[o]),-1!==c.indexOf(o)&&t.setFont(e)},t}();o.FontAsset=p,cc._RF.pop()},{}],main:[function(t,e,o){"use strict";cc._RF.push(e,"f204c040r9NEKw3w8xCdUso","main"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./game_master"),n=t("./model"),r=t("../Components/Slot/slot"),s=t("../Components/UI/button"),a=t("../Components/UI/word"),c=t("../Components/Win/win"),u=t("./lib/function"),p=t("./translator"),l=t("../Components/UI/info"),d=t("./lib/AudioBox"),h=t("../Components/Setting/setting"),g=t("../Components/Eyecatch/Eyecatch"),m=t("../Components/Background/background"),y=t("../Components/Bonus/bonus"),f=t("../Components/Background/weather"),v=t("../Components/Harvest/harverst"),_=t("./lib/dispatch.event.name"),b=cc._decorator,x=b.ccclass,w=b.property,S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicNG=null,e.gameMasterPrefab=null,e.harvestSprites=[],e.gameMaster=null,e.model=null,e.slot=null,e.word=null,e.button=null,e.win=null,e.info=null,e.setting=null,e.eyecatch=null,e.background=null,e.bonus=null,e.harvest=null,e.canSpin=!0,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this,e=cc.find("GameMaster");e?(this.gameMaster=e.getComponent(i.default),this.initAll()):(e=cc.instantiate(this.gameMasterPrefab),this.node.parent.addChild(e),this.gameMaster=e.getComponent(i.default),e.once("ok",function(){return t.initAll()}))},e.prototype.initAll=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o=this;return __generator(this,function(i){return t=this.node.getChildByName("UI"),this.model=this.gameMaster.model,e=this.model.login,this.word=t.getComponent(a.default),this.button=t.getComponent(s.default),this.info=t.getComponent(l.default),this.slot=this.node.getChildByName("Slot").getComponent(r.default),this.win=this.node.getChildByName("Win").getComponent(c.default),this.eyecatch=this.node.getChildByName("Eyecatch").getComponent(g.default),this.setting=this.node.getChildByName("Setting").getComponent(h.default),this.background=this.node.getChildByName("Background").getComponent(m.default),this.bonus=this.node.getChildByName("Bonus").getComponent(y.default),this.harvest=this.node.getChildByName("Harvest").getComponent(v.default),this.node.getComponent(p.default).init(),this.slot.init(),this.buttonInit(),this.modelInit(),this.word.init(e.steal),this.setting.init(this.model),this.background.init(e,this.harvestSprites),this.info.init(e.linePay),this.bonus.init(this.harvestSprites),this.harvest.init(this.harvestSprites),this.node.on(_.dispatchEventName.cropTouch,function(t){return o.cropTouch(t.detail)},this),this.node.on(_.dispatchEventName.info,function(t){return o.info.show(t.detail)}),this.node.on(_.dispatchEventName.marquee,function(t){return o.word.immeMsg(t.detail)},this),this.node.on(_.dispatchEventName.doorDown,function(){return o.bonus.doorAction(!1)},this),this.node.on(_.dispatchEventName.doorOpen,function(){return o.bonus.doorAction(!0)},this),this.button.setTurbo(!0),this.model.autoTimes=this.model.autoTimes,this.background.watering(),d.AudioBox.play_music(this.musicNG,1),[2]})})},e.prototype.modelInit=function(){var t=this,e=this.model.node;e.on(n.modelEvent.roll,function(){return t.slot.roll(t.model.isTurbo)},this),e.on(n.modelEvent.ng,function(e){return t.normalSpin(e.detail)},this),e.on(n.modelEvent.fg,function(e){return t.freeSpin(e.detail)},this),e.on(n.modelEvent.bg,function(e){return t.bonusSpin(e.detail)},this),e.on(n.modelEvent.autoBg,function(e){return t.autoBonus(e.detail)},this),e.on(n.modelEvent.bgReady,function(){return t.bonusReady()},this),e.on(n.modelEvent.balance,function(){return t.word.setText(a.wordEnum.balance,u.strip(t.model.balance))},this),e.on(n.modelEvent.totalBet,function(){return t.word.setText(a.wordEnum.totalBet,u.strip(t.model.totalBet))},this),e.on(n.modelEvent.win,function(){return t.word.setText(a.wordEnum.win,u.strip(t.model.win))},this),e.on(n.modelEvent.resumeBtn,function(){return t.resumeBtn()},this),e.on(n.modelEvent.setAuto,function(e){return t.button.setAutoTimes(e.detail)},this),e.on(n.modelEvent.setLave,function(e){return t.setLave(e.detail)},this),this.model.initMain(),this.model.resumeAuto()},e.prototype.setLave=function(t){this.button.setLave(t)},e.prototype.resumeBtn=function(){this.button.spinBlock(!0),this.button.setAuto(!1),this.button.setBtn(!0,!0),this.info.canShow=!0,this.background.activeBook(!0),this.canSpin=!0},e.prototype.buttonInit=function(){var t=this,e=this.button.node;this.button.init(this.model),e.on(s.buttonEnum.spin,function(){return t.preSpin()},this),e.on(s.buttonEnum.auto,function(){return t.autoSpin()},this),e.on(s.buttonEnum.stop,function(){return t.stop()},this),e.on(s.buttonEnum.betAdd,function(){return t.changeBet(1)},this),e.on(s.buttonEnum.betSub,function(){return t.changeBet(-1)},this),e.on(s.buttonEnum.maxBet,function(){return t.changeBet(0)},this),e.on(s.buttonEnum.info,function(){return t.setting.open()},this)},e.prototype.changeBet=function(t){var e=this.model.login.betList,o=0===t?e.length-1:this.model.bet+t;o<=-1||o>=e.length||(this.model.bet=o,this.word.setText(a.wordEnum.totalBet,u.strip(this.model.totalBet)),this.slot.clearLine())},e.prototype.autoSpin=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return 0===this.model.autoTimes?(this.model.resumeAuto(),this.resumeBtn(),[2]):(this.button.setAuto(!0),this.button.setBtn(!1,!1),[4,u.timeout(.2)]);case 1:return t.sent(),this.model.autoTimes--,this.preSpin(),[2]}})})},e.prototype.preSpin=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.canSpin?(this.info.close(),this.info.canShow=!1,this.model.win=0,this.canSpin=!1,this.button.setBtn(!1,!1),this.button.spinBlock(!1),this.model.ngSpin(),[2]):[2]})})},e.prototype.cropTouch=function(t){this.model.cropIdx=t,this.background.pauseTouch(!0),this.model.bgSpin(t)},e.prototype.bonusReady=function(){this.bonus.doorAction(!0),this.bonus.countDown(),this.background.pauseTouch(!1)},e.prototype.autoBonus=function(t){return __awaiter(this,void 0,void 0,function(){var e,o,i;return __generator(this,function(n){for(e=t.result,o=0,i=e.length;o<i;o++)this.bonusSpin(e[o],!0);return[2]})})},e.prototype.bonusSpin=function(t,e){return void 0===e&&(e=!1),__awaiter(this,void 0,void 0,function(){var o,i,n,r,s,a,c=this;return __generator(this,function(p){switch(p.label){case 0:return o=t.bonusInfo,i=t.success,n=t.isClear,(r=!u.isEmpty(o))||!i||n?(this.background.closeTouchable(),this.bonus.stopCountDown()):e||this.background.pauseTouch(!1),i?(s=this.background.killCrop(t.idx),[4,this.bonus.packingCrop(s,t.award)]):[3,2];case 1:p.sent(),p.label=2;case 2:return i&&!n?[3,8]:(a=null,n?[4,this.bonus.clear()]:[3,4]);case 3:return a=p.sent(),[3,6];case 4:return[4,this.bonus.fail()];case 5:a=p.sent(),p.label=6;case 6:return this.background.transformNormal(),this.background.activeTrophy(!0),this.background.updateLand(this.model.land),[4,this.bonus.resumeBonus()];case 7:return p.sent(),this.model.balance+=Number(a),this.model.win=Number(a),this.button.blockTouch(!1),this.word.activeMarquee(!0),this.word.immeMsg({type:"1",key:"bgEnd",args:[]}),this.endRound(),d.AudioBox.play_music(this.musicNG,1),[2];case 8:return r?[4,this.setBonusInfo(o,function(){return __awaiter(c,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.bonus.doorAction(!1)];case 1:return t.sent(),[4,this.bonus.nextRound()];case 2:return t.sent(),[2]}})})})]:[3,10];case 9:p.sent(),p.label=10;case 10:return[2]}})})},e.prototype.setBonusInfo=function(t,e){return __awaiter(this,void 0,void 0,function(){var o,i,n,r;return __generator(this,function(s){switch(s.label){case 0:return this.background.pauseTouch(!0),o=t.id,i=t.nowCount,n=t.totalCount,r=t.time,this.bonus.setInfo(o,i,r,n),[4,e()];case 1:return s.sent(),this.background.updateLand(t.land),this.background.setTouchable(t.harvest),this.model.bgCountdown(),[2]}})})},e.prototype.normalSpin=function(t){return __awaiter(this,void 0,void 0,function(){var e,o,i,n,r,s,a,c,p,l,d,h,g,m=this;return __generator(this,function(y){switch(y.label){case 0:return e=t.weather,o=t.freeInfo,i=t.bonusInfo,n=t.typhoonLose,r=t.result,s=t.land,a=t.harvest,c=t.bonusBar,p=!u.isEmpty(o),l=!u.isEmpty(i),d=r.totalWin,this.background.updateLand(s,a,c,t.trophy,e,n),this.background.setBook(t.seed),this.background.activeBook(!1),[4,this.spin(r,d,d,!1)];case 1:return y.sent(),this.model.balance=t.balance,l?(this.button.blockTouch(!0),this.background.updateWeather(f.weatherType.normal),this.word.immeMsg({type:"1",key:"bgStart",args:[]}),[4,this.slot.showSpecialLine(r,"bonus")]):[3,4];case 2:return y.sent(),[4,this.setBonusInfo(i,function(){return __awaiter(m,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return[4,this.eyecatch.bonusTransform()];case 1:return t.sent(),this.background.transformBonus(),this.background.activeTrophy(!1),this.word.activeMarquee(!1),[4,this.bonus.showUp()];case 2:return t.sent(),[2]}})})})];case 3:return y.sent(),[2];case 4:return p?(h=o.baseWin,this.button.blockTouch(!0),this.background.updateWeather(f.weatherType.normal),this.word.immeMsg({type:"1",key:"fgStart",args:[]}),this.model.win=0,[4,this.slot.showSpecialLine(r,"free")]):[3,7];case 5:return y.sent(),[4,this.eyecatch.freeTransform(h,function(){return m.model.win=h})];case 6:return g=y.sent(),this.model.lave=o.choice[g].count,this.button.freeLave(!0),this.background.transformFree(g),this.model.fgInfo(g),this.word.activeMarquee(!1),[2];case 7:return this.endRound(function(){!m.model.isAuto&&r.data.length>0?m.slot.loopSingleLine(r):m.slot.showWaitLoop(r.roll)}),[2]}})})},e.prototype.bonusWin=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return 0===t?[2]:[4,this.eyecatch.harvestTransform()];case 1:return e.sent(),[4,this.harvest.showWin(t)];case 2:return e.sent(),this.model.balance+=Number(t),this.model.win+=Number(t),this.background.clearBonusBar(),[2]}})})},e.prototype.freeSpin=function(t){return __awaiter(this,void 0,void 0,function(){var e,o,i,n;return __generator(this,function(r){switch(r.label){case 0:return e=t.result,o=t.farmResult[0],i=e.nowWin,n=e.totalWin,this.model.lave=e.freeRound,this.background.popFreeTitle(),this.background.updateLand(o.land,o.harvest,o.bonusBar,o.trophy),[4,this.spin(e,i,n,!0)];case 1:return r.sent(),e.isEnd?(o=t.farmResult[1],[4,this.win.showWin(e.totalWin,this.model.totalBet,c.winType.totalOnly)]):[3,4];case 2:return r.sent(),this.model.balance=t.balance,this.background.transformNormal(),this.background.setBook(o.seed),this.button.blockTouch(!1),this.button.freeLave(!1),this.word.activeMarquee(!0),this.word.immeMsg({type:"1",key:"fgEnd",args:[]}),d.AudioBox.play_music(this.musicNG,1),[4,this.background.manuring()];case 3:return r.sent(),this.background.updateLand(o.land,o.harvest,o.bonusBar,o.trophy),this.endRound(),[2];case 4:return this.model.fgSpin(),[2]}})})},e.prototype.spin=function(t,e,o,i){return __awaiter(this,void 0,void 0,function(){var n=this;return __generator(this,function(r){return[2,new Promise(function(r,s){return __awaiter(n,void 0,void 0,function(){var n;return __generator(this,function(s){switch(s.label){case 0:return this.button.setBtn(!1,!0),[4,this.slot.rollData(t.roll,i)];case 1:return s.sent(),this.background.seedPlus(t.data.length||0),i&&i&&0!==e&&this.background.risehand(),this.button.setBtn(!0,!1),n=i?c.winType.winOnly:c.winType.normal,[4,Promise.all([this.win.showWin(e,this.model.totalBet,n),this.slot.showAllLine(t)])];case 2:return s.sent(),this.model.win=o,r(),[2]}})})})]})})},e.prototype.stop=function(){this.button.setBtn(!0,!1),this.slot.stopRoll()},e.prototype.endRound=function(t){return void 0===t&&(t=function(){}),__awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.bonusWin(this.model.bonusAward)];case 1:return e.sent(),this.button.spinBlock(!this.model.isAuto),this.canSpin=!0,t(),this.model.isAuto?this.autoSpin():(this.button.setBtn(!0,!0),this.info.canShow=!0,this.background.activeBook(!0)),[2]}})})},__decorate([w({type:cc.AudioClip})],e.prototype,"musicNG",void 0),__decorate([w({type:cc.Prefab})],e.prototype,"gameMasterPrefab",void 0),__decorate([w({type:[cc.SpriteFrame]})],e.prototype,"harvestSprites",void 0),e=__decorate([x],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../Components/Background/background":"background","../Components/Background/weather":"weather","../Components/Bonus/bonus":"bonus","../Components/Eyecatch/Eyecatch":"Eyecatch","../Components/Harvest/harverst":"harverst","../Components/Setting/setting":"setting","../Components/Slot/slot":"slot","../Components/UI/button":"button","../Components/UI/info":"info","../Components/UI/word":"word","../Components/Win/win":"win","./game_master":"game_master","./lib/AudioBox":"AudioBox","./lib/dispatch.event.name":"dispatch.event.name","./lib/function":"function","./model":"model","./translator":"translator"}],modal:[function(t,e,o){"use strict";cc._RF.push(e,"3b5dfcJiQpMtJggshpZmNku","modal"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/loading"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockTouch=null,e.describe=null,e.yesOnlyBtn=null,e.yesBtn=null,e.noBtn=null,e.yesLabel=null,e.noLabel=null,e.confirmLabel=null,e}return __extends(e,t),e.prototype.init=function(){var t=this;this.node.active=!1,this.blockTouch.on(cc.Node.EventType.TOUCH_START,function(){return t.defaultFn()}),this.yesLabel.string=i.FontAsset.text.yes,this.noLabel.string=i.FontAsset.text.no,this.confirmLabel.string=i.FontAsset.text.confirm},e.prototype.yesOnlyModal=function(t,e){var o=this;void 0===e&&(e=this.defaultFn),this.setModal(t,!0),this.yesOnlyBtn.once(cc.Node.EventType.TOUCH_START,function(){return o.afterClick(e)})},e.prototype.normalModal=function(t,e,o){var i=this;void 0===e&&(e=this.defaultFn),void 0===o&&(o=this.defaultFn),this.setModal(t,!1),this.yesBtn.once(cc.Node.EventType.TOUCH_START,function(){return i.afterClick(e)}),this.noBtn.once(cc.Node.EventType.TOUCH_START,function(){return i.afterClick(o)})},e.prototype.setModal=function(t,e){this.node.active=!0,this.yesOnlyBtn.active=e,this.yesBtn.active=!e,this.noBtn.active=!e,this.describe.string=t},e.prototype.defaultFn=function(){},e.prototype.afterClick=function(t){t(),this.node.active=!1},__decorate([s(cc.Node)],e.prototype,"blockTouch",void 0),__decorate([s(cc.Label)],e.prototype,"describe",void 0),__decorate([s(cc.Node)],e.prototype,"yesOnlyBtn",void 0),__decorate([s(cc.Node)],e.prototype,"yesBtn",void 0),__decorate([s(cc.Node)],e.prototype,"noBtn",void 0),__decorate([s(cc.Label)],e.prototype,"yesLabel",void 0),__decorate([s(cc.Label)],e.prototype,"noLabel",void 0),__decorate([s(cc.Label)],e.prototype,"confirmLabel",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../../Script/loading":"loading"}],model:[function(t,e,o){"use strict";cc._RF.push(e,"f59fcVCW+BE0qF62nVazaGg","model"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("./ws"),r=t("./debug"),s=t("./game_master"),a=t("./config"),c=t("./loading"),u=t("./lib/function"),p=cc._decorator,l=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameMaster=null,e.modal=null,e.ws=new n.WS,e.debug=new r.Debug,e.bet=0,e.isAuto=!1,e.isTurbo=!1,e.autoIdx=0,e.cropIdx=-1,e.bonusAward=0,e._autoSetting=a.autoTimes[0],e._autoTimes=a.autoTimes[0],e._lave=0,e._win=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"autoSetting",{get:function(){return this._autoSetting},set:function(t){this._autoSetting=t,this.resumeAuto()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lave",{get:function(){return this._lave},set:function(t){this._lave=t,this.node.emit(i.setLave,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoTimes",{get:function(){return this._autoTimes},set:function(t){this._autoTimes=t,this.node.emit(i.setAuto,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"balance",{get:function(){return this.login.tableMoney},set:function(t){this.login.tableMoney=t,this.node.emit(i.balance)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"win",{get:function(){return this._win},set:function(t){this._win=t,this.node.emit(i.win)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalBet",{get:function(){return this.login.betList[this.bet]},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.gameMaster.loading.reloadMain()},e.prototype.resumeAuto=function(){this.autoTimes=this.autoSetting},e.prototype.init=function(){this.gameMaster=this.node.getComponent(s.default),this.modal=this.gameMaster.modal,this.resumeAuto(),this.linkWs()},e.prototype.initMain=function(){this.node.emit(i.totalBet),this.node.emit(i.balance)},e.prototype.linkWs=function(){var t=this;if(a.isDebug)return this.debug.on(n.WSEvent.onmessage,function(e){return t.onMessage(e)}),void this.debug.init();this.ws.connect(),this.ws.on(n.WSEvent.onmessage,function(e){return t.onMessage(e)}),this.ws.on(n.WSEvent.onerror,function(t){return console.error(t)}),this.ws.on(n.WSEvent.onclose,function(e){return t.modal.yesOnlyModal(c.FontAsset.text.disconnectMsg,t.reConnect)})},e.prototype.onMessage=function(t){try{var e=JSON.parse(t.detail),o=e.protocol,n=e.data;switch(o){case"Login":this.login=n,this.balance=n.tableMoney,this.node.emit(i.totalBet);break;case"Bet":this.balance=n.balance-n.result.totalWin,this.bonusAward=n.bonusBar.award,this.setLand(n),this.node.emit(i.roll),this.node.emit(i.ng,n);break;case"FreeBet":var r=n.farmResult;this.node.emit(i.roll),this.node.emit(i.fg,n),this.bonusAward=r[r.length-1].bonusBar.award;break;case"FreeInfo":if(!n.ok)throw"";this.fgSpin();break;case"BonusBet":n.idx=this.cropIdx,this.node.emit(i.bg,n);break;case"AutoBonusBet":this.node.emit(i.autoBg,n);break;case"BonusAction":if(!n.ok)throw"";this.node.emit(i.bgReady);break;case"UpdBalance":this.balance=n.balance;break;case"Message":this.modal.yesOnlyModal(this.messageArgs(n)),this.node.emit(i.resumeBtn);break;case"Disconnect":this.modal.yesOnlyModal(this.messageArgs(n),this.reConnect)}}catch(t){console.error(t),this.modal.yesOnlyModal(c.FontAsset.text.disconnectMsg,this.reConnect)}},e.prototype.setLand=function(t){for(var e=t.land.slice(0),o=t.harvest.slice(0),i=function(t,i){var n=o[t].merge,r=u.isEmpty(n)?o[t].idx:u.calMergeIdx(n),s=e.findIndex(function(t){return t.idx===r});-1!==s&&e.splice(s,1)},n=0,r=o.length;n<r;n++)i(n);this.land=e},e.prototype.messageArgs=function(t){var e=c.FontAsset.text.errorCode[t.msgId],o=t.args;return u.messageArgs(e,o)},e.prototype.reConnect=function(){location.reload()},e.prototype.ngSpin=function(){if(a.isDebug)this.debug.ng();else{var t=this.login.betList[this.bet];this.ws.send("Bet",{bet:t})}},e.prototype.fgSpin=function(){a.isDebug?this.debug.fg():this.ws.send("FreeBet")},e.prototype.fgInfo=function(t){a.isDebug?this.debug.freeInfo():this.ws.send("FreeInfo",{idx:t})},e.prototype.bgSpin=function(t){a.isDebug?this.debug.bg():this.ws.send("BonusBet",{idx:t})},e.prototype.bgCountdown=function(){a.isDebug?this.debug.bonusAction():this.ws.send("BonusAction")},e=__decorate([l],e)}(cc.Component));o.default=d,function(t){t.roll="roll",t.balance="balance",t.totalBet="totalBet",t.win="win",t.ng="ng",t.fg="fg",t.bg="bg",t.autoBg="autoBg",t.bgReady="bgReady",t.resumeBtn="resumeBtn",t.setAuto="setAuto",t.setLave="setLave"}(i=o.modelEvent||(o.modelEvent={})),cc._RF.pop()},{"./config":"config","./debug":"debug","./game_master":"game_master","./lib/function":"function","./loading":"loading","./ws":"ws"}],playSound:[function(t,e,o){"use strict";cc._RF.push(e,"a151c5F28BFjJR2Y9s1BVse","playSound"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/AudioBox"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sound=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(){return i.AudioBox.play_sound(t.sound,1)})},__decorate([s({type:cc.AudioClip})],e.prototype,"sound",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../lib/AudioBox":"AudioBox"}],randomPlay:[function(t,e,o){"use strict";cc._RF.push(e,"ad271o3HyJBg4TBVCR5XPJe","randomPlay"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/function"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.xRange=[0,0],e.yRange=[0,0],e.timeRange=[0,0],e.animate=null,e.originPos=[0,0],e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;this.originPos=[this.node.x,this.node.y],this.animate=this.node.getComponent(cc.Animation),setTimeout(function(){return t.randomPlay()},i.random(this.timeRange[0],this.timeRange[1]))},e.prototype.randomPlay=function(){var t=this;this.node.x=this.originPos[0]+i.random(this.xRange[0],this.xRange[1]),this.node.y=this.originPos[1]+i.random(this.yRange[0],this.yRange[1]),this.animate.play().wrapMode=cc.WrapMode.Normal,this.animate.once("finished",function(){return setTimeout(function(){return t.randomPlay()},i.random(t.timeRange[0],t.timeRange[1]))})},__decorate([s({type:[cc.Integer]})],e.prototype,"xRange",void 0),__decorate([s({type:[cc.Integer]})],e.prototype,"yRange",void 0),__decorate([s({type:[cc.Integer]})],e.prototype,"timeRange",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../lib/function":"function"}],setting:[function(t,e,o){"use strict";cc._RF.push(e,"7308ebSZ1xEJ5fBfcc4mbxJ","setting"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/config"),n=t("../../Script/lib/AudioBox"),r=cc._decorator,s=r.ccclass,a=r.property,c=cc.color(247,189,40,255),u=cc.color(151,155,162,255),p=cc.color(49,49,49,255),l=cc.color(226,226,226,255),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextSound=null,e.backSound=null,e.settingBtn=null,e.ruleBtn=null,e.closeBtn=null,e.musicBtn=null,e.soundBtn=null,e.autoBtn=[],e.settingPage=null,e.rulePage=null,e.toggleOpenSprite=null,e.toggleCloseSprite=null,e.autoOpenSprite=null,e.autoCloseSprite=null,e.payout=[],e.model=null,e.touceEvent=cc.Node.EventType.TOUCH_START,e}return __extends(e,t),e.prototype.init=function(t){var e=this;this.node.on(this.touceEvent,function(){}),this.node.active=!1,this.model=t,this.settingBtn.getChildByName("touch").on(this.touceEvent,function(){return e.changePage(1)},this),this.ruleBtn.getChildByName("touch").on(this.touceEvent,function(){return e.changePage(0)},this),this.closeBtn.on(this.touceEvent,function(){return e.close()},this),this.musicBtn.on(this.touceEvent,function(){return e.musicToggle()},this),this.soundBtn.on(this.touceEvent,function(){return e.soundToggle()},this),this.toggle(this.musicBtn,n.AudioBox.music_switch),this.toggle(this.soundBtn,n.AudioBox.sound_switch);for(var o=function(t,o){r.autoBtn[t].on(r.touceEvent,function(){return e.auto(t)},r),r.autoBtn[t].getChildByName("times").getComponent(cc.Label).string=""+i.autoTimes[t]},r=this,s=0,a=this.autoBtn.length;s<a;s++)o(s);this.setLinePay(this.model.login.linePay),this.auto(this.model.autoIdx,!1)},e.prototype.setLinePay=function(t){for(var e=0,o=t.length;e<o;e++)for(var i=t[e],n=0,r=i.length;n<r;n++)0!==i[n]&&(this.payout[4*e+n].string=""+i[n])},e.prototype.close=function(){this.node.active=!1,n.AudioBox.play_sound(this.backSound,1)},e.prototype.open=function(){this.node.active=!0,this.changePage(1)},e.prototype.changePage=function(t){this.settingPage.active=!!t,this.rulePage.active=!t,this.settingBtn.color=t?c:u,this.ruleBtn.color=t?u:c,n.AudioBox.play_sound(this.nextSound,1)},e.prototype.musicToggle=function(){n.AudioBox.music_switch=!n.AudioBox.music_switch,this.toggle(this.musicBtn,n.AudioBox.music_switch);var t=n.AudioBox.music_switch?this.nextSound:this.backSound;n.AudioBox.play_sound(t,1)},e.prototype.soundToggle=function(){n.AudioBox.sound_switch=!n.AudioBox.sound_switch,this.toggle(this.soundBtn,n.AudioBox.sound_switch);var t=n.AudioBox.sound_switch?this.nextSound:this.backSound;n.AudioBox.play_sound(t,1)},e.prototype.toggle=function(t,e){t.getComponent(cc.Sprite).spriteFrame=e?this.toggleOpenSprite:this.toggleCloseSprite},e.prototype.auto=function(t,e){void 0===e&&(e=!0);for(var o=0,r=this.autoBtn.length;o<r;o++){var s=this.autoBtn[o],a=s.getChildByName("times");s.getComponent(cc.Sprite).spriteFrame=o===t?this.autoOpenSprite:this.autoCloseSprite,a.color=o===t?p:l}e&&(this.model.autoSetting=i.autoTimes[t],n.AudioBox.play_sound(this.nextSound,1)),this.model.autoIdx=t},__decorate([a({type:cc.AudioClip})],e.prototype,"nextSound",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"backSound",void 0),__decorate([a({type:cc.Node})],e.prototype,"settingBtn",void 0),__decorate([a({type:cc.Node})],e.prototype,"ruleBtn",void 0),__decorate([a({type:cc.Node})],e.prototype,"closeBtn",void 0),__decorate([a({type:cc.Node})],e.prototype,"musicBtn",void 0),__decorate([a({type:cc.Node})],e.prototype,"soundBtn",void 0),__decorate([a({type:[cc.Node]})],e.prototype,"autoBtn",void 0),__decorate([a({type:cc.Node})],e.prototype,"settingPage",void 0),__decorate([a({type:cc.Node})],e.prototype,"rulePage",void 0),__decorate([a({type:cc.SpriteFrame})],e.prototype,"toggleOpenSprite",void 0),__decorate([a({type:cc.SpriteFrame})],e.prototype,"toggleCloseSprite",void 0),__decorate([a({type:cc.SpriteFrame})],e.prototype,"autoOpenSprite",void 0),__decorate([a({type:cc.SpriteFrame})],e.prototype,"autoCloseSprite",void 0),__decorate([a({type:[cc.Label]})],e.prototype,"payout",void 0),e=__decorate([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/AudioBox":"AudioBox"}],slot_line:[function(t,e,o){"use strict";cc._RF.push(e,"c43a6I2we5MMZCHFbdXqMi4","slot_line"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/lib/function"),n=t("../../Script/lib/AudioBox"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolSound=null,e.symbolFGSound=null,e.symbolBGSound=null,e.lineFrame=null,e.lineWin=null,e.lineWinLabel=null,e.lines=null,e.symbols=[],e.symbolScripts=[],e.stopSingle=!1,e}return __extends(e,t),e.prototype.init=function(t,e,o){for(var i=0,n=t.length;i<n;i++)for(var r=0;r<3;r++)this.symbols.push(t[i][r]),this.symbolScripts.push(e[i][r]),this.lineWin.active=!1;this.lines=o},e.prototype.showAllLine=function(t){return __awaiter(this,void 0,void 0,function(){var e,o;return __generator(this,function(i){switch(i.label){case 0:return e=this.getAllActiveGrids(t),o=this.getLines(t.data),[4,this.showLine(e,o)];case 1:return i.sent(),this.clear(),this.node.emit("showAllEnd"),[2]}})})},e.prototype.loopSingleLine=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:this.stopSingle=!1,e.label=1;case 1:return this.stopSingle?[3,3]:[4,this.showSingleLine(t)];case 2:return e.sent(),[3,1];case 3:return[2]}})})},e.prototype.showSingleLine=function(t){return __awaiter(this,void 0,void 0,function(){var e,o,i,n;return __generator(this,function(r){switch(r.label){case 0:e=this.getActiveGrids(t),o=this.getLines(t.data),i=0,n=e.length,r.label=1;case 1:return i<n?this.stopSingle?[3,4]:(this.clear(),this.showLineWin(t.data[i].win,e[i]),[4,this.showLine(e[i],[o[i]])]):[3,4];case 2:r.sent(),r.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.showSpecialLine=function(t,e){return __awaiter(this,void 0,void 0,function(){var o;return __generator(this,function(i){switch(i.label){case 0:return o=this.getSpecialActiveGrids(t,e),[4,this.showLine(o,[],e)];case 1:return i.sent(),this.clear(),this.node.emit("showSpecialEnd"),[2]}})})},e.prototype.getLines=function(t){for(var e=[],o=0,i=t.length;o<i;o++)e.push(t[o].line-1);return e},e.prototype.showLineWin=function(t,e){for(var o=0;o<3;o++)if(-1!==e[o]){var n=this.symbols[o];this.lineWin.x=n.x,this.lineWin.y=n.y-192,this.lineWin.active=!0,this.lineWinLabel.string=""+i.strip(t)}},e.prototype.showLine=function(t,e,o){var i=this;return new Promise(function(r,s){var a=0;if(t.filter(function(t){return-1===t}).length!==t.length){var c=null;c=o?"bonus"===o?i.symbolBGSound:i.symbolFGSound:i.symbolSound,n.AudioBox.play_sound(c,1);for(var u=0,p=t.length;u<p;u++){var l=i.symbolScripts[u];if(-1!==t[u]){var d=l.playAnimation();a=a>d?a:d}else l.setColor(!0)}i.lines.showLines(e),setTimeout(function(){return r()},1e3*a)}else r()})},e.prototype.clear=function(){this.lineWin.active=!1,this.lines.hideLines();for(var t=0,e=this.symbols.length;t<e;t++)this.symbolScripts[t].setColor(!1),this.symbolScripts[t].stopAnimation()},e.prototype.getActiveGrids=function(t){for(var e=[],o=[],i=t.roll,n=t.data,r=0,s=15;r<s;r++)e[r]=-1;for(r=0,s=n.length;r<s;r++){for(var a=n[r].position,c=e.slice(0),u=0,p=a.length;u<p;u++)c[a[u]]=i[a[u]];o.push(c)}return o},e.prototype.getAllActiveGrids=function(t){for(var e=[],o=t.roll,i=t.data,n=0,r=15;n<r;n++)e[n]=-1;for(n=0,r=i.length;n<r;n++)for(var s=i[n].position,a=0,c=s.length;a<c;a++)e[s[a]]=o[s[a]];return e},e.prototype.getSpecialActiveGrids=function(t,e){for(var o=[],i="bonus"===e?11:10,n=t.roll,r=0,s=n.length;r<s;r++)o[r]=n[r]===i?i:-1;return o},__decorate([a({type:cc.AudioClip})],e.prototype,"symbolSound",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"symbolFGSound",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"symbolBGSound",void 0),__decorate([a({type:cc.Node})],e.prototype,"lineFrame",void 0),__decorate([a({type:cc.Node})],e.prototype,"lineWin",void 0),__decorate([a({type:cc.Label})],e.prototype,"lineWinLabel",void 0),e=__decorate([s],e)}(cc.Component);o.default=c,cc._RF.pop()},{"../../Script/lib/AudioBox":"AudioBox","../../Script/lib/function":"function"}],slot_roll:[function(t,e,o){"use strict";cc._RF.push(e,"e0066I6K0xMl6E3nl0BlPUO","slot_roll"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../Script/config"),n=t("../../Script/lib/function"),r=t("../../Script/lib/AudioBox"),s=cc._decorator,a=s.ccclass,c=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spinSound=null,e.scrollSound=null,e.stopSound=null,e.miSound=null,e.miStopSound=null,e.miNode=null,e.isRolling=!1,e.reelState=[0,0,0,0,0],e.reelSpeed=[0,0,0,0,0],e.accel=0,e.maxSpeed=0,e.turns=[],e.symbols=[],e.spineSymbols=[],e.symbolScripts=[],e.bottom=0,e.distance=0,e.yPos=[],e.rollData=[],e.isFree=!1,e.isMi=!1,e.stopSoundFlag=!1,e.miLock=[!1,!1],e.miSoundId=null,e}return __extends(e,t),e.prototype.update=function(){if(this.isRolling)for(var t=0,e=this.reelState.length;t<e;t++)switch(this.reelState[t]){case 1:this.spinPhysic(t);break;case 2:this.stopPhysic(t)}},e.prototype.init=function(t,e,o){this.miNode.active=!1,this.symbols=t,this.spineSymbols=e,this.symbolScripts=o,this.bottom=t[0][0].y,this.distance=Math.abs(t[0][0].y-t[0][1].y);for(var i=0,n=t[0].length;i<n;i++)this.yPos[i]=t[0][i].y},e.prototype.roll=function(t){var e=this;if(!this.isRolling){this.isRolling=!0,this.accel=t?i.turboConfig.turboAcc:i.normalConfig.normalAcc,this.maxSpeed=t?i.turboConfig.turboMax:i.normalConfig.normalMax,this.turns=t?i.turboConfig.turboTurns.slice(0):i.normalConfig.normalTurns.slice(0);for(var o=function(t,o){for(var i=0,r=n.symbols[t].length;i<r;i++)n.symbols[t][i].runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,10)).easing(cc.easeCubicActionOut()),cc.callFunc(function(){return e.reelState[t]=1},n))),n.spineSymbols[t][i].runAction(cc.sequence(cc.moveBy(.2,cc.v2(0,10)).easing(cc.easeCubicActionOut()),cc.callFunc(function(){return e.reelState[t]=1},n)))},n=this,s=0,a=this.symbols.length;s<a;s++)o(s);r.AudioBox.play_sound(this.spinSound,1),r.AudioBox.play_sound(this.scrollSound,1)}},e.prototype.stop=function(){if(this.isRolling){for(var t=0,e=this.reelState.length;t<e;t++)2!==this.reelState[t]&&this.turns[t]>0&&(this.turns[t]=2);this.stopSoundFlag=!0}},e.prototype.checkMi=function(t){for(var e=0,o=0;o<6;o++)e+=10===t[o]?1:0;o=2;for(var i=this.turns.length;o<i;o++)this.turns[o]+=e>=2?15:0;this.isMi=e>=2,this.miLock=[!0,!0]},e.prototype.activeMi=function(t){return __awaiter(this,void 0,void 0,function(){var e,o;return __generator(this,function(i){for(this.miNode.active=t,this.node.emit(t?"miStart":"miEnd"),this.miLock[t?0:1]=!1,e=0,o=6;e<o;e++)10===this.rollData[e]&&this.symbolScripts[Math.floor(e/3)][e%3].miEffect(t);return[2]})})},e.prototype.spinPhysic=function(t){this.reelSpeed[t]=this.reelSpeed[t]>=this.maxSpeed?this.maxSpeed:this.reelSpeed[t]+this.accel;for(var e=this.symbols[t],o=this.reelSpeed[t],s=0,a=e.length;s<a;s++){var c=e[s],u=this.spineSymbols[t][s],p=c.y-o,l=p<=this.bottom-this.distance;if(c.y=l?p+this.distance*a:p,u.y=l?p+this.distance*a:p,l){var d=this.rollData.length&&s===e.length-1,h=this.isMi&&2===t&&3===s;d&&(this.turns[t]--,this.reelState[t]=this.turns[t]<=0?2:1),h&&0===this.turns[1]&&!0===this.miLock[0]&&(this.activeMi(!0),this.miSoundId=r.AudioBox.play_sound(this.miSound,1)),h&&0===this.turns[2]&&!0===this.miLock[1]&&(this.activeMi(!1),r.AudioBox.stop_sound(this.miSoundId),r.AudioBox.play_sound(this.miStopSound,1));var g=this.turns[t]<=1&&s<3,m=this.turns[t]>1,y=(this.isFree?i.freeRoll:i.normalRoll)[t],f=h?10:n.random(0,y.length-1),v=g?this.rollData[3*t+s]:y[f];this.symbolScripts[t][s].setSprite(v,m)}}},e.prototype.stopPhysic=function(t){var e=this,o=this.symbols[t],i=o[0];if(i.y>=1-this.distance&&i.y<-this.distance+this.reelSpeed[t]+1)this.spinPhysic(t);else{this.reelState[t]=0;for(var n=0,s=o.length;n<s;n++){var a=o[n],c=this.spineSymbols[t][n];a.y=this.yPos[n],a.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-40)).easing(cc.easeCubicActionOut()),cc.moveBy(.4,cc.v2(0,40)).easing(cc.easeBounceOut()),cc.callFunc(function(){4===t&&e.checkStop()},this))),c.y=this.yPos[n],c.runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-40)).easing(cc.easeCubicActionOut()),cc.moveBy(.4,cc.v2(0,40)).easing(cc.easeBounceOut())))}this.stopSoundFlag?4===t&&r.AudioBox.play_sound(this.stopSound,1):r.AudioBox.play_sound(this.stopSound,1)}},e.prototype.checkStop=function(){if(this.isRolling){for(var t=!0,e=0,o=this.reelState.length;e<o;e++)0!==this.reelState[e]&&(t=!1);t&&(this.isRolling=!1,this.stopSoundFlag=!1,this.reelSpeed=[0,0,0,0,0],this.rollData=[],this.node.emit("stop"))}},__decorate([c({type:cc.AudioClip})],e.prototype,"spinSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"scrollSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"stopSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"miSound",void 0),__decorate([c({type:cc.AudioClip})],e.prototype,"miStopSound",void 0),__decorate([c({type:cc.Node})],e.prototype,"miNode",void 0),e=__decorate([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/AudioBox":"AudioBox","../../Script/lib/function":"function"}],slot:[function(t,e,o){"use strict";cc._RF.push(e,"5073ceLjPFCbYF35zJDg784","slot"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./slot_roll"),n=t("./slot_line"),r=t("../../Prefabs/Symbol/Symbol"),s=t("../../Script/lib/function"),a=t("../../Script/config"),c=t("../../Script/lib/fakeData"),u=t("./lines"),p=cc._decorator,l=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.slot=null,e.show=null,e.initXPos=0,e.initYPos=0,e.xDistance=0,e.yDistance=0,e.symbol=null,e.symbols=[],e.spineSymbols=[],e.symbolScripts=[],e.slotRoll=null,e.slotLine=null,e}return __extends(e,t),e.prototype.init=function(){this.createSlot(),this.slotRoll=this.node.getComponent(i.default),this.slotLine=this.node.getComponent(n.default),this.slotRoll.init(this.symbols,this.spineSymbols,this.symbolScripts),this.slotLine.init(this.symbols,this.symbolScripts,this.createLines())},e.prototype.createLines=function(){for(var t=[],e=[],o=this.node.getComponent(u.Lines),i=0,n=5;i<n;i++)t.push(this.initXPos+this.xDistance*i);for(i=0,n=3;i<n;i++)e.push(this.initYPos+this.yDistance*i);return o.init(t,e),o},e.prototype.clearLine=function(){this.slotLine.stopSingle=!0,this.slotLine.clear()},e.prototype.roll=function(t){this.clearLine(),this.slotRoll.roll(t)},e.prototype.rollData=function(t,e){var o=this;return new Promise(function(i,n){o.slotRoll.rollData=t,o.slotRoll.checkMi(t),o.slotRoll.isFree=e,o.node.once("stop",function(){return i()})})},e.prototype.stopRoll=function(){this.slotRoll.stop()},e.prototype.showAllLine=function(t){var e=this;return new Promise(function(o,i){e.slotLine.showAllLine(t),e.node.once("showAllEnd",function(){return o()})})},e.prototype.loopSingleLine=function(t){this.slotLine.loopSingleLine(t)},e.prototype.showSpecialLine=function(t,e){var o=this;return new Promise(function(i,n){o.slotLine.showSpecialLine(t,e),o.node.once("showSpecialEnd",function(){return i()})})},e.prototype.showWaitLoop=function(t){for(var e=0,o=t.length;e<o;e++)10!==t[e]&&11!==t[e]||this.symbolScripts[Math.floor(e/3)][e%3].playWaitLoop()},e.prototype.createSlot=function(){for(var t=c.fake[s.random(0,c.fake.length-1)],e=0;e<5;e++){for(var o=this.initXPos+this.xDistance*e,i=[],n=[],u=[],p=a.normalRoll[e],l=0;l<4;l++){var d=l>=3?p[s.random(0,p.length-1)]:t[3*e+l],h=cc.instantiate(this.symbol),g=h.getComponent(r.default);this.slot.addChild(h);var m=new cc.Node;m.addComponent(sp.Skeleton),this.show.addChild(m),g.init(m),g.setSprite(d,!1),h.x=o,h.y=this.initYPos+this.yDistance*l+0,m.x=o,m.y=this.initYPos+this.yDistance*l+0,i.push(h),n.push(m),u.push(g),(10===d||11===d)&&l<3&&g.playWaitLoop()}this.symbols[e]=i,this.spineSymbols[e]=n,this.symbolScripts[e]=u}},__decorate([d({tooltip:"\u6efe\u8f2a\u7bc0\u9ede",type:cc.Node})],e.prototype,"slot",void 0),__decorate([d({tooltip:"\u52d5\u756b\u7bc0\u9ede",type:cc.Node})],e.prototype,"show",void 0),__decorate([d({tooltip:"\u5de6\u4e0bX\u5ea7\u6a19",type:cc.Integer})],e.prototype,"initXPos",void 0),__decorate([d({tooltip:"\u5de6\u4e0bY\u5ea7\u6a19",type:cc.Integer})],e.prototype,"initYPos",void 0),__decorate([d({tooltip:"x\u9593\u8ddd",type:cc.Integer})],e.prototype,"xDistance",void 0),__decorate([d({tooltip:"y\u9593\u8ddd",type:cc.Integer})],e.prototype,"yDistance",void 0),__decorate([d({type:cc.Prefab})],e.prototype,"symbol",void 0),e=__decorate([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../Prefabs/Symbol/Symbol":"Symbol","../../Script/config":"config","../../Script/lib/fakeData":"fakeData","../../Script/lib/function":"function","./lines":"lines","./slot_line":"slot_line","./slot_roll":"slot_roll"}],soundEvent:[function(t,e,o){"use strict";cc._RF.push(e,"dd94babOClN1q/I7MhoxWXX","soundEvent"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("../lib/AudioBox"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundClip=[],e.eventName=[],e.reversePlay=!1,e.animation=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.animation=this.node.getComponent(cc.Animation),this.setEvent()},e.prototype.setEvent=function(){for(var t=this,e=function(e,n){o[o.eventName[e]]=function(){t.animation.getAnimationState(t.animation.currentClip.name).wrapMode===cc.WrapMode.Reverse&&!t.reversePlay||i.AudioBox.play_sound(t.soundClip[e],1,!1)}},o=this,n=0,r=this.eventName.length;n<r;n++)e(n)},__decorate([s({type:[cc.AudioClip]})],e.prototype,"soundClip",void 0),__decorate([s({type:[cc.String]})],e.prototype,"eventName",void 0),__decorate([s],e.prototype,"reversePlay",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"../lib/AudioBox":"AudioBox"}],"spine.function":[function(t,e,o){"use strict";cc._RF.push(e,"db24caqCwxDQZE1ZUiNs2w9","spine.function"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./function");o.finished=function(t){var e=this;return new Promise(function(o,n){return __awaiter(e,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,i.timeout(t.animation.duration)];case 1:return e.sent(),o(),[2]}})})})},cc._RF.pop()},{"./function":"function"}],touch:[function(t,e,o){"use strict";cc._RF.push(e,"2ffc1k0TcZEsocDVSKF9hkJ","touch"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,n=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touch=null,e._isSwallow=!1,e}return __extends(e,t),e.prototype.onEnable=function(){var t=this.node;t._touchListener&&t._touchListener.setSwallowTouches(this._isSwallow)},e.prototype.onLoad=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){return t.touchEffect(e)},this)},e.prototype.touchEffect=function(t){this.touch.x=t.touch.getLocationX()-360,this.touch.y=t.touch.getLocationY()-640,this.touch.getComponent(cc.Animation).play()},__decorate([r({type:cc.Node})],e.prototype,"touch",void 0),e=__decorate([n],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],translator:[function(t,e,o){"use strict";cc._RF.push(e,"18c53Sz3uBAjLd1l3n1guee","translator"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./loading"),n=cc._decorator,r=n.ccclass,s=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.labels=[],e}return __extends(e,t),e.prototype.init=function(){for(var t=this.labels,e=0,o=t.length;e<o;e++)i.FontAsset.setText(t[e],t[e].node.name)},__decorate([s({type:[cc.Label]})],e.prototype,"labels",void 0),e=__decorate([r],e)}(cc.Component);o.default=a,cc._RF.pop()},{"./loading":"loading"}],weather:[function(t,e,o){"use strict";cc._RF.push(e,"1cd68OTu51AFYSG1KwpzaHG","weather"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../Script/config"),r=t("../../Script/lib/function"),s=t("../../Script/lib/dispatch.event.name"),a=cc._decorator,c=a.ccclass,u=a.property;(function(t){t[t.normal=0]="normal",t[t.cloudy=1]="cloudy",t[t.rain=2]="rain",t[t.typhoon=3]="typhoon",t[t.drought=4]="drought"})(i=o.weatherType||(o.weatherType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.barrel=null,e.house=null,e.grass=null,e.grassSmall=null,e.cat=null,e.catMove=null,e.filed=null,e.bg=null,e.rain=null,e.rainBlack=null,e.drought=null,e.tornado=null,e.sprinklers=null,e.manure=null,e.river=null,e.riverFullSprite=null,e.riverEmptySprite=null,e.chicken1=null,e.chicken2=null,e.chicken1Ani=null,e.chicken2Ani=null,e.duck=null,e.nowWeather=-1,e.houseAnimate=null,e.rainAnimate=null,e.tornadoAnimate=null,e.chicken1State=null,e.chicken2State=null,e.duckState=null,e}return __extends(e,t),e.prototype.init=function(t){this.chicken1State=this.chicken1.getComponent(cc.Animation).getAnimationState("GG"),this.chicken2State=this.chicken2.getComponent(cc.Animation).getAnimationState("GG2"),this.duckState=this.duck.getComponent(cc.Animation).getAnimationState("GG3"),this.houseAnimate=this.house.getComponent(cc.Animation),this.rainAnimate=this.rain.getComponent(cc.Animation),this.tornadoAnimate=this.tornado.getComponent(cc.Animation),this.tornado.active=!1,this.sprinklers.active=!1,this.manure.active=!1,this.updateWeather(t)},e.prototype.updateWeather=function(t){if(this.nowWeather!==t&&!r.isEmpty(t))switch(this.nowWeather===i.drought&&(this.chicken1Ani.play("g_normal"),this.chicken2Ani.play("g_normal")),this.nowWeather=t,r.dispatch(this.node,s.dispatchEventName.marquee,{type:"2",key:t,args:[]}),t){case i.normal:this.normal();break;case i.cloudy:this.cloudy();break;case i.rain:this.raining(!1);break;case i.typhoon:this.raining(!0);break;case i.drought:this.droughting()}},e.prototype.typhoon=function(){return __awaiter(this,void 0,void 0,function(){var t=this;return __generator(this,function(e){switch(e.label){case 0:return this.tornado.active=!0,this.tornadoAnimate.play(),this.tornadoAnimate.once("finished",function(){return t.tornado.active=!1}),[4,r.timeout(.4)];case 1:return e.sent(),[2]}})})},e.prototype.normal=function(){var t=cc.hexToColor(n.filedColorConfig.normal);this.filed.runAction(cc.tintTo(.5,t.getR(),t.getG(),t.getB())),this.bg.color=cc.hexToColor(n.bgColorConfig.normal),this.rain.active=!1,this.rainBlack.active=!1,this.rainBlack.runAction(cc.fadeOut(1)),this.drought.active=!1,this.river.color=cc.hexToColor(n.riverColorConfig.normal),this.river.getComponent(cc.Sprite).spriteFrame=this.riverFullSprite,this.river.getComponent(cc.Animation).play().speed=1,this.chicken1State.speed=1,this.chicken2State.speed=1,this.duckState.speed=.2,this.duck.runAction(cc.rotateTo(.5,0)),this.activeBigRain(!1)},e.prototype.cloudy=function(){var t=cc.hexToColor(n.filedColorConfig.cloudy);this.filed.runAction(cc.tintTo(.5,t.getR(),t.getG(),t.getB())),this.bg.color=cc.hexToColor(n.bgColorConfig.cloudy),this.rain.active=!1,this.rainBlack.opacity=0,this.rainBlack.active=!0,this.rainBlack.runAction(cc.fadeTo(1,180)),this.drought.active=!1,this.river.color=cc.hexToColor(n.riverColorConfig.cloudy),this.river.getComponent(cc.Sprite).spriteFrame=this.riverFullSprite,this.river.getComponent(cc.Animation).play().speed=1,this.chicken1State.speed=1,this.chicken2State.speed=1,this.duckState.speed=.2,this.duck.runAction(cc.rotateTo(.5,0)),this.activeBigRain(!1)},e.prototype.raining=function(t){var e=t?"big_rain":"rain",o=t?n.filedColorConfig.bigRain:n.filedColorConfig.rain,i=cc.hexToColor(o);this.filed.runAction(cc.tintTo(.5,i.getR(),i.getG(),i.getB())),this.bg.color=cc.hexToColor(n.bgColorConfig.rain),this.rain.active=!0,this.rainBlack.active=!0,this.rainBlack.runAction(cc.fadeTo(1,t?255:200)),this.drought.active=!1,this.river.color=cc.hexToColor(n.riverColorConfig.rain),this.river.getComponent(cc.Sprite).spriteFrame=this.riverFullSprite,this.river.getComponent(cc.Animation).play().speed=t?2:1,this.river.opacity=255,this.rainAnimate.play(e),this.chicken1State.speed=0,this.chicken2State.speed=0,this.duckState.speed=t?5:2.5,this.duck.runAction(cc.rotateTo(.5,0)),this.activeBigRain(t)},e.prototype.droughting=function(){var t=cc.hexToColor(n.filedColorConfig.drought);this.filed.runAction(cc.tintTo(.5,t.getR(),t.getG(),t.getB())),this.bg.color=cc.hexToColor(n.bgColorConfig.normal),this.rain.active=!1,this.rainBlack.active=!1,this.rainBlack.runAction(cc.fadeOut(1)),this.drought.active=!0,this.river.color=cc.hexToColor(n.riverColorConfig.normal),this.river.getComponent(cc.Sprite).spriteFrame=this.riverEmptySprite,this.river.getComponent(cc.Animation).stop(),this.river.opacity=255,this.chicken1State.speed=0,this.chicken2State.speed=0,this.duckState.speed=0,this.duck.runAction(cc.rotateBy(.5,-180).easing(cc.easeBackIn())),this.chicken1Ani.play("g_leg"),this.chicken2Ani.play("g_leg"),this.activeBigRain(!1)},e.prototype.activeBigRain=function(t){t?(this.houseAnimate.play("houseRain"),this.barrel.getComponent(cc.Animation).play("houseRain"),this.grassSmall.play(),this.grass.getComponent(cc.Animation).play(),this.cat.getComponent(cc.Animation).play("catfly"),this.catMove.getComponent(cc.Animation).pause("walk"),this.chicken1.getComponent(cc.Animation).pause(),this.chicken2.getComponent(cc.Animation).pause(),this.chickenShake(this.chicken1),this.chickenShake(this.chicken2)):(r.stopWithFirst(this.barrel.getComponent(cc.Animation)),r.stopWithFirst(this.houseAnimate),r.stopWithFirst(this.grassSmall),r.stopWithFirst(this.grass.getComponent(cc.Animation)),r.stopWithFirst(this.cat.getComponent(cc.Animation)),this.cat.getComponent(cc.Animation).play("cat"),this.catMove.getComponent(cc.Animation).resume("walk"),this.chicken1.getComponent(cc.Animation).resume(),this.chicken2.getComponent(cc.Animation).resume(),this.chicken1.stopAllActions(),this.chicken2.stopAllActions())},e.prototype.chickenShake=function(t){t.runAction(cc.sequence(cc.moveBy(.1,-3,-3),cc.moveBy(.1,3,3)).repeatForever())},e.prototype.watering=function(){return __awaiter(this,void 0,void 0,function(){var t,e,o;return __generator(this,function(i){switch(i.label){case 0:return t=this.sprinklers.getComponent(cc.Animation),e=cc.hexToColor(n.filedColorConfig.sprinklers),o=cc.hexToColor(n.filedColorConfig.normal),this.filed.runAction(cc.tintTo(.6,e.getR(),e.getG(),e.getB())),this.sprinklers.active=!0,t.play(),[4,r.aniFinish(t)];case 1:return i.sent(),this.sprinklers.active=!1,this.filed.runAction(cc.tintTo(.5,o.getR(),o.getG(),o.getB())),[2]}})})},e.prototype.manuring=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return t=this.manure.getComponent(cc.Animation),this.manure.active=!0,t.play(),[4,r.aniFinish(t)];case 1:return e.sent(),this.manure.active=!1,[2]}})})},__decorate([u(cc.Node)],e.prototype,"barrel",void 0),__decorate([u(cc.Node)],e.prototype,"house",void 0),__decorate([u(cc.Node)],e.prototype,"grass",void 0),__decorate([u(cc.Animation)],e.prototype,"grassSmall",void 0),__decorate([u(cc.Node)],e.prototype,"cat",void 0),__decorate([u(cc.Node)],e.prototype,"catMove",void 0),__decorate([u(cc.Node)],e.prototype,"filed",void 0),__decorate([u(cc.Node)],e.prototype,"bg",void 0),__decorate([u(cc.Node)],e.prototype,"rain",void 0),__decorate([u(cc.Node)],e.prototype,"rainBlack",void 0),__decorate([u(cc.Node)],e.prototype,"drought",void 0),__decorate([u(cc.Node)],e.prototype,"tornado",void 0),__decorate([u(cc.Node)],e.prototype,"sprinklers",void 0),__decorate([u(cc.Node)],e.prototype,"manure",void 0),__decorate([u(cc.Node)],e.prototype,"river",void 0),__decorate([u(cc.SpriteFrame)],e.prototype,"riverFullSprite",void 0),__decorate([u(cc.SpriteFrame)],e.prototype,"riverEmptySprite",void 0),__decorate([u(cc.Node)],e.prototype,"chicken1",void 0),__decorate([u(cc.Node)],e.prototype,"chicken2",void 0),__decorate([u(cc.Animation)],e.prototype,"chicken1Ani",void 0),__decorate([u(cc.Animation)],e.prototype,"chicken2Ani",void 0),__decorate([u(cc.Node)],e.prototype,"duck",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/dispatch.event.name":"dispatch.event.name","../../Script/lib/function":"function"}],win:[function(t,e,o){"use strict";cc._RF.push(e,"19feaRoXRtKAJ37+Di7z6He","win"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../Script/lib/function"),r=t("../../Script/config"),s=t("../../Script/lib/AudioBox"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.coinNode=null,e.winNumber=null,e.totalWinNumber=null,e.bigWinNumber=null,e.megaWinNumber=null,e.superMegaWinNumber=null,e.winNode=null,e.totalWinNode=null,e.bigWinNode=null,e.megaWinNode=null,e.superMegaWinNode=null,e.loopSound=null,e.stopSound=null,e.winSounds=[],e.allNumber=[],e.allNode=[],e.touchEvent=cc.Node.EventType.TOUCH_START,e.loopSoundId=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.allNumber=[this.winNumber,this.totalWinNumber,this.bigWinNumber,this.megaWinNumber,this.superMegaWinNumber],this.allNode=[this.winNode,this.totalWinNode,this.bigWinNode,this.megaWinNode,this.superMegaWinNode],this.reset()},e.prototype.reset=function(){this.coinNode.active=!1,this.allNumber.map(function(t){return t.string="0"}),this.allNode.map(function(t){return t.active=!1})},e.prototype.showWin=function(t,e,o){var a=this;return new Promise(function(c,u){return __awaiter(a,void 0,void 0,function(){var a,u,p,l,d,h,g,m,y,f,v,_,b,x=this;return __generator(this,function(w){return t<=0?(c(),[2]):(a=o===i.normal&&t>=n.mul(e,r.winLevel[0]),u=o===i.winOnly||!a,p=o===i.totalOnly,this.loopSoundId=s.AudioBox.play_sound(this.loopSound,1,!0),u&&!p?(l=this.winNumber,d=t/100+.01,h=0,this.winNode.active=!0,this.winNode.getComponent(cc.Animation).play(),g=setInterval(function(){return __awaiter(x,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return l.string=""+n.strip(h),(h+=d)>=t?(s.AudioBox.play_sound(this.stopSound,1),s.AudioBox.stop_sound(this.loopSoundId),clearInterval(g),l.string=""+n.strip(t),[4,n.timeout(1)]):[3,2];case 1:e.sent(),this.reset(),c(),e.label=2;case 2:return[2]}})})})):(m=[this.winNode,this.bigWinNode,this.megaWinNode,this.superMegaWinNode],y=[this.winNumber,this.bigWinNumber,this.megaWinNumber,this.superMegaWinNumber],f=s.AudioBox.music_switch,v=0,_=[e*r.winLevel[0]*.00187,e*r.winLevel[1]*.00187,e*r.winLevel[2]*.00187,.00187*(t-e*r.winLevel[2]/500)],s.AudioBox.music_switch=!1,b=setInterval(function(){var o=x.checkBigWin(v,e,m);y[o].string=""+n.strip(v),(v+=_[o])>t&&x.node.emit(x.touchEvent)},10),this.node.once(this.touchEvent,function(){return __awaiter(x,void 0,void 0,function(){var o,i,r;return __generator(this,function(a){switch(a.label){case 0:return o=this.checkBigWin(t,e,m),i=m[o],r=y[o],p&&0===o?(this.playTotalWin(),r=this.totalWinNumber):i.stopAllActions(),s.AudioBox.play_sound(this.stopSound,1),s.AudioBox.stop_sound(this.loopSoundId),clearInterval(b),r.string=""+n.strip(t),[4,n.timeout(2)];case 1:return a.sent(),this.reset(),s.AudioBox.music_switch=f,c(),[2]}})})},this)),[2])})})})},e.prototype.playTotalWin=function(){var t=this.winNode,e=this.totalWinNode;t.runAction(cc.sequence(cc.fadeTo(.5,0),cc.callFunc(function(){t.active=!1,t.opacity=255}))),e.active=!0,e.getComponent(cc.Animation).play(),e.scaleX=1,e.scaleY=1},e.prototype.playBigWin=function(t,e){if(0!==t)for(var o=function(t,o){e[t].runAction(cc.sequence(cc.fadeTo(.5,0),cc.callFunc(function(){e[t].active=!1,e[t].opacity=255})))},i=0,n=t;i<n;i++)o(i);t>=1&&(this.coinNode.active=!0,this.coinNode.getComponent(cc.Animation).play()),e[t].active=!0,e[t].getComponent(cc.Animation).play(),e[t].scaleX=1,e[t].scaleY=1,0!==t&&e[t].runAction(cc.scaleTo(5,1.2,1.2))},e.prototype.checkBigWin=function(t,e,o){for(var i=t/e,n=0,a=o.length;n<a;n++)if(i<r.winLevel[n])return o[n].active||(s.AudioBox.play_sound(this.winSounds[n],1),this.playBigWin(n,o)),n},__decorate([u({type:cc.Node})],e.prototype,"coinNode",void 0),__decorate([u({type:cc.Label})],e.prototype,"winNumber",void 0),__decorate([u({type:cc.Label})],e.prototype,"totalWinNumber",void 0),__decorate([u({type:cc.Label})],e.prototype,"bigWinNumber",void 0),__decorate([u({type:cc.Label})],e.prototype,"megaWinNumber",void 0),__decorate([u({type:cc.Label})],e.prototype,"superMegaWinNumber",void 0),__decorate([u({type:cc.Node})],e.prototype,"winNode",void 0),__decorate([u({type:cc.Node})],e.prototype,"totalWinNode",void 0),__decorate([u({type:cc.Node})],e.prototype,"bigWinNode",void 0),__decorate([u({type:cc.Node})],e.prototype,"megaWinNode",void 0),__decorate([u({type:cc.Node})],e.prototype,"superMegaWinNode",void 0),__decorate([u({type:cc.AudioClip})],e.prototype,"loopSound",void 0),__decorate([u({type:cc.AudioClip})],e.prototype,"stopSound",void 0),__decorate([u({type:[cc.AudioClip]})],e.prototype,"winSounds",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,function(t){t[t.winOnly=0]="winOnly",t[t.totalOnly=1]="totalOnly",t[t.normal=2]="normal"}(i=o.winType||(o.winType={})),cc._RF.pop()},{"../../Script/config":"config","../../Script/lib/AudioBox":"AudioBox","../../Script/lib/function":"function"}],word:[function(t,e,o){"use strict";cc._RF.push(e,"ee226xNZWdB8pwzmex+lq5u","word"),Object.defineProperty(o,"__esModule",{value:!0});var i,n=t("../../Script/lib/function"),r=t("../../Script/loading"),s=t("../../Script/plugin/eventListen"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalBet=null,e.win=null,e.balance=null,e.marqueeNode=null,e.marqueeLabel=null,e.thief=null,e.marqueeText=null,e.nowType=6,e}return __extends(e,t),e.prototype.init=function(t){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return this.thiefEvent(),this.marqueeText=r.FontAsset.text.marquee,this.setText(i.win,n.strip(0)),n.isEmpty(t)?this.immeMsg({type:"0",key:"welcome",args:[]}):this.immeMsg({type:"0",key:"steal",args:[n.GetStealName()]}),this.activeRandomMsg(!0),[2]})})},e.prototype.thiefEvent=function(){var t=this;this.thief.addComponent(s.EventListener).subscribe("msg"),this.thief.on("msg",function(){return t.immeMsg({type:"4",key:"prevent",args:[n.GetStealName()]})})},e.prototype.setText=function(t,e){this[t].string=e},e.prototype.activeRandomMsg=function(t){t?this.schedule(this.randomMsg,10):this.unschedule(this.randomMsg)},e.prototype.activeMarquee=function(t){this.marqueeNode.active=t,this.activeRandomMsg(t)},e.prototype.randomMsg=function(){if(6===this.nowType)if(10===n.random(1,10))this.thief.getComponent(cc.Animation).play();else{var t=this.marqueeText[5].length,e=this.marqueeText[5][n.random(0,t-1)];this.marqueeMsg(e)}},e.prototype.marqueeMsg=function(t){var e=this.marqueeLabel.node;this.resetMarquee(),this.marqueeLabel.string=t,e.x=200,e.opacity=255,e.runAction(cc.moveBy(3*e.width/200,-3*e.width,0))},e.prototype.immeMsg=function(t){return __awaiter(this,void 0,void 0,function(){var e,o,i=this;return __generator(this,function(r){return this.nowType<Number(t.type)?[2]:(this.resetMarquee(),this.nowType=Number(t.type),e=this.marqueeLabel.node,o=this.marqueeText[t.type][t.key],o=n.messageArgs(o,t.args),this.marqueeLabel.string=o,e.x=-185,e.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(.5),cc.moveBy(e.width/100,-2*e.width,0),cc.callFunc(function(){return i.nowType=6}))),[2])})})},e.prototype.resetMarquee=function(){this.marqueeLabel.string="",this.marqueeLabel.node.stopAllActions(),this.marqueeLabel.node.opacity=0},__decorate([u(cc.Label)],e.prototype,"totalBet",void 0),__decorate([u(cc.Label)],e.prototype,"win",void 0),__decorate([u(cc.Label)],e.prototype,"balance",void 0),__decorate([u(cc.Node)],e.prototype,"marqueeNode",void 0),__decorate([u(cc.Label)],e.prototype,"marqueeLabel",void 0),__decorate([u(cc.Node)],e.prototype,"thief",void 0),e=__decorate([c],e)}(cc.Component);o.default=p,function(t){t.totalBet="totalBet",t.win="win",t.balance="balance",t.marquee="marquee"}(i=o.wordEnum||(o.wordEnum={})),cc._RF.pop()},{"../../Script/lib/function":"function","../../Script/loading":"loading","../../Script/plugin/eventListen":"eventListen"}],ws_data:[function(t,e,o){"use strict";cc._RF.push(e,"95dfe5IxhdKJ4hrRnsGxxNS","ws_data"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ws:[function(t,e,o){"use strict";cc._RF.push(e,"163fdTq6OJGEZor51Ic3ezN","ws"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./config"),n=cc._decorator,r=n.ccclass,s=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.send=function(t,e){void 0===e&&(e={});var o={protocol:""+t,data:e};try{this.ws.send(JSON.stringify(o))}catch(t){console.error(t)}},e.prototype.login=function(){var t={token:i.urlConfig.skey,pskey:i.urlConfig.usid,gid:i.urlConfig.gid,currency:i.urlConfig.currency};this.send("Login",t)},e.prototype.connect=function(){var t=this,e="https:"===location.protocol?"wss:":"ws:";this.ws=new WebSocket(e+"//"+i.urlConfig.url),this.ws.onopen=function(){return t.login()},this.ws.onmessage=function(e){return t.emit(a.onmessage,e.data)},this.ws.onerror=function(e){return t.emit(a.onerror,e)},this.ws.onclose=function(e){return t.emit(a.onclose,e)}},e=__decorate([r],e)}(cc.EventTarget));o.WS=s;var a=function(){function t(){}return t.onmessage="onmessage",t.onerror="onerror",t.onclose="onclose",t}();o.WSEvent=a,cc._RF.pop()},{"./config":"config"}]},{},["background","book","farm","weather","bonus","Eyecatch","harverst","modal","setting","lines","slot","slot_line","slot_roll","touch","button","info","word","win","crop","Symbol","config","debug","game_master","AudioBox","dispatch.event.name","fakeData","function","spine.function","ws_data","loading","main","model","eventListen","playSound","randomPlay","soundEvent","translator","ws"]);